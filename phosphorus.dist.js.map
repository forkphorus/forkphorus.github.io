{"version":3,"file":"phosphorus.dist.js","sourceRoot":"","sources":["phosphorus/phosphorus.ts","phosphorus/config.ts","phosphorus/audio.ts","phosphorus/matrix.ts","phosphorus/renderer.ts","phosphorus/core.ts","phosphorus/fonts.ts","phosphorus/io.ts","phosphorus/runtime.ts","phosphorus/utils.ts","phosphorus/sb2.ts","phosphorus/sb3.ts","phosphorus/extensions/extension.ts","phosphorus/extensions/microphone.ts","phosphorus/extensions/speech2text.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\nForkphorus: A JavaScript compiler for Scratch 2 and 3 projects.\n(A fork of phosphorus)\n\nNote: phosphorus.dist.js is automatically generated from the `phosphorus` folder.\nSee the README for more information.\n\nThe MIT License (MIT)\n\nCopyright (c) 2013-2017 Nathan Dinsmore\nCopyright (c) 2019 Thomas Weber\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\ninterface ObjectMap<V> {\n  [key: string]: V;\n}\n\nif (!('Promise' in window)) {\n  throw new Error('Browser does not support Promise');\n}\n","/// <reference path=\"phosphorus.ts\" />\n\nnamespace P.config {\n  const features = location.search.replace('?', '').split('&');\n  export const debug = features.indexOf('debug') > -1;\n  export const useWebGL = features.indexOf('webgl') > -1;\n  export const useCrashMonitor = features.indexOf('crashmonitor') > -1;\n  export const supportVideoSensing = features.indexOf('video') > -1;\n  export const experimentalOptimizations = features.indexOf('opt') > -1;\n\n  export const scale = window.devicePixelRatio || 1;\n  export const PROJECT_API: string = 'https://projects.scratch.mit.edu/$id';\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"config.ts\" />\n\nnamespace P.audio {\n  export const context = (function(): AudioContext | null {\n    if ((window as any).AudioContext) {\n      return new AudioContext();\n    } else if ((window as any).webkitAudioContext) {\n      return new (window as any).webkitAudioContext();\n    } else {\n      return null;\n    }\n  })();\n\n  if (context) {\n    // TODO: customizable volume\n    var volume = 0.5;\n    var globalNode = context.createGain();\n    globalNode.gain.value = volume;\n    globalNode.connect(context.destination);\n  }\n\n  // Most things relating to Span are old things I don't understand and don't want to touch.\n  interface Span {\n    name: string;\n    loop: boolean;\n    loopStart: number | null;\n    loopEnd: number | null;\n    baseRatio: number;\n    attackEnd: number;\n    holdEnd: number;\n    decayEnd: number;\n    decayTime?: number;\n    top?: number;\n  }\n\n  /*\n    copy(JSON.stringify(drums.map(function(d) {\n      var decayTime = d[4] || 0;\n      var baseRatio = Math.pow(2, (60 - d[1] - 69) / 12);\n      if (d[2]) {\n        var length = d[3] - d[2];\n        baseRatio = 22050 * Math.round(length * 440 * baseRatio / 22050) / length / 440;\n      }\n      return {\n        name: d[0],\n        baseRatio: baseRatio,\n        loop: !!d[2],\n        loopStart: d[2] / 22050,\n        loopEnd: d[3] / 22050,\n        attackEnd: 0,\n        holdEnd: 0,\n        decayEnd: decayTime\n      }\n    }))\n  */\n  export const drums: Span[] = [\n    {name:'SnareDrum',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Tom',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'SideStick',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Crash',baseRatio:0.8908987181403393,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'HiHatOpen',baseRatio:0.9438743126816935,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'HiHatClosed',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Tambourine',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Clap',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Claves',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'WoodBlock',baseRatio:0.7491535384383408,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Cowbell',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Triangle',baseRatio:0.8514452780229479,loop:true,loopStart:0.7638548752834468,loopEnd:0.7825396825396825,attackEnd:0,holdEnd:0,decayEnd:2},\n    {name:'Bongo',baseRatio:0.5297315471796477,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Conga',baseRatio:0.7954545454545454,loop:true,loopStart:0.1926077097505669,loopEnd:0.20403628117913833,attackEnd:0,holdEnd:0,decayEnd:2},\n    {name:'Cabasa',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'GuiroLong',baseRatio:0.5946035575013605,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Vibraslap',baseRatio:0.8408964152537145,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0},\n    {name:'Cuica',baseRatio:0.7937005259840998,loop:false,loopStart:null,loopEnd:null,attackEnd:0,holdEnd:0,decayEnd:0}\n  ];\n\n  /*\n    copy(JSON.stringify(instruments.map(function(g) {\n      return g.map(function(r) {\n        var attackTime = r[5] ? r[5][0] * 0.001 : 0;\n        var holdTime = r[5] ? r[5][1] * 0.001 : 0;\n        var decayTime = r[5] ? r[5][2] : 0;\n        var baseRatio = Math.pow(2, (r[2] - 69) / 12);\n        if (r[3] !== -1) {\n          var length = r[4] - r[3];\n          baseRatio = 22050 * Math.round(length * 440 * baseRatio / 22050) / length / 440;\n        }\n        return {\n          top: r[0],\n          name: r[1],\n          baseRatio: baseRatio,\n          loop: r[3] !== -1,\n          loopStart: r[3] / 22050,\n          loopEnd: r[4] / 22050,\n          attackEnd: attackTime,\n          holdEnd: attackTime + holdTime,\n          decayEnd: attackTime + holdTime + decayTime\n        }\n      })\n    }))\n  */\n  export const instruments: Span[][] = [\n    [\n      {top:38,name:'AcousticPiano_As3',baseRatio:0.5316313272700484,loop:true,loopStart:0.465578231292517,loopEnd:0.7733786848072562,attackEnd:0,holdEnd:0.1,decayEnd:22.1},\n      {top:44,name:'AcousticPiano_C4',baseRatio:0.5905141892259927,loop:true,loopStart:0.6334693877551021,loopEnd:0.8605442176870748,attackEnd:0,holdEnd:0.1,decayEnd:20.1},\n      {top:51,name:'AcousticPiano_G4',baseRatio:0.8843582887700535,loop:true,loopStart:0.5532879818594104,loopEnd:0.5609977324263039,attackEnd:0,holdEnd:0.08,decayEnd:18.08},\n      {top:62,name:'AcousticPiano_C6',baseRatio:2.3557692307692304,loop:true,loopStart:0.5914739229024943,loopEnd:0.6020861678004535,attackEnd:0,holdEnd:0.08,decayEnd:16.08},\n      {top:70,name:'AcousticPiano_F5',baseRatio:1.5776515151515151,loop:true,loopStart:0.5634920634920635,loopEnd:0.5879818594104308,attackEnd:0,holdEnd:0.04,decayEnd:14.04},\n      {top:77,name:'AcousticPiano_Ds6',baseRatio:2.800762112139358,loop:true,loopStart:0.560907029478458,loopEnd:0.5836281179138322,attackEnd:0,holdEnd:0.02,decayEnd:10.02},\n      {top:85,name:'AcousticPiano_Ds6',baseRatio:2.800762112139358,loop:true,loopStart:0.560907029478458,loopEnd:0.5836281179138322,attackEnd:0,holdEnd:0,decayEnd:8},\n      {top:90,name:'AcousticPiano_Ds6',baseRatio:2.800762112139358,loop:true,loopStart:0.560907029478458,loopEnd:0.5836281179138322,attackEnd:0,holdEnd:0,decayEnd:6},\n      {top:96,name:'AcousticPiano_D7',baseRatio:5.275119617224881,loop:true,loopStart:0.3380498866213152,loopEnd:0.34494331065759637,attackEnd:0,holdEnd:0,decayEnd:3},\n      {top:128,name:'AcousticPiano_D7',baseRatio:5.275119617224881,loop:true,loopStart:0.3380498866213152,loopEnd:0.34494331065759637,attackEnd:0,holdEnd:0,decayEnd:2}\n    ], [\n      {top:48,name:'ElectricPiano_C2',baseRatio:0.14870515241435123,loop:true,loopStart:0.6956009070294784,loopEnd:0.7873015873015873,attackEnd:0,holdEnd:0.08,decayEnd:10.08},\n      {top:74,name:'ElectricPiano_C4',baseRatio:0.5945685670261941,loop:true,loopStart:0.5181859410430839,loopEnd:0.5449433106575964,attackEnd:0,holdEnd:0.04,decayEnd:8.04},\n      {top:128,name:'ElectricPiano_C4',baseRatio:0.5945685670261941,loop:true,loopStart:0.5181859410430839,loopEnd:0.5449433106575964,attackEnd:0,holdEnd:0,decayEnd:6}\n    ], [\n      {top:128,name:'Organ_G2',baseRatio:0.22283731584620914,loop:true,loopStart:0.05922902494331066,loopEnd:0.1510204081632653,attackEnd:0,holdEnd:0,decayEnd:0}\n    ],[{top:40,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:15},\n      {top:56,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:13.5},\n      {top:60,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:12},\n      {top:67,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:8.5},\n      {top:72,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:7},\n      {top:83,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:5.5},\n      {top:128,name:'AcousticGuitar_F3',baseRatio:0.3977272727272727,loop:true,loopStart:1.6628117913832199,loopEnd:1.6685260770975057,attackEnd:0,holdEnd:0,decayEnd:4.5}\n    ], [\n      {top:40,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358,attackEnd:0,holdEnd:0,decayEnd:15},\n      {top:56,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:13.5},\n      {top:60,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:12},\n      {top:67,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:8.5},\n      {top:72,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:7},\n      {top:83,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:5.5},\n      {top:128,name:'ElectricGuitar_F3',baseRatio:0.39615522817103843,loop:true,loopStart:1.5733333333333333,loopEnd:1.5848072562358277,attackEnd:0,holdEnd:0,decayEnd:4.5}\n    ], [\n      {top:34,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:17},\n      {top:48,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:14},\n      {top:64,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:12},\n      {top:128,name:'ElectricBass_G1',baseRatio:0.11111671034065712,loop:true,loopStart:1.9007709750566892,loopEnd:1.9212244897959183,attackEnd:0,holdEnd:0,decayEnd:10}\n    ], [\n      {top:38,name:'Pizz_G2',baseRatio:0.21979665071770335,loop:true,loopStart:0.3879365079365079,loopEnd:0.3982766439909297,attackEnd:0,holdEnd:0,decayEnd:5},\n      {top:45,name:'Pizz_G2',baseRatio:0.21979665071770335,loop:true,loopStart:0.3879365079365079,loopEnd:0.3982766439909297,attackEnd:0,holdEnd:0.012,decayEnd:4.012},\n      {top:56,name:'Pizz_A3',baseRatio:0.503654636820466,loop:true,loopStart:0.5197278911564626,loopEnd:0.5287528344671202,attackEnd:0,holdEnd:0,decayEnd:4},\n      {top:64,name:'Pizz_A3',baseRatio:0.503654636820466,loop:true,loopStart:0.5197278911564626,loopEnd:0.5287528344671202,attackEnd:0,holdEnd:0,decayEnd:3.2},\n      {top:72,name:'Pizz_E4',baseRatio:0.7479647218453188,loop:true,loopStart:0.7947845804988662,loopEnd:0.7978231292517007,attackEnd:0,holdEnd:0,decayEnd:2.8},\n      {top:80,name:'Pizz_E4',baseRatio:0.7479647218453188,loop:true,loopStart:0.7947845804988662,loopEnd:0.7978231292517007,attackEnd:0,holdEnd:0,decayEnd:2.2},\n      {top:128,name:'Pizz_E4',baseRatio:0.7479647218453188,loop:true,loopStart:0.7947845804988662,loopEnd:0.7978231292517007,attackEnd:0,holdEnd:0,decayEnd:1.5}\n    ], [\n      {top:41,name:'Cello_C2',baseRatio:0.14870515241435123,loop:true,loopStart:0.3876643990929705,loopEnd:0.40294784580498866,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:52,name:'Cello_As2',baseRatio:0.263755980861244,loop:true,loopStart:0.3385487528344671,loopEnd:0.35578231292517004,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:62,name:'Violin_D4',baseRatio:0.6664047388781432,loop:true,loopStart:0.48108843537414964,loopEnd:0.5151927437641723,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:75,name:'Violin_A4',baseRatio:0.987460815047022,loop:true,loopStart:0.14108843537414967,loopEnd:0.15029478458049886,attackEnd:0.07,holdEnd:0.07,decayEnd:0.07},\n      {top:128,name:'Violin_E5',baseRatio:1.4885238523852387,loop:true,loopStart:0.10807256235827664,loopEnd:0.1126530612244898,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:30,name:'BassTrombone_A2_3',baseRatio:0.24981872564125807,loop:true,loopStart:0.061541950113378686,loopEnd:0.10702947845804989,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:40,name:'BassTrombone_A2_2',baseRatio:0.24981872564125807,loop:true,loopStart:0.08585034013605441,loopEnd:0.13133786848072562,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:55,name:'Trombone_B3',baseRatio:0.5608240680183126,loop:true,loopStart:0.12,loopEnd:0.17673469387755103,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:88,name:'Trombone_B3',baseRatio:0.5608240680183126,loop:true,loopStart:0.12,loopEnd:0.17673469387755103,attackEnd:0.05,holdEnd:0.05,decayEnd:0.05},\n      {top:128,name:'Trumpet_E5',baseRatio:1.4959294436906376,loop:true,loopStart:0.1307936507936508,loopEnd:0.14294784580498865,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:128,name:'Clarinet_C4',baseRatio:0.5940193965517241,loop:true,loopStart:0.6594104308390023,loopEnd:0.7014965986394558,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:40,name:'TenorSax_C3',baseRatio:0.2971698113207547,loop:true,loopStart:0.4053968253968254,loopEnd:0.4895238095238095,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:50,name:'TenorSax_C3',baseRatio:0.2971698113207547,loop:true,loopStart:0.4053968253968254,loopEnd:0.4895238095238095,attackEnd:0.02,holdEnd:0.02,decayEnd:0.02},\n      {top:59,name:'TenorSax_C3',baseRatio:0.2971698113207547,loop:true,loopStart:0.4053968253968254,loopEnd:0.4895238095238095,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:67,name:'AltoSax_A3',baseRatio:0.49814747876378096,loop:true,loopStart:0.3875736961451247,loopEnd:0.4103854875283447,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:75,name:'AltoSax_A3',baseRatio:0.49814747876378096,loop:true,loopStart:0.3875736961451247,loopEnd:0.4103854875283447,attackEnd:0.02,holdEnd:0.02,decayEnd:0.02},\n      {top:80,name:'AltoSax_A3',baseRatio:0.49814747876378096,loop:true,loopStart:0.3875736961451247,loopEnd:0.4103854875283447,attackEnd:0.02,holdEnd:0.02,decayEnd:0.02},\n      {top:128,name:'AltoSax_C6',baseRatio:2.3782742681047764,loop:true,loopStart:0.05705215419501134,loopEnd:0.0838095238095238,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:61,name:'Flute_B5_2',baseRatio:2.255113636363636,loop:true,loopStart:0.08430839002267573,loopEnd:0.10244897959183673,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:128,name:'Flute_B5_1',baseRatio:2.255113636363636,loop:true,loopStart:0.10965986394557824,loopEnd:0.12780045351473923,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:128,name:'WoodenFlute_C5',baseRatio:1.1892952324548416,loop:true,loopStart:0.5181859410430839,loopEnd:0.7131065759637188,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:57,name:'Bassoon_C3',baseRatio:0.29700969827586204,loop:true,loopStart:0.11011337868480725,loopEnd:0.19428571428571428,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:67,name:'Bassoon_C3',baseRatio:0.29700969827586204,loop:true,loopStart:0.11011337868480725,loopEnd:0.19428571428571428,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:76,name:'Bassoon_C3',baseRatio:0.29700969827586204,loop:true,loopStart:0.11011337868480725,loopEnd:0.19428571428571428,attackEnd:0.08,holdEnd:0.08,decayEnd:0.08},\n      {top:84,name:'EnglishHorn_F3',baseRatio:0.39601293103448276,loop:true,loopStart:0.341859410430839,loopEnd:0.4049886621315193,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:128,name:'EnglishHorn_D4',baseRatio:0.6699684005833739,loop:true,loopStart:0.22027210884353743,loopEnd:0.23723356009070296,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:39,name:'Choir_F3',baseRatio:0.3968814788643197,loop:true,loopStart:0.6352380952380953,loopEnd:1.8721541950113378,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:50,name:'Choir_F3',baseRatio:0.3968814788643197,loop:true,loopStart:0.6352380952380953,loopEnd:1.8721541950113378,attackEnd:0.04,holdEnd:0.04,decayEnd:0.04},\n      {top:61,name:'Choir_F3',baseRatio:0.3968814788643197,loop:true,loopStart:0.6352380952380953,loopEnd:1.8721541950113378,attackEnd:0.06,holdEnd:0.06,decayEnd:0.06},\n      {top:72,name:'Choir_F4',baseRatio:0.7928898424161845,loop:true,loopStart:0.7415419501133786,loopEnd:2.1059410430839,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:128,name:'Choir_F5',baseRatio:1.5879576065654504,loop:true,loopStart:0.836281179138322,loopEnd:2.0585487528344673,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:38,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.1,decayEnd:8.1},\n      {top:48,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.1,decayEnd:7.6},\n      {top:59,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.06,decayEnd:7.06},\n      {top:70,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.04,decayEnd:6.04},\n      {top:78,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0.02,decayEnd:5.02},\n      {top:86,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0,decayEnd:4},\n      {top:128,name:'Vibraphone_C3',baseRatio:0.29829545454545453,loop:true,loopStart:0.2812698412698413,loopEnd:0.28888888888888886,attackEnd:0,holdEnd:0,decayEnd:3}\n    ], [\n      {top:128,name:'MusicBox_C4',baseRatio:0.5937634640241276,loop:true,loopStart:0.6475283446712018,loopEnd:0.6666666666666666,attackEnd:0,holdEnd:0,decayEnd:2}\n    ], [\n      {top:128,name:'SteelDrum_D5',baseRatio:1.3660402567543959,loop:false,loopStart:-0.000045351473922902495,loopEnd:-0.000045351473922902495,attackEnd:0,holdEnd:0,decayEnd:2}\n    ],[\n      {top:128,name:'Marimba_C4',baseRatio:0.5946035575013605,loop:false,loopStart:-0.000045351473922902495,loopEnd:-0.000045351473922902495,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:80,name:'SynthLead_C4',baseRatio:0.5942328422565577,loop:true,loopStart:0.006122448979591836,loopEnd:0.06349206349206349,attackEnd:0,holdEnd:0,decayEnd:0},\n      {top:128,name:'SynthLead_C6',baseRatio:2.3760775862068964,loop:true,loopStart:0.005623582766439909,loopEnd:0.01614512471655329,attackEnd:0,holdEnd:0,decayEnd:0}\n    ], [\n      {top:38,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.05,holdEnd:0.05,decayEnd:0.05},\n      {top:50,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.08,holdEnd:0.08,decayEnd:0.08},\n      {top:62,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.11,holdEnd:0.11,decayEnd:0.11},\n      {top:74,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.15,holdEnd:0.15,decayEnd:0.15},\n      {top:86,name:'SynthPad_A3',baseRatio:0.4999105065330231,loop:true,loopStart:0.1910204081632653,loopEnd:3.9917006802721087,attackEnd:0.2,holdEnd:0.2,decayEnd:0.2},\n      {top:128,name:'SynthPad_C6',baseRatio:2.3820424708835755,loop:true,loopStart:0.11678004535147392,loopEnd:0.41732426303854875,attackEnd:0,holdEnd:0,decayEnd:0}\n    ]\n  ];\n\n  const SOUNDBANK_URL = '/soundbank/';\n  const SOUNDBANK_FILES = {\n    'AcousticGuitar_F3': 'instruments/AcousticGuitar_F3_22k.wav',\n    'AcousticPiano_As3': 'instruments/AcousticPiano(5)_A%233_22k.wav',\n    'AcousticPiano_C4': 'instruments/AcousticPiano(5)_C4_22k.wav',\n    'AcousticPiano_G4': 'instruments/AcousticPiano(5)_G4_22k.wav',\n    'AcousticPiano_F5': 'instruments/AcousticPiano(5)_F5_22k.wav',\n    'AcousticPiano_C6': 'instruments/AcousticPiano(5)_C6_22k.wav',\n    'AcousticPiano_Ds6': 'instruments/AcousticPiano(5)_D%236_22k.wav',\n    'AcousticPiano_D7': 'instruments/AcousticPiano(5)_D7_22k.wav',\n    'AltoSax_A3': 'instruments/AltoSax_A3_22K.wav',\n    'AltoSax_C6': 'instruments/AltoSax(3)_C6_22k.wav',\n    'Bassoon_C3': 'instruments/Bassoon_C3_22k.wav',\n    'BassTrombone_A2_2': 'instruments/BassTrombone_A2(2)_22k.wav',\n    'BassTrombone_A2_3': 'instruments/BassTrombone_A2(3)_22k.wav',\n    'Cello_C2': 'instruments/Cello(3b)_C2_22k.wav',\n    'Cello_As2': 'instruments/Cello(3)_A%232_22k.wav',\n    'Choir_F3': 'instruments/Choir(4)_F3_22k.wav',\n    'Choir_F4': 'instruments/Choir(4)_F4_22k.wav',\n    'Choir_F5': 'instruments/Choir(4)_F5_22k.wav',\n    'Clarinet_C4': 'instruments/Clarinet_C4_22k.wav',\n    'ElectricBass_G1': 'instruments/ElectricBass(2)_G1_22k.wav',\n    'ElectricGuitar_F3': 'instruments/ElectricGuitar(2)_F3(1)_22k.wav',\n    'ElectricPiano_C2': 'instruments/ElectricPiano_C2_22k.wav',\n    'ElectricPiano_C4': 'instruments/ElectricPiano_C4_22k.wav',\n    'EnglishHorn_D4': 'instruments/EnglishHorn(1)_D4_22k.wav',\n    'EnglishHorn_F3': 'instruments/EnglishHorn(1)_F3_22k.wav',\n    'Flute_B5_1': 'instruments/Flute(3)_B5(1)_22k.wav',\n    'Flute_B5_2': 'instruments/Flute(3)_B5(2)_22k.wav',\n    'Marimba_C4': 'instruments/Marimba_C4_22k.wav',\n    'MusicBox_C4': 'instruments/MusicBox_C4_22k.wav',\n    'Organ_G2': 'instruments/Organ(2)_G2_22k.wav',\n    'Pizz_A3': 'instruments/Pizz(2)_A3_22k.wav',\n    'Pizz_E4': 'instruments/Pizz(2)_E4_22k.wav',\n    'Pizz_G2': 'instruments/Pizz(2)_G2_22k.wav',\n    'SteelDrum_D5': 'instruments/SteelDrum_D5_22k.wav',\n    'SynthLead_C4': 'instruments/SynthLead(6)_C4_22k.wav',\n    'SynthLead_C6': 'instruments/SynthLead(6)_C6_22k.wav',\n    'SynthPad_A3': 'instruments/SynthPad(2)_A3_22k.wav',\n    'SynthPad_C6': 'instruments/SynthPad(2)_C6_22k.wav',\n    'TenorSax_C3': 'instruments/TenorSax(1)_C3_22k.wav',\n    'Trombone_B3': 'instruments/Trombone_B3_22k.wav',\n    'Trumpet_E5': 'instruments/Trumpet_E5_22k.wav',\n    'Vibraphone_C3': 'instruments/Vibraphone_C3_22k.wav',\n    'Violin_D4': 'instruments/Violin(2)_D4_22K.wav',\n    'Violin_A4': 'instruments/Violin(3)_A4_22k.wav',\n    'Violin_E5': 'instruments/Violin(3b)_E5_22k.wav',\n    'WoodenFlute_C5': 'instruments/WoodenFlute_C5_22k.wav',\n    'BassDrum': 'drums/BassDrum(1b)_22k.wav',\n    'Bongo': 'drums/Bongo_22k.wav',\n    'Cabasa': 'drums/Cabasa(1)_22k.wav',\n    'Clap': 'drums/Clap(1)_22k.wav',\n    'Claves': 'drums/Claves(1)_22k.wav',\n    'Conga': 'drums/Conga(1)_22k.wav',\n    'Cowbell': 'drums/Cowbell(3)_22k.wav',\n    'Crash': 'drums/Crash(2)_22k.wav',\n    'Cuica': 'drums/Cuica(2)_22k.wav',\n    'GuiroLong': 'drums/GuiroLong(1)_22k.wav',\n    'GuiroShort': 'drums/GuiroShort(1)_22k.wav',\n    'HiHatClosed': 'drums/HiHatClosed(1)_22k.wav',\n    'HiHatOpen': 'drums/HiHatOpen(2)_22k.wav',\n    'HiHatPedal': 'drums/HiHatPedal(1)_22k.wav',\n    'Maracas': 'drums/Maracas(1)_22k.wav',\n    'SideStick': 'drums/SideStick(1)_22k.wav',\n    'SnareDrum': 'drums/SnareDrum(1)_22k.wav',\n    'Tambourine': 'drums/Tambourine(3)_22k.wav',\n    'Tom': 'drums/Tom(1)_22k.wav',\n    'Triangle': 'drums/Triangle(1)_22k.wav',\n    'Vibraslap': 'drums/Vibraslap(1)_22k.wav',\n    'WoodBlock': 'drums/WoodBlock(1)_22k.wav'\n  };\n  const soundbank: {[s: string]: AudioBuffer} = {};\n\n  /**\n   * Loads missing soundbank files, if any.\n   */\n  export function loadSB2Soundbank(hooks: P.sb2.Hooks): Promise<any> {\n    if (!context) return Promise.resolve();\n\n    const promises: any[] = [];\n    for (const name in SOUNDBANK_FILES) {\n      if (!soundbank[name]) {\n        hooks.newTask();\n        promises.push(loadSoundbankBuffer(name).then((v) => {\n          hooks.endTask();\n          return v;\n        }));\n      }\n    }\n\n    return Promise.all(promises);\n  }\n\n  /**\n   * Loads a soundbank file\n   */\n  function loadSoundbankBuffer(name: string): Promise<AudioBuffer> {\n    return new P.IO.ArrayBufferRequest(SOUNDBANK_URL + SOUNDBANK_FILES[name], {local: true}).load()\n      .then((buffer) => P.audio.decodeAudio(buffer))\n      .then((sound) => soundbank[name] = sound);\n  }\n\n  export function playSpan(span: Span, key: number, duration: number, connection: AudioNode) {\n    if (!context) {\n      return;\n    }\n\n    const buffer = soundbank[span.name];\n    if (!buffer) {\n      return;\n    }\n\n    const source = context.createBufferSource();\n    const note = context.createGain();\n\n    source.buffer = buffer;\n    if (source.loop = span.loop) {\n      source.loopStart = span.loopStart as number;\n      source.loopEnd = span.loopEnd as number;\n    }\n\n    source.connect(note);\n    note.connect(connection);\n\n    const time = context.currentTime;\n    source.playbackRate.value = Math.pow(2, (key - 69) / 12) / span.baseRatio;\n\n    const gain = note.gain;\n    gain.value = 0;\n    gain.setValueAtTime(0, time);\n    if (span.attackEnd < duration) {\n      gain.linearRampToValueAtTime(1, time + span.attackEnd);\n      if ((span.decayTime as any) > 0 && span.holdEnd < duration) {\n        gain.linearRampToValueAtTime(1, time + span.holdEnd);\n        if (span.decayEnd < duration) {\n          gain.linearRampToValueAtTime(0, time + span.decayEnd);\n        } else {\n          gain.linearRampToValueAtTime(1 - (duration - span.holdEnd) / span.decayTime!, time + duration);\n        }\n      } else {\n        gain.linearRampToValueAtTime(1, time + duration);\n      }\n    } else {\n      gain.linearRampToValueAtTime(1, time + duration);\n    }\n    gain.linearRampToValueAtTime(0, time + duration + 0.02267573696);\n\n    source.start(time);\n    source.stop(time + duration + 0.02267573696);\n  }\n\n  /**\n   * Connect an audio node\n   */\n  export function connectNode(node: AudioNode) {\n    node.connect(globalNode);\n  }\n\n  const ADPCM_STEPS = [\n    7, 8, 9, 10, 11, 12, 13, 14, 16, 17,\n    19, 21, 23, 25, 28, 31, 34, 37, 41, 45,\n    50, 55, 60, 66, 73, 80, 88, 97, 107, 118,\n    130, 143, 157, 173, 190, 209, 230, 253, 279, 307,\n    337, 371, 408, 449, 494, 544, 598, 658, 724, 796,\n    876, 963, 1060, 1166, 1282, 1411, 1552, 1707, 1878, 2066,\n    2272, 2499, 2749, 3024, 3327, 3660, 4026, 4428, 4871, 5358,\n    5894, 6484, 7132, 7845, 8630, 9493, 10442, 11487, 12635, 13899,\n    15289, 16818, 18500, 20350, 22385, 24623, 27086, 29794, 32767,\n  ];\n  const ADPCM_INDEX = [-1, -1, -1, -1, 2, 4, 6, 8, -1, -1, -1, -1, 2, 4, 6, 8];\n\n  function decodeADPCMAudio(ab: ArrayBuffer, cb) {\n    var dv = new DataView(ab);\n    if (dv.getUint32(0) !== 0x52494646 || dv.getUint32(8) !== 0x57415645) {\n      return cb(new Error('Unrecognized audio format'));\n    }\n\n    var blocks: ObjectMap<number> = {};\n    var i = 12, l = dv.byteLength - 8;\n    while (i < l) {\n      blocks[String.fromCharCode(\n        dv.getUint8(i),\n        dv.getUint8(i + 1),\n        dv.getUint8(i + 2),\n        dv.getUint8(i + 3))] = i;\n      i += 8 + dv.getUint32(i + 4, true);\n    }\n\n    var format        = dv.getUint16(20, true);\n    var channels      = dv.getUint16(22, true);\n    var sampleRate    = dv.getUint32(24, true);\n    var byteRate      = dv.getUint32(28, true);\n    var blockAlign    = dv.getUint16(32, true);\n    var bitsPerSample = dv.getUint16(34, true);\n\n    if (format === 17) {\n      var samplesPerBlock = dv.getUint16(38, true);\n      var blockSize = ((samplesPerBlock - 1) / 2) + 4;\n\n      var frameCount = dv.getUint32(blocks.fact + 8, true);\n\n      var buffer = context!.createBuffer(1, frameCount, sampleRate);\n      var channel = buffer.getChannelData(0);\n\n      var sample, index = 0;\n      var step, code, delta;\n      var lastByte = -1;\n\n      var offset = blocks.data + 8;\n      i = offset;\n      var j = 0;\n      while (true) {\n        if ((((i - offset) % blockSize) == 0) && (lastByte < 0)) {\n          if (i >= dv.byteLength) break;\n          sample = dv.getInt16(i, true); i += 2;\n          index = dv.getUint8(i); i += 1;\n          i++;\n          if (index > 88) index = 88;\n          channel[j++] = sample / 32767;\n        } else {\n          if (lastByte < 0) {\n            if (i >= dv.byteLength) break;\n            lastByte = dv.getUint8(i); i += 1;\n            code = lastByte & 0xf;\n          } else {\n            code = (lastByte >> 4) & 0xf;\n            lastByte = -1;\n          }\n          step = ADPCM_STEPS[index];\n          delta = 0;\n          if (code & 4) delta += step;\n          if (code & 2) delta += step >> 1;\n          if (code & 1) delta += step >> 2;\n          delta += step >> 3;\n          index += ADPCM_INDEX[code];\n          if (index > 88) index = 88;\n          if (index < 0) index = 0;\n          sample += (code & 8) ? -delta : delta;\n          if (sample > 32767) sample = 32767;\n          if (sample < -32768) sample = -32768;\n          channel[j++] = sample / 32768;\n        }\n      }\n      return cb(null, buffer);\n    }\n    cb(new Error('Unrecognized WAV format ' + format));\n  }\n\n  export function decodeAudio(ab: ArrayBuffer): Promise<AudioBuffer> {\n    if (!context) {\n      return Promise.reject('No audio context');\n    }\n\n    return new Promise((resolve, reject) => {\n      decodeADPCMAudio(ab, function(err1: any, buffer: AudioBuffer) {\n        if (buffer) {\n          resolve(buffer);\n          return;\n        }\n\n        // Hope that the audio context will know what to do\n        audio.context!.decodeAudioData(ab, function(buffer) {\n          resolve(buffer);\n        }, function(err2) {\n          reject(`Could not decode audio: ${err1} | ${err2}`);\n        });\n      });\n    });\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n\nnamespace P.m3 {\n  // Most of this is heavily based on:\n  // https://webglfundamentals.org/webgl/lessons/webgl-2d-matrices.html\n  // Eventually I want to move this to the shader itself.\n\n  export type Matrix3 = [\n    number, number, number,\n    number, number, number,\n    number, number, number\n  ];\n\n  /**\n   * Multiplies two 3x3 matrices together\n   * @param out The first matrix. The result will be stored here.\n   * @param other The second matrix.\n   */\n  export function multiply(out: Matrix3, other: Matrix3) {\n    const a0 = out[0];\n    const a1 = out[1];\n    const a2 = out[2];\n    const a3 = out[3];\n    const a4 = out[4];\n    const a5 = out[5];\n    const a6 = out[6];\n    const a7 = out[7];\n    const a8 = out[8];\n    const b0 = other[0];\n    const b1 = other[1];\n    const b2 = other[2];\n    const b3 = other[3];\n    const b4 = other[4];\n    const b5 = other[5];\n    const b6 = other[6];\n    const b7 = other[7];\n    const b8 = other[8];\n    out[0] = b0 * a0 + b1 * a3 + b2 * a6;\n    out[1] = b0 * a1 + b1 * a4 + b2 * a7;\n    out[2] = b0 * a2 + b1 * a5 + b2 * a8;\n    out[3] = b3 * a0 + b4 * a3 + b5 * a6;\n    out[4] = b3 * a1 + b4 * a4 + b5 * a7;\n    out[5] = b3 * a2 + b4 * a5 + b5 * a8;\n    out[6] = b6 * a0 + b7 * a3 + b8 * a6;\n    out[7] = b6 * a1 + b7 * a4 + b8 * a7;\n    out[8] = b6 * a2 + b7 * a5 + b8 * a8;\n  }\n\n  export function translation(x: number, y: number): Matrix3 {\n    return [\n      1, 0, 0,\n      0, 1, 0,\n      x, y, 1,\n    ];\n  }\n\n  export function rotation(degrees: number): Matrix3 {\n    const radians = degrees * Math.PI / 180;\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    return [\n      cos, -sin, 0,\n      sin, cos, 0,\n      0, 0, 1,\n    ];\n  }\n\n  export function scaling(x: number, y: number): Matrix3 {\n    return [\n      x, 0, 0,\n      0, y, 0,\n      0, 0, 1,\n    ];\n  }\n\n  export function projection(width: number, height: number): Matrix3 {\n    return [\n      2 / width, 0, 0,\n      0, -2 / height, 0,\n      -1, 1, 1,\n    ];\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"matrix.ts\" />\n\nnamespace P.renderer {\n  // Import aliases\n  import RotationStyle = P.core.RotationStyle;\n\n  export interface SpriteRenderer {\n    canvas: HTMLCanvasElement;\n    /**\n     * Draws a Sprite or Stage on this renderer\n     */\n    drawChild(child: P.core.Base): void;\n  }\n\n  export interface ProjectRenderer extends SpriteRenderer {\n    /**\n     * The stage that this renderer is used by.\n     * This renderer must only be used by this stage and with sprites within this stage.\n     */\n    stage: P.core.Stage;\n    /**\n     * Reset and draw a new frame.\n     */\n    drawFrame(): void;\n    /**\n     * Initialize this renderer and append its canvas(es) to a given root node.\n     */\n    init(root: HTMLElement): void;\n    /**\n     * Called when the filters on the stage have changed.\n     */\n    onStageFiltersChanged(): void;\n    /**\n     * Asks this renderer to resize itself.\n     * Renderer may choose what to resize and when.\n     */\n    resize(scale: number): void;\n    /**\n     * Draws a line on the pen canvas\n     * @param color Color of the line\n     * @param size Width of the line\n     * @param x Starting X coordinate in the Scratch coordinate grid\n     * @param y Starting Y coordinate in the Scratch coordinate grid\n     * @param x2 Ending X coordinate in the Scratch coordinate grid\n     * @param y2 Starting Y coordinate in the Scratch coordinate grid\n     */\n    penLine(color: string, size: number, x: number, y: number, x2: number, y2: number): void;\n    /**\n     * Draws a circular dot on the pen layer\n     * @param color Color of the dot\n     * @param size Diameter of the circle\n     * @param x Central X coordinate in the Scratch coordinate grid\n     * @param y Central Y coordinate in the Scratch coordinate grid\n     */\n    penDot(color: string, size: number, x: number, y: number): void;\n    /**\n     * Stamp a Sprite on the pen layer\n     */\n    penStamp(sprite: P.core.Sprite): void;\n    /**\n     * Clear the pen layer\n     */\n    penClear(): void;\n    /**\n     * Determines if a Sprite is intersecting a point\n     * @param sprite The sprite\n     * @param x X coordinate in the Scratch coordinate grid\n     * @param y Y coordinate in the Scratch coordinate grid\n     */\n    spriteTouchesPoint(sprite: P.core.Sprite, x: number, y: number): boolean;\n    /**\n     * Determines if a Sprite is touching another Sprite\n     * @param spriteA The first sprite\n     * @param spriteB Other sprites to test for collision\n     */\n    spritesIntersect(spriteA: P.core.Base, otherSprites: P.core.Base[]): boolean;\n    /**\n     * Determines if a Sprite is touching a color\n     * @param sprite The sprite\n     * @param color The RGB color, in number form.\n     */\n    spriteTouchesColor(sprite: P.core.Base, color: number): boolean;\n    /**\n     * Determines if a color from one object is touching a color\n     * @param sprite The sprite\n     * @param spriteColor The color on the Sprite\n     * @param otherColor The color on the rest of the stage\n     */\n    spriteColorTouchesColor(sprite: P.core.Base, spriteColor: number, otherColor: number): boolean;\n  }\n\n  // HELPERS\n\n  /**\n   * Create an HTML canvas with any type of context.\n   */\n  function createCanvas() {\n    const canvas = document.createElement('canvas');\n    canvas.width = 480;\n    canvas.height = 360;\n    return canvas;\n  }\n\n  /**\n   * Create an HTML canvas with a 2d context.\n   * Throws an error if a context cannot be obtained.\n   */\n  function create2dCanvas(): { canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D } {\n    const canvas = createCanvas();\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      throw new Error('Cannot get 2d rendering context');\n    }\n    ctx.imageSmoothingEnabled = false;\n    return { canvas, ctx };\n  }\n\n  /**\n   * Determines if a Sprite's filters will change its shape.\n   * @param filters The Sprite's filters\n   */\n  function filtersAffectShape(filters: P.core.Filters): boolean {\n    return filters.fisheye !== 0 ||\n      filters.mosaic !== 0 ||\n      filters.pixelate !== 0 ||\n      filters.whirl !== 0;\n  }\n\n  // WEBGL\n\n  // Used in the WebGL renderer for inverting sprites.\n  const horizontalInvertMatrix = P.m3.scaling(-1, 1);\n\n  // Extension of Costume to store the webgl textures\n  interface WebGLCostume extends P.core.Costume {\n    _glTexture: WebGLTexture;\n  }\n\n  class ShaderVariant {\n    protected uniformLocations: {[name: string]: WebGLUniformLocation} = {};\n    protected attributeLocations: {[name: string]: number} = {};\n\n    constructor(public gl: WebGLRenderingContext, public program: WebGLProgram) {\n      // When loaded we'll lookup all of our attributes and uniforms, and store\n      // their locations locally.\n      // WebGL can tell us how many there are, so we can do lookups.\n\n      const activeUniforms: number = gl.getProgramParameter(program, this.gl.ACTIVE_UNIFORMS);\n      for (let index = 0; index < activeUniforms; index++) {\n        const info = gl.getActiveUniform(program, index);\n        if (!info) {\n          throw new Error('uniform at index ' + index + ' does not exist');\n        }\n        const name = info.name;\n        const location = gl.getUniformLocation(program, name);\n        if (!location) {\n          throw new Error('uniform named ' + name + ' does not exist');\n        }\n        this.uniformLocations[name] = location;\n      }\n\n      const activeAttributes: number = gl.getProgramParameter(program, this.gl.ACTIVE_ATTRIBUTES);\n      for (let index = 0; index < activeAttributes; index++) {\n        const info = gl.getActiveAttrib(program, index);\n        if (!info) {\n          throw new Error('attribute at index ' + index + ' does not exist');\n        }\n        // Attribute index is location, I believe.\n        this.attributeLocations[info.name] = index;\n      }\n    }\n\n    /**\n     * Sets a uniform to a float\n     * @param name The name of the uniform\n     * @param value A float\n     */\n    uniform1f(name: string, value: number) {\n      const location = this.getUniform(name);\n      this.gl.uniform1f(location, value);\n    }\n\n    /**\n     * Sets a uniform to a vec2\n     * @param name The name of the uniform\n     * @param a The first value\n     * @param b The second value\n     */\n    uniform2f(name: string, a: number, b: number) {\n      const location = this.getUniform(name);\n      this.gl.uniform2f(location, a, b);\n    }\n\n    /**\n     * Sets a uniform to a vec4\n     * @param name The name of the uniform\n     * @param a The first value\n     * @param b The second value\n     */\n    uniform4f(name: string, a: number, b: number, c: number, d: number) {\n      const location = this.getUniform(name);\n      this.gl.uniform4f(location, a, b, c, d);\n    }\n\n    /**\n     * Sets a uniform to a 3x3 matrix\n     * @param name The name of the uniform\n     * @param value The 3x3 matrix\n     */\n    uniformMatrix3(name: string, value: P.m3.Matrix3) {\n      const location = this.getUniform(name);\n      this.gl.uniformMatrix3fv(location, false, value);\n    }\n\n    /**\n     * Determines if this shader variant contains a uniform.\n     * @param name The name of the uniform\n     */\n    hasUniform(name: string) {\n      return this.uniformLocations.hasOwnProperty(name);\n    }\n\n    /**\n     * Determines the location of a uniform, or errors if it does not exist.\n     * @param name The name of the uniform\n     */\n    getUniform(name: string): WebGLUniformLocation {\n      if (!this.hasUniform(name)) {\n        throw new Error('uniform of name ' + name + ' does not exist');\n      }\n      return this.uniformLocations[name];\n    }\n\n    /**\n     * Binds a buffer to an attribute\n     * @param name The name of the attribute\n     * @param value The WebGL buffer to bind\n     */\n    attributeBuffer(name: string, value: WebGLBuffer) {\n      if (!this.hasAttribute(name)) {\n        throw new Error('attribute of name ' + name + ' does not exist');\n      }\n      const location = this.attributeLocations[name];\n      this.gl.enableVertexAttribArray(location);\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, value);\n      this.gl.vertexAttribPointer(location, 2, this.gl.FLOAT, false, 0, 0);\n    }\n\n    /**\n     * Determines if this shader contains an attribute\n     * @param name The name of the attribute\n     */\n    hasAttribute(name: string) {\n      return this.attributeLocations.hasOwnProperty(name);\n    }\n\n    /**\n     * Determines the location of an attribute, and errors if it does not exist.\n     * @param name The name of the attribute\n     */\n    getAttribute(name: string) {\n      if (!this.hasAttribute(name)) {\n        throw new Error('attribute of name ' + name + ' does not exist');\n      }\n      return this.attributeLocations[name];\n    }\n  }\n\n  export class WebGLSpriteRenderer implements SpriteRenderer {\n    public static vertexShader: string = `\n    attribute vec2 a_position;\n    attribute vec2 a_texcoord;\n\n    uniform mat3 u_matrix;\n\n    varying vec2 v_texcoord;\n\n    void main() {\n      gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n      v_texcoord = a_texcoord;\n    }\n    `;\n\n    public static fragmentShader: string = `\n    precision mediump float;\n\n    varying vec2 v_texcoord;\n\n    uniform sampler2D u_texture;\n    #ifndef ONLY_SHAPE_FILTERS\n      uniform float u_brightness;\n      uniform float u_color;\n    #endif\n    uniform float u_opacity;\n    uniform float u_mosaic;\n    uniform float u_whirl;\n    uniform float u_fisheye;\n    uniform float u_pixelate;\n    uniform vec2 u_size;\n\n    const float minimumAlpha = 1.0 / 250.0;\n    const vec2 vecCenter = vec2(0.5, 0.5);\n\n    // http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl\n    vec3 rgb2hsv(vec3 c) {\n      vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n      vec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\n      vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\n      float d = q.x - min(q.w, q.y);\n      float e = 1.0e-10;\n      return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n    }\n    vec3 hsv2rgb(vec3 c) {\n      vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n      vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n      return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }\n\n    void main() {\n      // varyings cannot be modified\n      vec2 texcoord = v_texcoord;\n\n      // apply mosaic\n      {\n        texcoord = fract(u_mosaic * v_texcoord);\n      }\n\n      // apply pixelate\n      if (u_pixelate != 0.0) {\n        vec2 texelSize = u_size / u_pixelate;\n        texcoord = (floor(texcoord * texelSize) + vecCenter) / texelSize;\n      }\n\n      // apply whirl\n      {\n        const float radius = 0.5;\n        vec2 offset = texcoord - vecCenter;\n        float offsetMagnitude = length(offset);\n        float whirlFactor = max(1.0 - (offsetMagnitude / radius), 0.0);\n        float whirlActual = u_whirl * whirlFactor * whirlFactor;\n        float sinWhirl = sin(whirlActual);\n        float cosWhirl = cos(whirlActual);\n        mat2 rotationMatrix = mat2(\n          cosWhirl, -sinWhirl,\n          sinWhirl, cosWhirl\n        );\n        texcoord = rotationMatrix * offset + vecCenter;\n      }\n\n      // apply fisheye\n      {\n        vec2 vec = (texcoord - vecCenter) / vecCenter;\n        float vecLength = length(vec);\n        float r = pow(min(vecLength, 1.0), u_fisheye) * max(1.0, vecLength);\n        vec2 unit = vec / vecLength;\n        texcoord = vecCenter + r * unit * vecCenter;\n      }\n\n      vec4 color = texture2D(u_texture, texcoord);\n      if (color.a < minimumAlpha) {\n        discard;\n      }\n\n      // apply ghost effect\n      color.a *= u_opacity;\n\n      // apply brightness effect\n      #ifndef ONLY_SHAPE_FILTERS\n        color.rgb = clamp(color.rgb + vec3(u_brightness), 0.0, 1.0);\n      #endif\n\n      // The color effect is rather complicated. See:\n      // https://github.com/LLK/scratch-render/blob/008dc5b15b30961301e6b9a08628a063b967a001/src/shaders/sprite.frag#L175-L189\n      #ifndef ONLY_SHAPE_FILTERS\n      if (u_color != 0.0) {\n        vec3 hsv = rgb2hsv(color.rgb);\n        // hsv.x = hue\n        // hsv.y = saturation\n        // hsv.z = value\n\n        // scratch forces all colors to have some minimal amount saturation so there is a visual change\n        const float minValue = 0.11 / 2.0;\n        const float minSaturation = 0.09;\n        if (hsv.z < minValue) hsv = vec3(0.0, 1.0, minValue);\n        else if (hsv.y < minSaturation) hsv = vec3(0.0, minSaturation, hsv.z);\n\n        hsv.x = mod(hsv.x + u_color, 1.0);\n        if (hsv.x < 0.0) hsv.x += 1.0;\n        color = vec4(hsv2rgb(hsv), color.a);\n      }\n      #endif\n\n      gl_FragColor = color;\n    }\n    `;\n\n    public canvas: HTMLCanvasElement;\n    public gl: WebGLRenderingContext;\n\n    protected quadBuffer: WebGLBuffer;\n    protected globalScaleMatrix: P.m3.Matrix3 = P.m3.scaling(1, 1);\n    protected renderingShader: ShaderVariant;\n\n    constructor() {\n      this.canvas = createCanvas();\n      const gl = this.canvas.getContext('webgl', {\n        alpha: false,\n        antialias: false,\n      });\n      if (!gl) {\n        throw new Error('cannot get webgl rendering context');\n      }\n      this.gl = gl;\n\n      this.renderingShader = this.compileVariant([]);\n\n      // Enable blending\n      this.gl.enable(this.gl.BLEND);\n      this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n\n      // Create the quad buffer that we'll use for positioning and texture coordinates later.\n      this.quadBuffer = this.gl.createBuffer()!;\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.quadBuffer);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n        0, 0,\n        0, 1,\n        1, 0,\n        1, 0,\n        0, 1,\n        1, 1,\n      ]), this.gl.STATIC_DRAW);\n    }\n\n    /**\n     * Compile a single shader\n     * @param type The type of the shader. Use this.gl.VERTEX_SHADER or FRAGMENT_SHADER\n     * @param source The string source of the shader.\n     * @param definitions Flags to define in the shader source.\n     */\n    protected compileShader(type: number, source: string, definitions?: string[]): WebGLShader {\n      const addDefinition = (def: string) => {\n        source = '#define ' + def + '\\n' + source;\n      }\n      if (definitions) {\n        for (const def of definitions) {\n          addDefinition(def);\n        }\n      }\n\n      const shader = this.gl.createShader(type);\n      if (!shader) {\n        throw new Error('Cannot create shader');\n      }\n\n      this.gl.shaderSource(shader, source);\n      this.gl.compileShader(shader);\n\n      if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\n        const error = this.gl.getShaderInfoLog(shader);\n        this.gl.deleteShader(shader);\n        throw new Error('Shader compilation error: ' + error);\n      }\n\n      return shader;\n    }\n\n    /**\n     * Compiles a vertex shader and fragment shader into a program.\n     * @param vs Vertex shader source.\n     * @param fs Fragment shader source.\n     * @param definitions Things to define in the source of both shaders.\n     */\n    protected compileProgram(vs: string, fs: string, definitions?: string[]): WebGLProgram {\n      const vertexShader = this.compileShader(this.gl.VERTEX_SHADER, vs, definitions);\n      const fragmentShader = this.compileShader(this.gl.FRAGMENT_SHADER, fs, definitions);\n\n      const program = this.gl.createProgram();\n      if (!program) {\n        throw new Error('Cannot create program');\n      }\n      this.gl.attachShader(program, vertexShader);\n      this.gl.attachShader(program, fragmentShader);\n      this.gl.linkProgram(program);\n\n      if (!this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\n        const error = this.gl.getProgramInfoLog(program);\n        this.gl.deleteProgram(program);\n        throw new Error('Program compilation error: ' + error);\n      }\n\n      return program;\n    }\n\n    /**\n     * Compiles a variant of the default shader.\n     * @param definitions Things to define in the shader\n     */\n    protected compileVariant(definitions: string[]): ShaderVariant {\n      const program = this.compileProgram(WebGLSpriteRenderer.vertexShader, WebGLSpriteRenderer.fragmentShader, definitions);\n      return new ShaderVariant(this.gl, program);\n    }\n\n    /**\n     * Creates a new texture without inserting data.\n     * Texture will be bound to TEXTURE_2D, so you can texImage2D() on it\n     */\n    protected createTexture(): WebGLTexture {\n      const texture = this.gl.createTexture();\n      if (!texture) {\n        throw new Error('Cannot create texture');\n      }\n      this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n\n      return texture;\n    }\n\n    /**\n     * Converts a canvas to a WebGL texture\n     * @param canvas The source canvas. Dimensions do not matter.\n     */\n    protected convertToTexture(canvas: HTMLImageElement | HTMLCanvasElement): WebGLTexture {\n      const texture = this.createTexture();\n      this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, canvas);\n      return texture;\n    }\n\n    /**\n     * Creates a new framebuffer\n     */\n    protected createFramebuffer(): WebGLFramebuffer {\n      const frameBuffer = this.gl.createFramebuffer();\n      if (!frameBuffer) {\n        throw new Error('cannot create frame buffer');\n      }\n      return frameBuffer;\n    }\n\n    /**\n     * Reset and resize this renderer.\n     */\n    reset(scale: number) {\n      this.canvas.width = scale * P.config.scale * 480;\n      this.canvas.height = scale * P.config.scale * 360;\n      this.resetFramebuffer(scale);\n    }\n\n    /**\n     * Resizes and resets the current framebuffer\n     * @param scale Zoom level\n     */\n    protected resetFramebuffer(scale: number) {\n      this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n      // the first element of the matrix is the x-scale, so we can use that to only recreate the matrix when needed\n      if (this.globalScaleMatrix[0] !== scale) {\n        this.globalScaleMatrix = P.m3.scaling(scale, scale);\n      }\n\n      // Clear the canvas\n      this.gl.clearColor(255, 255, 255, 0);\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    }\n\n    drawChild(child: P.core.Base) {\n      this._drawChild(child, this.renderingShader);\n    }\n\n    /**\n     * Real implementation of drawChild()\n     * @param child The child to draw\n     */\n    protected _drawChild(child: P.core.Base, shader: ShaderVariant) {\n      this.gl.useProgram(shader.program);\n\n      // Create the texture if it doesn't already exist.\n      // We'll create a texture only once for performance.\n      const costume = child.costumes[child.currentCostumeIndex] as WebGLCostume;\n      if (!costume._glTexture) {\n        const texture = this.convertToTexture(costume.get(1));\n        costume._glTexture = texture;\n      }\n      this.gl.bindTexture(this.gl.TEXTURE_2D, costume._glTexture);\n\n      shader.attributeBuffer('a_texcoord', this.quadBuffer);\n      shader.attributeBuffer('a_position', this.quadBuffer);\n\n      // TODO: do this in the shader if its possible/faster\n      const matrix = P.m3.projection(this.canvas.width, this.canvas.height);\n      P.m3.multiply(matrix, this.globalScaleMatrix);\n      P.m3.multiply(matrix, P.m3.translation(240 + child.scratchX | 0, 180 - child.scratchY | 0));\n      if (P.core.isSprite(child)) {\n        if (child.rotationStyle === RotationStyle.Normal && child.direction !== 90) {\n          P.m3.multiply(matrix, P.m3.rotation(90 - child.direction));\n        } else if (child.rotationStyle === RotationStyle.LeftRight && child.direction < 0) {\n          P.m3.multiply(matrix, horizontalInvertMatrix);\n        }\n        if (child.scale !== 1) {\n          P.m3.multiply(matrix, P.m3.scaling(child.scale, child.scale));\n        }\n      }\n      if (costume.scale !== 1) {\n        P.m3.multiply(matrix, P.m3.scaling(costume.scale, costume.scale));\n      }\n      P.m3.multiply(matrix, P.m3.translation(-costume.rotationCenterX, -costume.rotationCenterY));\n      P.m3.multiply(matrix, P.m3.scaling(costume.width, costume.height));\n\n      shader.uniformMatrix3('u_matrix', matrix);\n\n      // Effects\n      if (shader.hasUniform('u_opacity')) {\n        shader.uniform1f('u_opacity', 1 - child.filters.ghost / 100);\n      }\n      if (shader.hasUniform('u_brightness')) {\n        shader.uniform1f('u_brightness', child.filters.brightness / 100);\n      }\n      if (shader.hasUniform('u_color')) {\n        shader.uniform1f('u_color', child.filters.color / 200);\n      }\n      if (shader.hasUniform('u_mosaic')) {\n        const mosaic = Math.round((Math.abs(child.filters.mosaic) + 10) / 10);\n        shader.uniform1f('u_mosaic', P.utils.clamp(mosaic, 1, 512));\n      }\n      if (shader.hasUniform('u_whirl')) {\n        shader.uniform1f('u_whirl', child.filters.whirl * Math.PI / -180);\n      }\n      if (shader.hasUniform('u_fisheye')) {\n        shader.uniform1f('u_fisheye', Math.max(0, (child.filters.fisheye + 100) / 100));\n      }\n      if (shader.hasUniform('u_pixelate')) {\n        shader.uniform1f('u_pixelate', Math.abs(child.filters.pixelate) / 10);\n      }\n      if (shader.hasUniform('u_size')) {\n        shader.uniform2f('u_size', costume.width, costume.height);\n      }\n\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n    }\n\n    /**\n     * Draw a texture covering the entire screen\n     * @param texture The texture to draw. Must belong to this renderer.\n     */\n    protected drawTexture(texture: WebGLTexture) {\n      const shader = this.renderingShader;\n      this.gl.useProgram(shader.program);\n\n      this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n\n      shader.attributeBuffer('a_texcoord', this.quadBuffer);\n      shader.attributeBuffer('a_position', this.quadBuffer);\n\n      const matrix = P.m3.projection(this.canvas.width, this.canvas.height);\n      P.m3.multiply(matrix, this.globalScaleMatrix);\n      P.m3.multiply(matrix, P.m3.translation(240, 180));\n      P.m3.multiply(matrix, P.m3.scaling(1, -1));\n      P.m3.multiply(matrix, P.m3.translation(-240, -180));\n      P.m3.multiply(matrix, P.m3.scaling(480, 360));\n\n      shader.uniformMatrix3('u_matrix', matrix);\n\n      // Apply empty effect values\n      if (shader.hasUniform('u_opacity')) shader.uniform1f('u_opacity', 1);\n      if (shader.hasUniform('u_brightness')) shader.uniform1f('u_brightness', 0);\n      if (shader.hasUniform('u_color')) shader.uniform1f('u_color', 0);\n      if (shader.hasUniform('u_mosaic')) shader.uniform1f('u_mosaic', 1);\n      if (shader.hasUniform('u_whirl')) shader.uniform1f('u_whirl', 0);\n      if (shader.hasUniform('u_fisheye')) shader.uniform1f('u_fisheye', 1);\n      if (shader.hasUniform('u_pixelate')) shader.uniform1f('u_pixelate', 0);\n      if (shader.hasUniform('u_size')) shader.uniform2f('u_size', this.canvas.width, this.canvas.height);\n\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n    }\n  }\n\n  export class WebGLProjectRenderer extends WebGLSpriteRenderer implements ProjectRenderer {\n    public static readonly PEN_DOT_VERTEX_SHADER = `\n    attribute vec2 a_position;\n    varying vec2 v_position;\n    uniform mat3 u_matrix;\n    void main() {\n      gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n      v_position = a_position;\n    }\n    `;\n    public static readonly PEN_DOT_FRAGMENT_SHADER = `\n    precision mediump float;\n    uniform vec4 u_color;\n    varying vec2 v_position;\n    void main() {\n      float x = (v_position.x - 0.5) * 2.0;\n      float y = (v_position.y - 0.5) * 2.0;\n      if (sqrt(x * x + y * y) >= 1.0) {\n        discard;\n      }\n      gl_FragColor = u_color;\n    }\n    `;\n    public static readonly PEN_LINE_VERTEX_SHADER = `\n    attribute vec2 a_position;\n    void main() {\n      gl_Position = vec4(a_position, 0, 1);\n    }\n    `\n    public static readonly PEN_LINE_FRAGMENT_SHADER = `\n    precision mediump float;\n    uniform vec4 u_color;\n    void main() {\n      gl_FragColor = u_color;\n    }\n    `;\n\n    public penLayer: HTMLCanvasElement;\n    public stageLayer: HTMLCanvasElement;\n    public zoom: number = 1;\n\n    protected penTexture: WebGLTexture;\n    protected penBuffer: WebGLFramebuffer;\n\n    protected fallbackRenderer: ProjectRenderer;\n    protected shaderOnlyShapeFilters = this.compileVariant(['ONLY_SHAPE_FILTERS']);\n    protected penDotShader: ShaderVariant;\n    protected penLineShader: ShaderVariant;\n\n    constructor(public stage: P.core.Stage) {\n      super();\n\n      this.fallbackRenderer = new ProjectRenderer2D(stage);\n\n      this.penTexture = this.createTexture();\n      this.penBuffer = this.createFramebuffer();\n      this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, 480, 360, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.penBuffer);\n      this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this.penTexture, 0);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n\n      this.penDotShader = new ShaderVariant(this.gl, this.compileProgram(\n        WebGLProjectRenderer.PEN_DOT_VERTEX_SHADER,\n        WebGLProjectRenderer.PEN_DOT_FRAGMENT_SHADER,\n      ));\n      this.penLineShader = new ShaderVariant(this.gl, this.compileProgram(\n        WebGLProjectRenderer.PEN_LINE_VERTEX_SHADER,\n        WebGLProjectRenderer.PEN_LINE_FRAGMENT_SHADER,\n      ));\n\n      this.reset(1);\n    }\n\n    drawFrame() {\n      this.reset(this.zoom);\n      this.drawChild(this.stage);\n      this.drawTexture(this.penTexture);\n      for (var i = 0; i < this.stage.children.length; i++) {\n        var child = this.stage.children[i];\n        if (!child.visible) {\n          continue;\n        }\n        this.drawChild(child);\n      }\n    }\n\n    init(root: HTMLElement) {\n      root.appendChild(this.canvas);\n    }\n\n    onStageFiltersChanged() {\n      // no-op; we always re-render the stage in full\n    }\n\n    penLine(color: string, size: number, x: number, y: number, x2: number, y2: number): void {\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.penBuffer);\n\n      const shader = this.penLineShader;\n      this.gl.useProgram(shader.program);\n\n      const buffer = this.gl.createBuffer();\n      if (buffer === null) {\n        throw new Error('buffer is null');\n      }\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n        x / 240, y / 180,\n        x2 / 240, y2 / 180,\n      ]), this.gl.STATIC_DRAW);\n      shader.attributeBuffer('a_position', buffer);\n\n      // TODO: color\n      shader.uniform4f('u_color', 0, 1, 0, 1);\n      this.gl.drawArrays(this.gl.LINES, 0, 2);\n\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    }\n\n    penDot(color: string, size: number, x: number, y: number): void {\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.penBuffer);\n\n      const shader = this.penDotShader;\n      this.gl.useProgram(shader.program);\n\n      shader.attributeBuffer('a_position', this.quadBuffer);\n      const matrix = P.m3.projection(this.canvas.width, this.canvas.height);\n      P.m3.multiply(matrix, P.m3.translation(240 + x - size / 2 | 0, 180 - y - size / 2 | 0));\n      P.m3.multiply(matrix, P.m3.scaling(size, size));\n      shader.uniformMatrix3('u_matrix', matrix);\n\n      // TODO: color\n      shader.uniform4f('u_color', 1, 0, 0, 1);\n\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    }\n\n    penStamp(sprite: P.core.Sprite): void {\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.penBuffer);\n      this.gl.viewport(0, 0, 480, 360);\n      this.drawChild(sprite);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    }\n\n    penClear(): void {\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.penBuffer);\n      this.gl.clearColor(255, 255, 255, 0);\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    }\n\n    resize(scale: number): void {\n      this.zoom = scale;\n      // TODO: resize pen layer\n    }\n\n    spriteTouchesPoint(sprite: core.Sprite, x: number, y: number): boolean {\n      // If filters will not change the shape of the sprite, it would be faster\n      // to avoid going to the GPU\n      if (!filtersAffectShape(sprite.filters)) {\n        return this.fallbackRenderer.spriteTouchesPoint(sprite, x, y);\n      }\n\n      const texture = this.createTexture();\n      const framebuffer = this.createFramebuffer();\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, framebuffer);\n      this.resetFramebuffer(1);\n\n      this._drawChild(sprite, this.shaderOnlyShapeFilters);\n\n      // Allocate 4 bytes to store 1 RGBA pixel\n      const result = new Uint8Array(4);\n      // Coordinates are in pixels from the lower left corner\n      // We only care about 1 pixel, the pixel at the mouse cursor.\n      this.gl.readPixels(240 + x | 0, 180 + y | 0, 1, 1, this.gl.RGBA, this.gl.UNSIGNED_BYTE, result);\n\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n\n      // I don't know if it's necessary to delete these\n      this.gl.deleteTexture(texture);\n      this.gl.deleteFramebuffer(framebuffer);\n\n      // Just look for a non-zero alpha channel\n      return result[3] !== 0;\n    }\n\n    spritesIntersect(spriteA: core.Sprite, otherSprites: core.Base[]): boolean {\n      return this.fallbackRenderer.spritesIntersect(spriteA, otherSprites);\n    }\n\n    spriteTouchesColor(sprite: core.Base, color: number): boolean {\n      return this.fallbackRenderer.spriteTouchesColor(sprite, color);\n    }\n\n    spriteColorTouchesColor(sprite: core.Base, spriteColor: number, otherColor: number): boolean {\n      return this.fallbackRenderer.spriteColorTouchesColor(sprite, spriteColor, otherColor);\n    }\n  }\n\n  /**\n   * Creates the CSS filter for a Filter object.\n   * The filter is generally an estimation of the actual effect.\n   * Includes brightness and color. (does not include ghost)\n   */\n  function getCSSFilter(filters: P.core.Filters) {\n    let filter = '';\n    if (filters.brightness) {\n      filter += 'brightness(' + (100 + filters.brightness) + '%) ';\n    }\n    if (filters.color) {\n      filter += 'hue-rotate(' + (filters.color / 200 * 360) + 'deg) ';\n    }\n    // ghost could be supported through opacity(), however that effect is applied with the opacity property because more browsers support it\n    return filter;\n  }\n\n  export class SpriteRenderer2D implements SpriteRenderer {\n    public ctx: CanvasRenderingContext2D;\n    public canvas: HTMLCanvasElement;\n    /**\n     * Disables rendering filters on the \n     */\n    public noEffects: boolean = false;\n\n    constructor() {\n      const { canvas, ctx } = create2dCanvas();\n      this.canvas = canvas;\n      this.ctx = ctx;\n    }\n\n    reset(scale: number) {\n      this._reset(this.ctx, scale);\n    }\n\n    drawChild(c: P.core.Base) {\n      this._drawChild(c, this.ctx);\n    }\n\n    drawObjects(children: P.core.Base[]) {\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (!child.visible) {\n          continue;\n        }\n        this.drawChild(child);\n      }\n    }\n\n    protected _reset(ctx: CanvasRenderingContext2D, scale: number) {\n      const effectiveScale = scale * P.config.scale;\n      ctx.canvas.width = 480 * effectiveScale;\n      ctx.canvas.height = 360 * effectiveScale;\n      ctx.scale(effectiveScale, effectiveScale);\n    }\n\n    protected _drawChild(c: P.core.Base, ctx: CanvasRenderingContext2D) {\n      const costume = c.costumes[c.currentCostumeIndex];\n      if (!costume) {\n        return;\n      }\n\n      ctx.save();\n\n      const globalScale = c.stage.zoom * P.config.scale;\n      ctx.translate(((c.scratchX + 240) * globalScale | 0) / globalScale, ((180 - c.scratchY) * globalScale | 0) / globalScale);\n\n      let objectScale = costume.scale;\n      // Direction transforms are only applied to Sprites because Stages cannot be rotated.\n      if (P.core.isSprite(c)) {\n        if (c.rotationStyle === RotationStyle.Normal) {\n          ctx.rotate((c.direction - 90) * Math.PI / 180);\n        } else if (c.rotationStyle === RotationStyle.LeftRight && c.direction < 0) {\n          ctx.scale(-1, 1);\n        }\n        objectScale *= c.scale;\n      }\n\n      const image = costume.get(objectScale * c.stage.zoom);\n      const x = -costume.rotationCenterX * objectScale;\n      const y = -costume.rotationCenterY * objectScale;\n      const w = costume.width * objectScale;\n      const h = costume.height * objectScale;\n      ctx.imageSmoothingEnabled = false;\n\n      if (!this.noEffects) {\n        if (c.filters.brightness === 100) {\n          workingRenderer.canvas.width = w;\n          workingRenderer.canvas.height = h;\n          workingRenderer.ctx.save();\n\n          workingRenderer.ctx.translate(0, 0);\n          workingRenderer.ctx.drawImage(image, 0, 0, w, h);\n          workingRenderer.ctx.globalCompositeOperation = 'source-in';\n          workingRenderer.ctx.fillStyle = 'white';\n          workingRenderer.ctx.fillRect(0, 0, 480, 360);\n          ctx.drawImage(workingRenderer.canvas, x, y);\n\n          workingRenderer.ctx.restore();\n        } else {\n          ctx.globalAlpha = Math.max(0, Math.min(1, 1 - c.filters.ghost / 100));\n          const filter = getCSSFilter(c.filters);\n          // Only apply a filter when needed because of a Firefox performance bug\n          if (filter !== '') {\n            ctx.filter = filter;\n          }\n          ctx.drawImage(image, x, y, w, h);\n        }\n      } else {\n        ctx.drawImage(image, x, y, w, h);\n      }\n\n      ctx.restore();\n    }\n  }\n\n  // Renderers used for some features such as collision detection\n  const workingRenderer = new SpriteRenderer2D();\n  const workingRenderer2 = new SpriteRenderer2D();\n\n  export class ProjectRenderer2D extends SpriteRenderer2D implements ProjectRenderer {\n    public stageLayer: HTMLCanvasElement;\n    public stageContext: CanvasRenderingContext2D;\n    public penLayer: HTMLCanvasElement;\n    public penContext: CanvasRenderingContext2D;\n    public zoom: number = 1;\n\n    private penModified: boolean = false;\n    private penTargetZoom: number = -1;\n    private penZoom: number = 1;\n\n    private stageCostumeIndex: number = -1;\n\n    constructor(public stage: P.core.Stage) {\n      super();\n      const { ctx: stageContext, canvas: stageLayer } = create2dCanvas();\n      this.stageContext = stageContext;\n      this.stageLayer = stageLayer;\n\n      const { ctx: penContext, canvas: penLayer } = create2dCanvas();\n      this.penContext = penContext;\n      this.penLayer = penLayer;\n    }\n\n    onStageFiltersChanged() {\n      const filter = getCSSFilter(this.stage.filters);\n      // Only reapply a CSS filter if it has changed for performance, specifically in firefox.\n      // Might not be necessary here.\n      if (this.stageLayer.style.filter !== filter) {\n        this.stageLayer.style.filter = filter;\n      }\n\n      // cssFilter does not include ghost\n      this.stageLayer.style.opacity = '' + Math.max(0, Math.min(1, 1 - this.stage.filters.ghost / 100));\n    }\n\n    renderStageCostume(scale: number) {\n      this._reset(this.stageContext, scale);\n      this.noEffects = true;\n      this._drawChild(this.stage, this.stageContext);\n      this.noEffects = false;\n    }\n\n    init(root: HTMLCanvasElement) {\n      root.appendChild(this.stageLayer);\n      root.appendChild(this.penLayer);\n      root.appendChild(this.canvas);\n    }\n\n    drawFrame() {\n      this.reset(this.zoom);\n      this.drawObjects(this.stage.children);\n      if (this.stage.currentCostumeIndex !== this.stageCostumeIndex) {\n        this.stageCostumeIndex = this.stage.currentCostumeIndex;\n        this.renderStageCostume(this.zoom);\n      }\n    }\n\n    /**\n     * Draw everything from this renderer onto another 2d renderer, skipping a single item.\n     * \"Everything\" includes stage, pen, and all visible children.\n     */\n    drawAllExcept(renderer: SpriteRenderer2D, skip: P.core.Base) {\n      renderer.drawChild(this.stage);\n      renderer.ctx.drawImage(this.penLayer, 0, 0, this.canvas.width, this.canvas.height);\n      for (var i = 0; i < this.stage.children.length; i++) {\n        var child = this.stage.children[i];\n        if (!child.visible || child === skip) {\n          continue;\n        }\n        renderer.drawChild(child);\n      }\n    }\n\n    resize(zoom: number) {\n      this.zoom = zoom;\n      this.resizePen(zoom);\n      this.renderStageCostume(this.zoom);\n    }\n\n    resizePen(zoom: number) {\n      if (zoom > this.penZoom) {\n        this.penZoom = zoom;\n        const cachedCanvas = document.createElement('canvas');\n        cachedCanvas.width = this.penLayer.width;\n        cachedCanvas.height = this.penLayer.height;\n        cachedCanvas.getContext('2d')!.drawImage(this.penLayer, 0, 0);\n        this._reset(this.penContext, zoom);\n        this.penContext.drawImage(cachedCanvas, 0, 0, 480, 360);\n      } else if (!this.penModified) {\n        // Immediately scale down if no changes have been made\n        this.penZoom = zoom;\n        this._reset(this.penContext, zoom);\n      } else {\n        // We'll resize on the next clear, as resizing now would result in a loss of detail.\n        this.penTargetZoom = zoom;\n      }\n    }\n\n    penClear() {\n      this.penModified = false;\n      if (this.penTargetZoom !== -1) {\n        this._reset(this.penContext, this.penTargetZoom);\n        this.penZoom = this.penTargetZoom;\n        this.penTargetZoom = -1;\n      }\n      this.penContext.clearRect(0, 0, 480, 360);\n    }\n\n    penDot(color: string, size: number, x: number, y: number) {\n      this.penModified = true;\n      this.penContext.fillStyle = color;\n      this.penContext.beginPath();\n      this.penContext.arc(240 + x, 180 - y, size / 2, 0, 2 * Math.PI, false);\n      this.penContext.fill();\n    }\n\n    penLine(color: string, size: number, x1: number, y1: number, x2: number, y2: number) {\n      this.penModified = true;\n      this.penContext.lineCap = 'round';\n      if (this.penZoom === 1) {\n        if (size % 2 > .5 && size % 2 < 1.5) {\n          x1 -= .5;\n          y1 -= .5;\n          x2 -= .5;\n          y2 -= .5;\n        }\n      }\n      this.penContext.strokeStyle = color;\n      this.penContext.lineWidth = size;\n      this.penContext.beginPath();\n      this.penContext.moveTo(240 + x1, 180 - y1);\n      this.penContext.lineTo(240 + x2, 180 - y2);\n      this.penContext.stroke();\n    }\n\n    penStamp(sprite: P.core.Sprite) {\n      this.penModified = true;\n      this._drawChild(sprite, this.penContext);\n    }\n\n    spriteTouchesPoint(sprite: P.core.Sprite, x: number, y: number) {\n      const bounds = sprite.rotatedBounds();\n      if (x < bounds.left || y < bounds.bottom || x > bounds.right || y > bounds.top) {\n        return false;\n      }\n\n      const costume = sprite.costumes[sprite.currentCostumeIndex];\n      var cx = (x - sprite.scratchX) / sprite.scale;\n      var cy = (sprite.scratchY - y) / sprite.scale;\n      if (sprite.rotationStyle === RotationStyle.Normal && sprite.direction !== 90) {\n        const d = (90 - sprite.direction) * Math.PI / 180;\n        const ox = cx;\n        const s = Math.sin(d), c = Math.cos(d);\n        cx = c * ox - s * cy;\n        cy = s * ox + c * cy;\n      } else if (sprite.rotationStyle === RotationStyle.LeftRight && sprite.direction < 0) {\n        cx = -cx;\n      }\n\n      const positionX = Math.round(cx * costume.bitmapResolution + costume.rotationCenterX);\n      const positionY = Math.round(cy * costume.bitmapResolution + costume.rotationCenterY);\n      const data = costume.getContext().getImageData(positionX, positionY, 1, 1).data;\n      return data[3] !== 0;\n    }\n\n    spritesIntersect(spriteA: core.Base, otherSprites: core.Base[]) {\n      const mb = spriteA.rotatedBounds();\n\n      for (var i = 0; i < otherSprites.length; i++) {\n        const spriteB = otherSprites[i];\n        if (!spriteB.visible) {\n          continue;\n        }\n\n        const ob = spriteB.rotatedBounds();\n\n        if (mb.bottom >= ob.top || ob.bottom >= mb.top || mb.left >= ob.right || ob.left >= mb.right) {\n          continue;\n        }\n\n        const left = Math.max(mb.left, ob.left);\n        const top = Math.min(mb.top, ob.top);\n        const right = Math.min(mb.right, ob.right);\n        const bottom = Math.max(mb.bottom, ob.bottom);\n\n        const width = right - left;\n        const height = top - bottom;\n\n        // dimensions that are less than 1 or are NaN will throw when we try to get image data\n        if (width < 1 || height < 1 || width !== width || height !== height) {\n          continue;\n        }\n\n        workingRenderer.canvas.width = width;\n        workingRenderer.canvas.height = height;\n\n        workingRenderer.ctx.save();\n        workingRenderer.noEffects = true;\n\n        workingRenderer.ctx.translate(-(left + 240), -(180 - top));\n        workingRenderer.drawChild(spriteA);\n        workingRenderer.ctx.globalCompositeOperation = 'source-in';\n        workingRenderer.drawChild(spriteB);\n\n        workingRenderer.noEffects = false;\n        workingRenderer.ctx.restore();\n\n        const data = workingRenderer.ctx.getImageData(0, 0, width, height).data;\n        const length = data.length;\n\n        for (var j = 0; j < length; j += 4) {\n          // check for the opacity byte being a non-zero number\n          if (data[j + 3]) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n\n    spriteTouchesColor(sprite: P.core.Base, color: number) {\n      const b = sprite.rotatedBounds();\n\n      const width = b.right - b.left;\n      const height = b.top - b.bottom;\n      if (width < 1 || height < 1 || width !== width || height !== height) {\n        return false;\n      }\n\n      workingRenderer.canvas.width = width;\n      workingRenderer.canvas.height = height;\n\n      workingRenderer.ctx.save();\n      workingRenderer.ctx.translate(-(240 + b.left), -(180 - b.top));\n\n      this.drawAllExcept(workingRenderer, sprite);\n      workingRenderer.ctx.globalCompositeOperation = 'destination-in';\n      workingRenderer.drawChild(sprite);\n\n      workingRenderer.ctx.restore();\n\n      const data = workingRenderer.ctx.getImageData(0, 0, b.right - b.left, b.top - b.bottom).data;\n\n      color = color & 0xffffff;\n      const length = (b.right - b.left) * (b.top - b.bottom) * 4;\n      for (var i = 0; i < length; i += 4) {\n        if ((data[i] << 16 | data[i + 1] << 8 | data[i + 2]) === color && data[i + 3]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    spriteColorTouchesColor(sprite: P.core.Base, spriteColor: number, otherColor: number) {\n      var rb = sprite.rotatedBounds();\n\n      const width = rb.right - rb.left;\n      const height = rb.top - rb.bottom;\n      if (width < 1 || height < 1 || width !== width || height !== height) {\n        return false;\n      }\n\n      workingRenderer.canvas.width = workingRenderer2.canvas.width = width;\n      workingRenderer.canvas.height = workingRenderer2.canvas.height = height;\n\n      workingRenderer.ctx.save();\n      workingRenderer2.ctx.save();\n      workingRenderer.ctx.translate(-(240 + rb.left), -(180 - rb.top));\n      workingRenderer2.ctx.translate(-(240 + rb.left), -(180 - rb.top));\n\n      this.drawAllExcept(workingRenderer, sprite);\n      workingRenderer2.drawChild(sprite);\n\n      workingRenderer.ctx.restore();\n      workingRenderer2.ctx.restore();\n\n      var dataA = workingRenderer.ctx.getImageData(0, 0, width, height).data;\n      var dataB = workingRenderer2.ctx.getImageData(0, 0, width, height).data;\n\n      spriteColor = spriteColor & 0xffffff;\n      otherColor = otherColor & 0xffffff;\n\n      var length = dataA.length;\n      for (var i = 0; i < length; i += 4) {\n        var touchesSource = (dataB[i] << 16 | dataB[i + 1] << 8 | dataB[i + 2]) === spriteColor && dataB[i + 3];\n        var touchesOther = (dataA[i] << 16 | dataA[i + 1] << 8 | dataA[i + 2]) === otherColor && dataA[i + 3];\n        if (touchesSource && touchesOther) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"config.ts\" />\n/// <reference path=\"renderer.ts\" />\n\n// Phosphorus base classes\n// Implements most functionality while leaving some specifics to implementations (P.sb2, P.sb3)\nnamespace P.core {\n  interface RotatedBounds {\n    // A----------+\n    // |          |\n    // |          |\n    // +----------B\n    // Where top is the scratchY of A,\n    // bottom is the scratchY of B,\n    // left is the scratchX of A,\n    // and right is the scratchX of B\n\n    top: number;\n    bottom: number;\n    left: number;\n    right: number;\n  }\n\n  interface Listeners {\n    whenClicked: P.runtime.Fn[];\n    whenCloned: P.runtime.Fn[];\n    whenGreenFlag: P.runtime.Fn[];\n    whenIReceive: ObjectMap<P.runtime.Fn[]>;\n    whenKeyPressed: P.runtime.Fn[][];\n    whenBackdropChanges: ObjectMap<P.runtime.Fn[]>;\n    whenSceneStarts: ObjectMap<P.runtime.Fn[]>;\n    // whenSensorGreaterThan: P.runtime.Fn[]\n  }\n\n  export interface ActiveSound {\n    stopped: boolean;\n    node: AudioNode;\n    base: P.runtime.Fn;\n  }\n\n  export interface Filters {\n    color: number;\n    fisheye: number;\n    whirl: number;\n    pixelate: number;\n    mosaic: number;\n    brightness: number;\n    ghost: number;\n  }\n\n  export const enum RotationStyle {\n    /**\n     * Indicates this sprite may rotate in any direction.\n     */\n    Normal,\n    /**\n     * Indicates this sprite can only rotate left or right.\n     */\n    LeftRight,\n    /**\n     * Indicates this sprite cannot rotate.\n     */\n    None,\n  }\n\n  export const enum SpecialObjects {\n    Mouse = '_mouse_',\n    Stage = '_stage_',\n    Random = '_random_',\n    Edge = '_edge_',\n  }\n\n  export abstract class Base {\n    /**\n     * The stage this object belongs to.\n     */\n    public stage: Stage;\n    /**\n     * Is this a stage?\n     */\n    public isStage: boolean = false;\n    /**\n     * Is this a sprite?\n     */\n    public isSprite: boolean = false;\n    /**\n     * Was this Sprite created as a clone of another?\n     */\n    public isClone: boolean = false;\n    /**\n     * Is this object visible?\n     */\n    public visible: boolean = true;\n    /**\n     * The sprite's X coordinate on the Scratch grid.\n     */\n    public scratchX: number = 0;\n    /**\n     * The sprite's Y coordinate on the Scratch grid.\n     */\n    public scratchY: number = 0;\n    /**\n     * The name of this object.\n     */\n    public name: string = '';\n    /**\n     * Costumes that belong to this object.\n     */\n    public costumes: Costume[] = [];\n    /**\n     * The index of the currently selected costume in its costume list.\n     */\n    public currentCostumeIndex: number = 0;\n    /**\n     * Sounds that belong to this object.\n     */\n    public sounds: Sound[] = [];\n    /**\n     * Maps the names of sounds to the corresponding Sound\n     */\n    public soundRefs: ObjectMap<Sound> = {};\n    /**\n     * Currently selected instrument\n     */\n    public instrument: number = 0;\n    /**\n     * The volume of this object, where 1.0 === 100% volume\n     */\n    public volume: number = 1;\n    /**\n     * The audio node that this object outputs to.\n     */\n    public node: GainNode | null = null;\n    /**\n     * Actively playing sounds started with \"play until done\"\n     */\n    public activeSounds: Set<ActiveSound> = new Set();\n    /**\n     * Variable watchers that this object owns.\n     */\n    public watchers: ObjectMap<Watcher> = {};\n    /**\n     * List watchers that this object owns.\n     */\n    public listWatchers: ObjectMap<Watcher> = {};\n    /**\n     * Variables of this object.\n     * Maps variable names (or ids) to their value.\n     * Values can be of any type and should likely be converted first.\n     */\n    public vars: ObjectMap<any> = {};\n    /**\n     * Lists of this object.\n     * Maps list names (or ids) to their list.\n     * Each list can contain objects of any type, and should be converted first.\n     */\n    public lists: ObjectMap<Array<any>> = {};\n    /**\n     * Is this object saying something?\n     */\n    public saying: boolean = false;\n    /**\n     * Should this object's speech bubble be a thinking bubble instead?\n     */\n    public thinking: boolean = false;\n    /**\n     * The ID of the last thing said.\n     */\n    public sayId: number = 0;\n    public bubbleContainer: HTMLElement;\n    public bubblePointer: HTMLElement;\n    public bubbleText: Text;\n    /**\n     * Maps procedure names (usually includes parameters) to the Procedure object\n     */\n    public procedures: ObjectMap<Procedure> = {};\n    public listeners: Listeners = {\n      whenClicked: [],\n      whenCloned: [],\n      whenGreenFlag: [],\n      whenIReceive: {},\n      whenKeyPressed: [],\n      whenBackdropChanges: {},\n      whenSceneStarts: {},\n    };\n    public fns: P.runtime.Fn[] = [];\n    public filters: Filters = {\n      color: 0,\n      fisheye: 0,\n      whirl: 0,\n      pixelate: 0,\n      mosaic: 0,\n      brightness: 0,\n      ghost: 0,\n    };\n\n    constructor() {\n      for (var i = 0; i < 128; i++) {\n        this.listeners.whenKeyPressed.push([]);\n      }\n    }\n\n    // Data/Loading methods\n\n    addSound(sound: Sound) {\n      this.soundRefs[sound.name] = sound;\n      this.sounds.push(sound);\n    }\n\n    // Implementations of Scratch blocks\n\n    showVariable(name: string, visible: boolean) {\n      let watcher = this.watchers[name];\n      // Create watchers that might not exist\n      if (!watcher) {\n        const newWatcher = this.createVariableWatcher(this, name);\n        if (!newWatcher) {\n          return;\n        }\n        newWatcher.init();\n        this.watchers[name] = watcher = newWatcher;\n        this.stage.allWatchers.push(watcher);\n      }\n      watcher.setVisible(visible);\n    }\n\n    showList(name: string, visible: boolean) {\n      let watcher = this.listWatchers[name];\n      if (!watcher) {\n        const newWatcher = this.createListWatcher(this, name);\n        if (!newWatcher) {\n          return;\n        }\n        newWatcher.init();\n        this.listWatchers[name] = watcher = newWatcher;\n        this.stage.allWatchers.push(watcher);\n      }\n      watcher.setVisible(visible);\n    }\n\n    showNextCostume() {\n      this.currentCostumeIndex = (this.currentCostumeIndex + 1) % this.costumes.length;\n      if (this.saying && isSprite(this)) this.updateBubble();\n    }\n\n    showPreviousCostume() {\n      var length = this.costumes.length;\n      this.currentCostumeIndex = (this.currentCostumeIndex + length - 1) % length;\n      if (this.saying && isSprite(this)) this.updateBubble();\n    }\n\n    getCostumeName() {\n      return this.costumes[this.currentCostumeIndex] ? this.costumes[this.currentCostumeIndex].name : '';\n    }\n\n    setCostume(costume) {\n      if (typeof costume !== 'number') {\n        costume = '' + costume;\n        for (var i = 0; i < this.costumes.length; i++) {\n          if (this.costumes[i].name === costume) {\n            this.currentCostumeIndex = i;\n            if (this.saying && isSprite(this)) this.updateBubble();\n            return;\n          }\n        }\n        if (costume === (this.isSprite ? 'next costume' : 'next backdrop')) {\n          this.showNextCostume();\n          return;\n        }\n        if (costume === (this.isSprite ? 'previous costume' : 'previous backdrop')) {\n          this.showPreviousCostume();\n          return;\n        }\n        if (!isFinite(costume)) {\n          return;\n        }\n      }\n      var i = (Math.floor(costume) - 1 || 0) % this.costumes.length;\n      if (i < 0) i += this.costumes.length;\n      this.currentCostumeIndex = i;\n      if (isSprite(this) && this.saying) this.updateBubble();\n    }\n\n    setFilter(name: string, value: number) {\n      switch (name) {\n        case 'ghost':\n          if (value < 0) value = 0;\n          if (value > 100) value = 100;\n          break;\n        case 'brightness':\n          if (value < -100) value = -100;\n          if (value > 100) value = 100;\n          break;\n        case 'color':\n          value = value % 200;\n          if (value < 0) value += 200;\n          break;\n      }\n      this.filters[name] = value;\n    }\n\n    changeFilter(name: string, value: number) {\n      this.setFilter(name, this.filters[name] + value);\n    }\n\n    resetFilters() {\n      this.filters = {\n        color: 0,\n        fisheye: 0,\n        whirl: 0,\n        pixelate: 0,\n        mosaic: 0,\n        brightness: 0,\n        ghost: 0\n      };\n    }\n\n    getSound(name) {\n      if (typeof name === 'string') {\n        var s = this.soundRefs[name];\n        if (s) return s;\n        name = +name;\n      }\n      var l = this.sounds.length;\n      if (l && typeof name === 'number' && name === name) {\n        var i = Math.round(name - 1) % l;\n        if (i < 0) i += l;\n        return this.sounds[i];\n      }\n    }\n\n    /**\n     * Stops all sounds in this object.\n     */\n    stopSounds() {\n      if (this.node) {\n        for (const sound of this.activeSounds) {\n          sound.stopped = true;\n          sound.node.disconnect();\n        }\n        this.activeSounds.clear();\n        this.node.disconnect();\n        this.node = null;\n      }\n    }\n\n    stopSoundsExcept(originBase: P.runtime.Fn) {\n      if (this.node) {\n        for (const sound of this.activeSounds) {\n          if (sound.base !== originBase) {\n            sound.node.disconnect();\n            sound.stopped = true;\n            this.activeSounds.delete(sound);\n          }\n        }\n      }\n    }\n\n    ask(question: string) {\n      var stage = this.stage;\n      if (question) {\n        if (this.visible && isSprite(this)) {\n          this.say(question);\n          stage.promptTitle.style.display = 'none';\n        } else {\n          stage.promptTitle.style.display = 'block';\n          stage.promptTitle.textContent = question;\n        }\n      } else {\n        stage.promptTitle.style.display = 'none';\n      }\n      stage.hidePrompt = false;\n      stage.prompter.style.display = 'block';\n      stage.prompt.value = '';\n      stage.prompt.focus();\n    }\n\n    /**\n     * Makes this object say some text.\n     * @param text The text to say\n     * @param thinking If the text box should be in the thinking style or just speaking\n     * @returns A unique ID for this bubble\n     */\n    say(text: string, thinking: boolean = false): number {\n      text = text.toString();\n\n      // Empty strings disable saying anything.\n      if (text.length === 0) {\n        this.saying = false;\n        if (this.bubbleContainer) this.bubbleContainer.style.display = 'none';\n        return ++this.sayId;\n      }\n\n      this.saying = true;\n      this.thinking = thinking;\n      if (!this.bubbleContainer) {\n        this.bubbleContainer = document.createElement('div');\n        this.bubbleContainer.style.maxWidth = (127/14)+'em';\n        this.bubbleContainer.style.minWidth = (48/14)+'em';\n        this.bubbleContainer.style.padding = (8/14)+'em '+(10/14)+'em';\n        this.bubbleContainer.style.border = (3/14)+'em solid rgb(160, 160, 160)';\n        this.bubbleContainer.style.borderRadius = (10/14)+'em';\n        this.bubbleContainer.style.background = '#fff';\n        this.bubbleContainer.style.position = 'absolute';\n        this.bubbleContainer.style.font = 'bold 1.4em sans-serif';\n        this.bubbleContainer.style.whiteSpace = 'pre-wrap';\n        this.bubbleContainer.style.wordWrap = 'break-word';\n        this.bubbleContainer.style.textAlign = 'center';\n        this.bubbleContainer.style.cursor = 'default';\n        this.bubbleContainer.style.pointerEvents = 'auto';\n        this.bubbleContainer.appendChild(this.bubbleText = document.createTextNode(''));\n        this.bubbleContainer.appendChild(this.bubblePointer = document.createElement('div'));\n        this.bubblePointer.style.position = 'absolute';\n        this.bubblePointer.style.height = (21 / 14) + 'em';\n        this.bubblePointer.style.width = (44 / 14) + 'em';\n        this.bubblePointer.style.background = 'url(\"icons.svg\")';\n        this.bubblePointer.style.backgroundSize = (384/14) + 'em ' + (64/14) + 'em';\n        this.bubblePointer.style.backgroundPositionY = (-4/14) + 'em';\n        this.stage.ui.appendChild(this.bubbleContainer);\n      }\n      this.bubblePointer.style.backgroundPositionX = (thinking ? -323 : -259) / 14 + 'em';\n      this.bubbleContainer.style.display = 'block';\n      this.bubbleText.nodeValue = text;\n      this.updateBubble();\n      return ++this.sayId;\n    }\n\n    /**\n     * Updates the position of the speech bubble, or hides it.\n     */\n    updateBubble() {\n      if (!this.visible || !this.saying) {\n        this.bubbleContainer.style.display = 'none';\n        return;\n      }\n\n      const b = this.rotatedBounds();\n      const left = 240 + b.right;\n      var bottom = 180 + b.top;\n      const width = this.bubbleContainer.offsetWidth / this.stage.zoom;\n      const height = this.bubbleContainer.offsetHeight / this.stage.zoom;\n      this.bubblePointer.style.top = ((height - 6) / 14) + 'em';\n      if (left + width + 2 > 480) {\n        this.bubbleContainer.style.right = ((240 - b.left) / 14) + 'em';\n        this.bubbleContainer.style.left = 'auto';\n        this.bubblePointer.style.right = (3/14)+'em';\n        this.bubblePointer.style.left = 'auto';\n        this.bubblePointer.style.backgroundPositionY = (-36/14)+'em';\n      } else {\n        this.bubbleContainer.style.left = (left / 14) + 'em';\n        this.bubbleContainer.style.right = 'auto';\n        this.bubblePointer.style.left = (3/14)+'em';\n        this.bubblePointer.style.right = 'auto';\n        this.bubblePointer.style.backgroundPositionY = (-4/14)+'em';\n      }\n      if (bottom + height + 2 > 360) {\n        bottom = 360 - height - 2;\n      }\n      if (bottom < 19) {\n        bottom = 19;\n      }\n      this.bubbleContainer.style.bottom = (bottom / 14) + 'em';\n    }\n\n    remove() {\n      if (this.bubbleContainer) {\n        this.stage.ui.removeChild(this.bubbleContainer);\n        // I don't think doing this is necessary.\n        delete this.bubbleContainer;\n      }\n      if (this.node && this.isClone && !this.isStage) {\n        // Continue playing sounds started with \"start sound\" after this sprite has been removed.\n        for (const sound of this.activeSounds) {\n          sound.node.disconnect();\n          sound.stopped = true;\n        }\n        this.activeSounds.clear();\n        this.node.disconnect();\n        this.node.connect(this.stage.getAudioNode());\n        this.node = null;\n      }\n    }\n\n    /**\n     * Gets this object's AudioNode, or creates it if it doesn't exist.\n     * @throws Error if there is no audio context.\n     */\n    getAudioNode(): AudioNode {\n      if (this.node) {\n        return this.node;\n      }\n      if (!P.audio.context) {\n        throw new Error('No audio context');\n      }\n      this.node = P.audio.context.createGain();\n      this.node.gain.value = this.volume;\n      P.audio.connectNode(this.node);\n      return this.node;\n    }\n\n    /**\n     * Gets the rectangular bounds that contain this sprite in its entirety.\n     */\n    abstract rotatedBounds(): RotatedBounds;\n\n    /**\n     * Create a Watcher for a variable.\n     * @param target The sprite that will own the watcher\n     * @param variableName The name (or id) of the variable to monitor\n     */\n    public createVariableWatcher(target: Base, variableName: string): Watcher | null {\n      return null;\n    }\n\n    /**\n     * Create a Watcher for a list.\n     * @param target The sprite that will own the watcher\n     * @param listName The name (or id) of the variable to monitor\n     */\n    public createListWatcher(target: Base, listName: string): Watcher | null {\n      return null;\n    }\n  }\n\n  type KeyList = Array<boolean | undefined> & { any: number; };\n\n  // A stage object\n  export abstract class Stage extends Base {\n    public stage = this;\n    public isStage = true;\n\n    /**\n     * Sprites inside of this stage.\n     */\n    public children: Sprite[] = [];\n\n    /**\n     * All variable watchers in this stage.\n     */\n    public allWatchers: Watcher[] = [];\n\n    public answer: string = '';\n    public promptId: number = 0;\n    public nextPromptId: number = 0;\n    public hidePrompt: boolean = false;\n    \n    public zoom: number = 1;\n    \n    public rawMouseX: number = 0;\n    public rawMouseY: number = 0;\n    public mouseX: number = 0;\n    public mouseY: number = 0;\n    public mousePressed: boolean = false;\n    \n    public tempoBPM: number = 60;\n    public keys: KeyList;\n    public username: string = '';\n    public counter: number = 0;\n\n    public runtime: P.runtime.Runtime;\n\n    public canvas: HTMLCanvasElement;\n    public renderer: P.renderer.ProjectRenderer;\n\n    public root: HTMLElement;\n    public ui: HTMLElement;\n\n    public prompt: HTMLInputElement;\n    public prompter: HTMLElement;\n    public promptTitle: HTMLElement;\n    public promptButton: HTMLElement;\n    public mouseSprite: Sprite | undefined;\n\n    private videoElement: HTMLVideoElement;\n    public speech2text: P.ext.speech2text.SpeechToTextExtension | null = null;\n    public microphone: P.ext.microphone.MicrophoneExtension | null = null;\n    private extensions: P.ext.Extension[] = [];\n\n    constructor() {\n      super();\n\n      this.runtime = new P.runtime.Runtime(this);\n\n      this.keys = [] as any;\n      this.keys.any = 0;\n\n      this.root = document.createElement('div');\n      this.root.classList.add('forkphorus-root');\n\n      if (P.config.useWebGL) {\n        this.renderer = new P.renderer.WebGLProjectRenderer(this);\n      } else {\n        this.renderer = new P.renderer.ProjectRenderer2D(this);\n      }\n      this.renderer.resize(1);\n      this.renderer.init(this.root);\n      this.canvas = this.renderer.canvas;\n\n      this.ui = document.createElement('div');\n      this.root.appendChild(this.ui);\n      this.ui.style.pointerEvents = 'none';\n\n      this.canvas.tabIndex = 0;\n      this.canvas.style.outline = 'none';\n\n      this.prompter = document.createElement('div');\n      this.ui.appendChild(this.prompter);\n      this.prompter.style.zIndex = '1';\n      this.prompter.style.pointerEvents = 'auto';\n      this.prompter.style.position = 'absolute';\n      this.prompter.style.left =\n      this.prompter.style.right = '1.4em';\n      this.prompter.style.bottom = '.6em';\n      this.prompter.style.padding = '.5em 3.0em .5em .5em';\n      this.prompter.style.border = '.3em solid rgb(46, 174, 223)';\n      this.prompter.style.borderRadius = '.8em';\n      this.prompter.style.background = '#fff';\n      this.prompter.style.display = 'none';\n\n      this.promptTitle = document.createElement('div');\n      this.prompter.appendChild(this.promptTitle);\n      this.promptTitle.textContent = '';\n      this.promptTitle.style.cursor = 'default';\n      this.promptTitle.style.font = 'bold 1.3em sans-serif';\n      this.promptTitle.style.margin = '0 '+(-25/13)+'em '+(5/13)+'em 0';\n      this.promptTitle.style.whiteSpace = 'pre';\n      this.promptTitle.style.overflow = 'hidden';\n      this.promptTitle.style.textOverflow = 'ellipsis';\n\n      this.prompt = document.createElement('input');\n      this.prompter.appendChild(this.prompt);\n      this.prompt.style.border = '0';\n      this.prompt.style.background = '#eee';\n      this.prompt.style.boxSizing = 'border-box';\n      this.prompt.style.font = '1.3em sans-serif';\n      this.prompt.style.padding = '0 '+(3/13)+'em';\n      this.prompt.style.outline = '0';\n      this.prompt.style.margin = '0';\n      this.prompt.style.width = '100%';\n      this.prompt.style.height = ''+(20/13)+'em';\n      this.prompt.style.display = 'block';\n      this.prompt.style.borderRadius = '0';\n      this.prompt.style.boxShadow = 'inset '+(1/13)+'em '+(1/13)+'em '+(2/13)+'em rgba(0, 0, 0, .2), inset '+(-1/13)+'em '+(-1/13)+'em '+(1/13)+'em rgba(255, 255, 255, .2)';\n      this.prompt.style.webkitAppearance = 'none';\n\n      this.promptButton = document.createElement('div');\n      this.prompter.appendChild(this.promptButton);\n      this.promptButton.style.width = '2.2em';\n      this.promptButton.style.height = '2.2em';\n      this.promptButton.style.position = 'absolute';\n      this.promptButton.style.right = '.4em';\n      this.promptButton.style.bottom = '.4em';\n      this.promptButton.style.background = 'url(icons.svg) -22.8em -0.4em';\n      this.promptButton.style.backgroundSize = '38.4em 6.4em';\n\n      this.addEventListeners();\n    }\n\n    private addEventListeners() {\n      // Global listeners need to have their methods redefined like this so that we can removeEventListener() later\n      this._onmousedown = this._onmousedown.bind(this);\n      this._onmouseup = this._onmouseup.bind(this);\n      this._onmousemove = this._onmousemove.bind(this);\n      this._ontouchstart = this._ontouchstart.bind(this);\n      this._ontouchend = this._ontouchend.bind(this);\n      this._ontouchmove = this._ontouchmove.bind(this);\n\n      document.addEventListener('mousedown', this._onmousedown);\n      document.addEventListener('mouseup', this._onmouseup);\n      document.addEventListener('mousemove', this._onmousemove);\n\n      document.addEventListener('touchstart', this._ontouchstart, { passive: false });\n      document.addEventListener('touchend', this._ontouchend);\n      document.addEventListener('touchmove', this._ontouchmove);\n\n      this.root.addEventListener('wheel', this._onwheel.bind(this));\n      this.root.addEventListener('keyup', this._onkeyup.bind(this));\n      this.root.addEventListener('keydown', this._onkeydown.bind(this));\n\n      this.promptButton.addEventListener('touchstart', this.submitPrompt.bind(this));\n      this.promptButton.addEventListener('mousedown', this.submitPrompt.bind(this));\n      this.prompt.addEventListener('keydown', (e) => {\n        if (e.keyCode === 13) this.submitPrompt();\n      });\n    }\n\n    private removeEventListeners() {\n      // We only need to remove the global handlers that were attached to document\n      document.removeEventListener('mousedown', this._onmousedown);\n      document.removeEventListener('mouseup', this._onmouseup);\n      document.removeEventListener('mousemove', this._onmousemove);\n      document.removeEventListener('touchstart', this._ontouchstart);\n      document.removeEventListener('touchend', this._ontouchend);\n      document.removeEventListener('touchmove', this._ontouchmove);\n    }\n\n    private _onwheel(e: WheelEvent) {\n      // Scroll up/down triggers key listeners for up/down arrows, but without affecting \"is key pressed?\" blocks\n      if (e.deltaY > 0) {\n        // 40 = down arrow\n        this.runtime.trigger('whenKeyPressed', 40);\n      } else if (e.deltaY < 0) {\n        // 38 = up arrow\n        this.runtime.trigger('whenKeyPressed', 38);\n      }\n    }\n\n    private _onkeyup(e: KeyboardEvent) {\n      var c = e.keyCode;\n      if (c >= 128) c = P.runtime.getKeyCode(e.key) as number;\n      if (this.keys[c]) this.keys.any--;\n      this.keys[c] = false;\n      e.stopPropagation();\n      if (e.target === this.canvas) {\n        e.preventDefault();\n      }\n    }\n\n    private _onkeydown(e: KeyboardEvent) {\n      var c = e.keyCode;\n      if (c >= 128 && e.key.length === 1) c = P.runtime.getKeyCode(e.key) as number;\n      if (!this.keys[c]) this.keys.any++;\n      this.keys[c] = true;\n      if (e.ctrlKey || e.altKey || e.metaKey || c === 27) return;\n      e.stopPropagation();\n      if (e.target === this.canvas) {\n        e.preventDefault();\n        this.runtime.trigger('whenKeyPressed', c);\n      }\n    }\n\n    private _onmousedown(e: MouseEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e);\n      this.mousePressed = true;\n\n      if (e.target === this.canvas) {\n        this.clickMouse();\n        e.preventDefault();\n        this.canvas.focus();\n      }\n\n      this.onmousedown(e);\n    }\n\n    private _onmouseup(e: MouseEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e);\n      this.releaseMouse();\n      this.onmouseup(e);\n    }\n\n    private _onmousemove(e: MouseEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e);\n      this.onmousemove(e);\n    }\n\n    private _ontouchend(e: TouchEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.releaseMouse();\n      for (var i = 0; i < e.changedTouches.length; i++) {\n        const t = e.changedTouches[i];\n        this.ontouch(e, t);\n      }\n    }\n\n    private _ontouchstart(e: TouchEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.mousePressed = true;\n\n      for (var i = 0; i < e.changedTouches.length; i++) {\n        const t = e.changedTouches[i];\n        this.updateMousePosition(t);\n        if (e.target === this.canvas) {\n          this.clickMouse();\n        }\n        this.ontouch(e, t);\n      }\n\n      if (e.target === this.canvas) e.preventDefault();\n    }\n\n    private _ontouchmove(e: TouchEvent) {\n      if (!this.runtime.isRunning) return;\n\n      this.updateMousePosition(e.changedTouches[0]);\n      for (var i = 0; i < e.changedTouches.length; i++) {\n        const t = e.changedTouches[i];\n        this.ontouch(e, t);\n      }\n    }\n\n    // Event hooks for responding to user actions\n    // These are designed to be used by implementors\n    ontouch(e: TouchEvent, t: Touch) {}\n    onmousedown(e: MouseEvent) {}\n    onmouseup(e: MouseEvent) {}\n    onmousemove(e: MouseEvent) {}\n\n    /**\n     * Delete the stage.\n     */\n    destroy() {\n      this.runtime.stopAll();\n      this.runtime.pause();\n      this.stopAllSounds();\n      for (const extension of this.extensions) {\n        extension.destroy();\n      }\n      this.removeEventListeners();\n    }\n\n    pause() {\n      for (const extension of this.extensions) {\n        extension.onpause();\n      }\n    }\n\n    start() {\n      for (const extension of this.extensions) {\n        extension.onstart();\n      }\n    }\n\n    /**\n     * Give browser focus to the Stage.\n     */\n    focus() {\n      if (this.promptId < this.nextPromptId) {\n        this.prompt.focus();\n      } else {\n        this.canvas.focus();\n      }\n    }\n\n    updateMousePosition(e) {\n      var rect = this.canvas.getBoundingClientRect();\n      var x = (e.clientX - rect.left) / this.zoom - 240;\n      var y = 180 - (e.clientY - rect.top) / this.zoom;\n      this.rawMouseX = x;\n      this.rawMouseY = y;\n      if (x < -240) x = -240;\n      if (x > 240) x = 240;\n      if (y < -180) y = -180;\n      if (y > 180) y = 180;\n      this.mouseX = x;\n      this.mouseY = y;\n    }\n\n    /**\n     * Changes the zoom level and resizes DOM elements.\n     */\n    setZoom(zoom: number) {\n      if (this.zoom === zoom) return;\n      this.renderer.resize(zoom);\n      this.root.style.width = (480 * zoom | 0) + 'px';\n      this.root.style.height = (360 * zoom | 0) + 'px';\n      this.root.style.fontSize = (zoom*10) + 'px';\n      this.zoom = zoom;\n      // Temporary fix to make Scratch 3 list watchers properly resize when paused\n      if (!this.runtime.isRunning) {\n        for (const watcher of this.allWatchers) {\n          if (watcher instanceof P.sb3.Scratch3ListWatcher) {\n            watcher.updateList();\n          }\n        }\n      }\n    }\n\n    clickMouse() {\n      this.mouseSprite = undefined;\n      for (var i = this.children.length; i--;) {\n        var c = this.children[i];\n        if (c.visible && c.filters.ghost < 100 && c.touching(SpecialObjects.Mouse)) {\n          if (c.isDraggable) {\n            this.mouseSprite = c;\n            c.mouseDown();\n          } else {\n            this.runtime.triggerFor(c, 'whenClicked');\n          }\n          return;\n        }\n      }\n      this.runtime.triggerFor(this, 'whenClicked');\n    }\n\n    releaseMouse() {\n      this.mousePressed = false;\n      if (this.mouseSprite) {\n        this.mouseSprite.mouseUp();\n        this.mouseSprite = undefined;\n      }\n    }\n\n    setFilter(name: string, value: number) {\n      // Override setFilter() to update the filters on the real stage.\n      super.setFilter(name, value);\n      this.renderer.onStageFiltersChanged();\n    }\n\n    resetFilters() {\n      super.resetFilters();\n      this.renderer.onStageFiltersChanged();\n    }\n\n    /**\n     * Gets an object with its name, ignoring clones.\n     * SpecialObjects.Stage will point to the stage.\n     */\n    getObject(name: string): Base | null {\n      for (var i = 0; i < this.children.length; i++) {\n        var c = this.children[i];\n        if (c.name === name && !c.isClone) {\n          return c;\n        }\n      }\n      if (name === SpecialObjects.Stage || name === this.name) {\n        return this;\n      }\n      return null;\n    }\n\n    /**\n     * Gets all the objects with a name, including clones.\n     * Special values are not supported.\n     */\n    getObjects(name: string): P.core.Base[] {\n      const result: P.core.Base[] = [];\n      for (var i = 0; i < this.children.length; i++) {\n        if (this.children[i].name === name) {\n          result.push(this.children[i]);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Determines the position of an object, with support for special values.\n     */\n    getPosition(name: string): {x: number, y: number} | null {\n      switch (name) {\n        case SpecialObjects.Mouse: return {\n          x: this.mouseX,\n          y: this.mouseY,\n        };\n        case SpecialObjects.Random: return {\n          x: Math.round(480 * Math.random() - 240),\n          y: Math.round(360 * Math.random() - 180),\n        };\n      }\n\n      const sprite = this.getObject(name);\n      if (!sprite) return null;\n      return {\n        x: sprite.scratchX,\n        y: sprite.scratchY,\n      };\n    }\n\n    /**\n     * Draws this stage on it's renderer.\n     */\n    draw() {\n      this.renderer.drawFrame();\n\n      for (var i = this.allWatchers.length; i--;) {\n        var w = this.allWatchers[i];\n        if (w.visible) {\n          w.update();\n        }\n      }\n\n      if (this.hidePrompt) {\n        this.hidePrompt = false;\n        this.prompter.style.display = 'none';\n        this.canvas.focus();\n      }\n    }\n\n    showVideo(visible: boolean) {\n      if (P.config.supportVideoSensing) {\n        if (visible) {\n          if (!this.videoElement) {\n            this.videoElement = document.createElement('video');\n            this.videoElement.onloadedmetadata = () => {\n              this.videoElement.play();\n            };\n            this.videoElement.style.opacity = '0.5';\n            this.root.insertBefore(this.videoElement, this.canvas);\n            navigator.mediaDevices.getUserMedia({video: true, audio: false})\n              .then((stream) => this.videoElement.srcObject = stream);\n          }\n          this.videoElement.style.display = 'block';\n        } else {\n          if (this.videoElement) {\n            this.videoElement.style.display = 'none';\n          }\n        }\n      }\n    }\n\n    addExtension(extension: P.ext.Extension) {\n      this.extensions.push(extension);\n    }\n\n    initSpeech2Text() {\n      if (!this.speech2text && P.ext.speech2text.isSupported()) {\n        this.speech2text = new P.ext.speech2text.SpeechToTextExtension(this);\n        this.addExtension(this.speech2text);\n      }\n    }\n\n    initLoudness() {\n      if (!this.microphone) {\n        this.microphone = new P.ext.microphone.MicrophoneExtension(this);\n        this.addExtension(this.microphone);\n      }\n    }\n\n    // Implement rotatedBounds() to return something.\n    rotatedBounds() {\n      return {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n      };\n    }\n\n    stopAllSounds() {\n      for (var children = this.children, i = children.length; i--;) {\n        children[i].stopSounds();\n      }\n      this.stopSounds();\n    }\n\n    removeAllClones() {\n      var i = this.children.length;\n      while (i--) {\n        if (this.children[i].isClone) {\n          this.children[i].remove();\n          this.children.splice(i, 1);\n        }\n      }\n    }\n\n    moveTo() {\n      // do nothing -- stage cannot be moved\n    }\n\n    submitPrompt() {\n      if (this.promptId < this.nextPromptId) {\n        this.answer = this.prompt.value;\n        this.promptId += 1;\n        if (this.promptId >= this.nextPromptId) {\n          this.hidePrompt = true;\n        }\n      }\n    }\n\n    clearPen() {\n      this.renderer.penClear();\n    }\n  }\n\n  // A sprite object\n  export abstract class Sprite extends Base {\n    public isSprite = true;\n    /**\n     * Is this Sprite a clone of another Sprite?\n     */\n    public isClone = false;\n    /**\n     * The direction this Sprite is facing.\n     * 0 is directly up, and 90 is directly right.\n     */\n    public direction: number = 90;\n    /**\n     * How this object rotates.\n     */\n    public rotationStyle: RotationStyle = RotationStyle.Normal;\n    /**\n     * Can this Sprite be dragged?\n     */\n    public isDraggable: boolean = false;\n    /**\n     * Is this Sprite currently being dragged?\n     */\n    public isDragging: boolean = false;\n    /**\n     * This sprite's size, with 1 being 100% (normal size)\n     * Sprites are scaled from their costume's center\n     */\n    public scale: number = 1;\n\n    // Pen data\n    public penHue: number = 240;\n    public penSaturation: number = 100;\n    public penLightness: number = 50;\n    public penAlpha: number = 1;\n    public penCSS: string = '';\n    public penSize: number = 1;\n    public penColor: number = 0x000000;\n    public isPenDown: boolean = false;\n\n    // It's related to dragging sprites.\n    public dragStartX: number = 0;\n    public dragStartY: number = 0;\n    public dragOffsetX: number = 0;\n    public dragOffsetY: number = 0;\n\n    constructor(stage: Stage) {\n      super();\n      this.stage = stage;\n    }\n\n    mouseDown() {\n      this.dragStartX = this.scratchX;\n      this.dragStartY = this.scratchY;\n      this.dragOffsetX = this.scratchX - this.stage.mouseX;\n      this.dragOffsetY = this.scratchY - this.stage.mouseY;\n      this.isDragging = true;\n    }\n\n    mouseUp() {\n      // We consider a sprite to be clicked if it has been dragged to the same start & end points\n      if (this.isDragging && this.scratchX === this.dragStartX && this.scratchY === this.dragStartY) {\n        this.stage.runtime.triggerFor(this, 'whenClicked');\n      }\n      this.isDragging = false;\n    }\n\n    // Determines the rotated bounds of the sprite.\n    rotatedBounds() {\n      const costume = this.costumes[this.currentCostumeIndex];\n\n      const scale = costume.scale * this.scale;\n      var left = -costume.rotationCenterX * scale;\n      var top = costume.rotationCenterY * scale;\n      var right = left + costume.width * scale;\n      var bottom = top - costume.height * scale;\n\n      if (this.rotationStyle !== RotationStyle.Normal) {\n        if (this.rotationStyle === RotationStyle.LeftRight && this.direction < 0) {\n          right = -left;\n          left = right - costume.width * costume.scale * this.scale;\n        }\n        return {\n          left: this.scratchX + left,\n          right: this.scratchX + right,\n          top: this.scratchY + top,\n          bottom: this.scratchY + bottom\n        };\n      }\n\n      const mSin = Math.sin(this.direction * Math.PI / 180);\n      const mCos = Math.cos(this.direction * Math.PI / 180);\n\n      // Top left\n      const tlX = mSin * left - mCos * top;\n      const tlY = mCos * left + mSin * top;\n\n      // Top right\n      const trX = mSin * right - mCos * top;\n      const trY = mCos * right + mSin * top;\n\n      // Bottom left\n      const blX = mSin * left - mCos * bottom;\n      const blY = mCos * left + mSin * bottom;\n\n      // Bottom right\n      const brX = mSin * right - mCos * bottom;\n      const brY = mCos * right + mSin * bottom;\n\n      return {\n        left: this.scratchX + Math.min(tlX, trX, blX, brX),\n        right: this.scratchX + Math.max(tlX, trX, blX, brX),\n        top: this.scratchY + Math.max(tlY, trY, blY, brY),\n        bottom: this.scratchY + Math.min(tlY, trY, blY, brY)\n      };\n    }\n\n    // Shows the rotated bounds of the sprite. For debugging.\n    showRotatedBounds() {\n      var bounds = this.rotatedBounds();\n      var div = document.createElement('div');\n      div.style.outline = '1px solid red';\n      div.style.position = 'absolute';\n      div.style.left = (240 + bounds.left) + 'px';\n      div.style.top = (180 - bounds.top) + 'px';\n      div.style.width = (bounds.right - bounds.left) + 'px';\n      div.style.height = (bounds.top - bounds.bottom) + 'px';\n      this.stage.canvas.parentNode!.appendChild(div);\n    }\n\n    // Implementing Scratch blocks\n\n    createVariableWatcher(target: P.core.Base, variableName: string) {\n      // Asking our parent to handle it is easier.\n      return this.stage.createVariableWatcher(target, variableName);\n    }\n\n    // Moves forward some number of steps in the current direction.\n    forward(steps: number) {\n      const d = (90 - this.direction) * Math.PI / 180;\n      this.moveTo(this.scratchX + steps * Math.cos(d), this.scratchY + steps * Math.sin(d));\n    }\n\n    // Moves the sprite to a coordinate\n    // Draws a line if the pen is currently down.\n    moveTo(x: number, y: number) {\n      var ox = this.scratchX;\n      var oy = this.scratchY;\n      if (ox === x && oy === y && !this.isPenDown) {\n        return;\n      }\n      this.scratchX = x;\n      this.scratchY = y;\n\n      if (this.isPenDown && !this.isDragging) {\n        this.stage.renderer.penLine(this.getPenCSS(), this.penSize, ox, oy, x, y);\n      }\n\n      if (this.saying) {\n        this.updateBubble();\n      }\n    }\n\n    // Makes a pen dot at the current location.\n    dotPen() {\n      this.stage.renderer.penDot(this.getPenCSS(), this.penSize, this.scratchX, this.scratchY);\n    }\n\n    // Stamps the sprite onto the pen layer.\n    stamp() {\n      this.stage.renderer.penStamp(this);\n    }\n\n    getPenCSS() {\n      // This is only temporary\n      return this.penCSS || 'hsla(' + this.penHue + 'deg,' + this.penSaturation + '%,' + (this.penLightness > 100 ? 200 - this.penLightness : this.penLightness) + '%, ' + this.penAlpha + ')';\n    }\n\n    // Faces in a direction.\n    setDirection(degrees: number) {\n      var d = degrees % 360;\n      if (d > 180) d -= 360;\n      if (d <= -180) d += 360;\n      this.direction = d;\n      if (this.saying) this.updateBubble();\n    }\n\n    // Clones this sprite.\n    clone() {\n      const clone = this._clone();\n      clone.isClone = true;\n\n      // Copy variables and lists without passing reference\n      for (const key of Object.keys(this.vars)) {\n        clone.vars[key] = this.vars[key];\n      }\n      for (const key of Object.keys(this.lists)) {\n        clone.lists[key] = this.lists[key].slice(0);\n      }\n\n      clone.filters = {\n        color: this.filters.color,\n        fisheye: this.filters.fisheye,\n        whirl: this.filters.whirl,\n        pixelate: this.filters.pixelate,\n        mosaic: this.filters.mosaic,\n        brightness: this.filters.brightness,\n        ghost: this.filters.ghost\n      };\n\n      // Copy scripts\n      clone.procedures = this.procedures;\n      clone.listeners = this.listeners;\n      clone.fns = this.fns;\n\n      // Copy Data\n      clone.name = this.name;\n      clone.costumes = this.costumes;\n      clone.currentCostumeIndex = this.currentCostumeIndex;\n      clone.sounds = this.sounds;\n      clone.soundRefs = this.soundRefs;\n      clone.direction = this.direction;\n      clone.instrument = this.instrument;\n      clone.isDraggable = this.isDraggable;\n      clone.rotationStyle = this.rotationStyle;\n      clone.scale = this.scale;\n      clone.volume = this.volume;\n      clone.scratchX = this.scratchX;\n      clone.scratchY = this.scratchY;\n      clone.visible = this.visible;\n      clone.penColor = this.penColor;\n      clone.penCSS = this.penCSS;\n      clone.penHue = this.penHue;\n      clone.penSaturation = this.penSaturation;\n      clone.penLightness = this.penLightness;\n      clone.penSize = this.penSize;\n      clone.isPenDown = this.isPenDown;\n      clone.watchers = this.watchers;\n      clone.listWatchers = this.listWatchers;\n\n      return clone;\n    }\n\n    // Must return a new instance of this Sprite's constructor. Data copying will be handled in clone()\n    protected abstract _clone(): P.core.Sprite;\n\n    /**\n     * Determines if this sprite is touching another object.\n     * @param thing The name of the other object(s)\n     */\n    touching(thing: string) {\n      if (thing === SpecialObjects.Mouse) {\n        const x = this.stage.rawMouseX;\n        const y = this.stage.rawMouseY;\n        return this.stage.renderer.spriteTouchesPoint(this, x, y);\n      } else if (thing === SpecialObjects.Edge) {\n        const bounds = this.rotatedBounds();\n        return bounds.left <= -240 || bounds.right >= 240 || bounds.top >= 180 || bounds.bottom <= -180;\n      } else {\n        if (!this.visible) return false;\n        const sprites = this.stage.getObjects(thing);\n        return this.stage.renderer.spritesIntersect(this, sprites);\n      }\n    }\n\n    /**\n     * Determines if this Sprite is touching a color.\n     * @param color RGB color, as a single number.\n     */\n    touchingColor(color: number) {\n      return this.stage.renderer.spriteTouchesColor(this, color);\n    }\n\n    /**\n     * Determines if one of this Sprite's colors are touching another color.\n     * @param sourceColor This sprite's color, as an RGB color.\n     * @param touchingColor The other color, as an RGB color.\n     */\n    colorTouchingColor(sourceColor: number, touchingColor: number) {\n      return this.stage.renderer.spriteColorTouchesColor(this, sourceColor, touchingColor);\n    }\n\n    /**\n     * Bounces this Sprite off of an edge of the Stage, if this Sprite is touching one.\n     */\n    bounceOffEdge() {\n      var b = this.rotatedBounds();\n      var dl = 240 + b.left;\n      var dt = 180 - b.top;\n      var dr = 240 - b.right;\n      var db = 180 + b.bottom;\n\n      var d = Math.min(dl, dt, dr, db);\n      if (d > 0) return;\n\n      var dir = this.direction * Math.PI / 180;\n      var dx = Math.sin(dir);\n      var dy = -Math.cos(dir);\n\n      switch (d) {\n        case dl: dx = Math.max(0.2, Math.abs(dx)); break;\n        case dt: dy = Math.max(0.2, Math.abs(dy)); break;\n        case dr: dx = -Math.max(0.2, Math.abs(dx)); break;\n        case db: dy = -Math.max(0.2, Math.abs(dy)); break;\n      }\n\n      this.direction = Math.atan2(dy, dx) * 180 / Math.PI + 90;\n      if (this.saying) this.updateBubble();\n    }\n\n    /**\n     * Determines the distance from this Sprite's center to another position.\n     * @param thing The name of any position or Sprite, as accepted by getPosition()\n     */\n    distanceTo(thing: string) {\n      const p = this.stage.getPosition(thing);\n      if (!p) {\n        return 10000;\n      }\n      const x = p.x;\n      const y = p.y;\n      return Math.sqrt((this.scratchX - x) * (this.scratchX - x) + (this.scratchY - y) * (this.scratchY - y));\n    }\n\n    /**\n     * Makes this Sprite go to another Sprite\n     * @param thing The name of any position or Sprite, as accepted by getPosition()\n     */\n    gotoObject(thing: string) {\n      const position = this.stage.getPosition(thing);\n      if (!position) {\n        return 0;\n      }\n      this.moveTo(position.x, position.y);\n    }\n\n    /**\n     * Makes this Sprite point towards another object.\n     * @param thing The name of any position or Sprite, as accepted by getPosition()\n     */\n    pointTowards(thing: string) {\n      const position = this.stage.getPosition(thing);\n      if (!position) {\n        return 0;\n      }\n      const dx = position.x - this.scratchX;\n      const dy = position.y - this.scratchY;\n      this.direction = dx === 0 && dy === 0 ? 90 : Math.atan2(dx, dy) * 180 / Math.PI;\n      if (this.saying) this.updateBubble();\n    }\n\n    /**\n     * Set the RGB color of the pen.\n     */\n    setPenColor(color: number | string) {\n      if (typeof color === 'string') {\n        if (color.startsWith('#')) {\n          color = parseInt(color.substr(1), 16);\n        } else if (color.startsWith('0x')) {\n          color = parseInt(color.substr(2), 16);\n        } else {\n          color = +color;\n        }\n      }\n      this.penColor = color;\n      const r = this.penColor >> 16 & 0xff;\n      const g = this.penColor >> 8 & 0xff;\n      const b = this.penColor & 0xff;\n      const a = (this.penColor >> 24 & 0xff) / 0xff || 1;\n      this.penCSS = 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';\n    }\n\n    /**\n     * Convert the pen's color from RGB to HSL\n     */\n    setPenColorHSL() {\n      if (this.penCSS) {\n        const hsl = P.utils.rgbToHSL(this.penColor);\n        this.penHue = hsl[0];\n        this.penSaturation = hsl[1];\n        this.penLightness = hsl[2];\n        this.penAlpha = (this.penColor >> 24 & 0xff) / 0xff || 1;\n        this.penCSS = '';\n      }\n    }\n\n    // Sets a pen color HSL parameter.\n    setPenColorParam(param: string, value: number) {\n      this.setPenColorHSL();\n      switch (param) {\n        case 'color':\n          this.penHue = value * 360 / 100;\n          break;\n        case 'saturation':\n          this.penSaturation = value;\n          break;\n        case 'brightness':\n          this.penLightness = value % 200;\n          if (this.penLightness < 0) {\n            this.penLightness += 200;\n          }\n          break;\n        case 'transparency':\n          this.penAlpha = 1 - (value / 100);\n          if (this.penAlpha > 1) this.penAlpha = 1;\n          if (this.penAlpha < 0) this.penAlpha = 0;\n          break;\n      }\n    }\n\n    // Changes a pen color HSL parameter.\n    changePenColorParam(param: string, value: number) {\n      this.setPenColorHSL();\n      switch (param) {\n        case 'color':\n          this.penHue += value * 360 / 100;\n          break;\n        case 'saturation':\n          this.penSaturation += value;\n          break;\n        case 'brightness':\n          this.penLightness = (this.penLightness + value) % 200;\n          if (this.penLightness < 0) {\n            this.penLightness += 200;\n          }\n          break;\n        case 'transparency':\n          this.penAlpha = Math.max(0, Math.min(1, this.penAlpha - value / 100));\n          break;\n      }\n    }\n  }\n\n  interface CostumeOptions {\n    name: string;\n    bitmapResolution: number;\n    rotationCenterX: number;\n    rotationCenterY: number;\n  }\n\n  // A costume\n  export abstract class Costume {\n    public name: string;\n    public rotationCenterX: number;\n    public rotationCenterY: number;\n    public bitmapResolution: number;\n    public scale: number;\n\n    public width: number;\n    public height: number;\n\n    constructor(costumeData: CostumeOptions) {\n      this.bitmapResolution = costumeData.bitmapResolution;\n      this.scale = 1 / this.bitmapResolution;\n      this.name = costumeData.name;\n      this.rotationCenterX = costumeData.rotationCenterX;\n      this.rotationCenterY = costumeData.rotationCenterY;\n    }\n\n    /**\n     * Gets a 2D context representation of the costume's source (1x zoom)\n     */\n    abstract getContext(): CanvasRenderingContext2D;\n\n    /**\n     * Gets a zoom level of the costume. The costume may provide a different zoom level than requested.\n     */\n    abstract get(scale: number): HTMLImageElement | HTMLCanvasElement;\n  }\n\n  export class BitmapCostume extends Costume {\n    private _context: CanvasRenderingContext2D | null;\n    private source: HTMLCanvasElement | HTMLImageElement;\n\n    constructor(source: HTMLCanvasElement | HTMLImageElement, options: CostumeOptions) {\n      super(options);\n      this.source = source;\n      if (source.tagName === 'CANVAS') {\n        const ctx = (source as HTMLCanvasElement).getContext('2d');\n        if (!ctx) {\n          throw new Error('Cannot get 2d rendering context of costume source');\n        }\n        this._context = ctx;\n      } else {\n        this._context = null;\n      }\n      this.width = source.width;\n      this.height = source.height;\n    }\n\n    get(scale: number) {\n      // Bitmap costumes do not have different resolutions\n      return this.source;\n    }\n\n    getContext() {\n      if (this._context) return this._context;\n\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        throw new Error('cannot get 2d rendering context');\n      }\n      canvas.width = this.width;\n      canvas.height = this.height;\n      ctx.drawImage(this.source, 0, 0);\n      this._context = ctx;\n      return ctx;\n    }\n  }\n\n  export class VectorCostume extends Costume {\n    private source: HTMLImageElement;\n    private _context: CanvasRenderingContext2D;\n    private scales: Array<HTMLCanvasElement> = [];\n\n    constructor(svg: HTMLImageElement, options: CostumeOptions) {\n      super(options);\n      if (svg.height < 1 || svg.width < 1) {\n        svg = new Image(1, 1);\n      }\n      this.width = svg.width;\n      this.height = svg.height;\n      this.source = svg;\n      // calculate the 1x zoom before load because it'll most likely be used.\n      // TODO: maybe don't do this?\n      this.scales[0] = this.getScale(1);\n    }\n\n    private getScale(scale: number) {\n      const canvas = document.createElement('canvas');\n      canvas.width = Math.max(1, this.width * scale);\n      canvas.height = Math.max(1, this.height * scale);\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        throw new Error('cannot get 2d rendering context');\n      }\n      ctx.drawImage(this.source, 0, 0, canvas.width, canvas.height);\n      return canvas;\n    }\n\n    get(scale: number) {\n      scale = Math.min(8, Math.ceil(scale));\n      const index = scale - 1;\n      if (!this.scales[index]) {\n        this.scales[index] = this.getScale(scale);\n      }\n      return this.scales[index];\n    }\n\n    getContext() {\n      if (this._context) return this._context;\n\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        throw new Error('cannot get 2d rendering context');\n      }\n      canvas.width = this.width;\n      canvas.height = this.height;\n      ctx.drawImage(this.source, 0, 0);\n      this._context = ctx;\n      return ctx;\n    }\n  }\n\n  interface SoundOptions {\n    buffer: AudioBuffer;\n    name: string;\n  }\n  // A sound\n  export class Sound {\n    // TODO: Sound doesn't truly need name\n    public name: string;\n    public buffer: AudioBuffer;\n    public duration: number;\n    public source: AudioBufferSourceNode | null = null;\n\n    constructor(data: SoundOptions) {\n      if (!data.buffer) throw new Error('no AudioBuffer');\n      this.name = data.name;\n      this.buffer = data.buffer;\n      this.duration = this.buffer.duration;\n    }\n\n    createSourceNode() {\n      if (this.source) {\n        this.source.disconnect();\n      }\n      this.source = P.audio.context!.createBufferSource();\n      this.source.buffer = this.buffer;\n      this.source.start();\n      return this.source;\n    }\n  }\n\n  export abstract class Watcher {\n    public stage: Stage;\n    public targetName: string;\n    public target: Base;\n    public valid: boolean = true;\n    public visible: boolean = true;\n    public x: number = 0;\n    public y: number = 0;\n\n    constructor(stage: Stage, targetName: string) {\n      // The stage this variable watcher belongs to.\n      this.stage = stage;\n\n      // The name of the owner of this watcher, if any.\n      this.targetName = targetName;\n    }\n\n    // Initializes the Watcher. Called once.\n    // Expected to be overridden.\n    init() {\n      this.target = this.stage.getObject(this.targetName) || this.stage;\n    }\n\n    // The intended way to change visibility\n    setVisible(visible: boolean) {\n      this.visible = visible;\n    }\n\n    // Updates the VariableWatcher. Called every frame.\n    abstract update(): void;\n  }\n\n  // An abstract callable procedure\n  export abstract class Procedure {\n    public fn: P.runtime.Fn;\n    public warp: boolean;\n    public inputs: any[];\n\n    constructor(fn: runtime.Fn, warp: boolean, inputs: any[]) {\n      this.fn = fn;\n      this.warp = warp;\n      this.inputs = inputs;\n    }\n\n    // Call takes a list of inputs and must return the proper arguments to set C.args to in the runtime.\n    // Result can be anything as long as the compiler knows how to interpret it.\n    abstract call(inputs: any[]): any;\n  }\n\n  /**\n   * Determines if an object is a sprite\n   * Can be used to ease type assertions.\n   */\n  export function isSprite(base: P.core.Base): base is P.core.Sprite {\n    return base.isSprite;\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n\ninterface FontFaceObserver {\n  new(font: string): FontFaceObserver;\n  load(text?: string, timeout?: number): Promise<void>;\n}\ndeclare var FontFaceObserver: FontFaceObserver;\n\n/**\n * Font helpers\n */\nnamespace P.fonts {\n  const fontFamilyCache: ObjectMap<string> = {};\n\n  export const scratch3 = {\n    'Marker': 'fonts/Knewave-Regular.woff',\n    'Handwriting': 'fonts/Handlee-Regular.woff',\n    'Pixel': 'fonts/Grand9K-Pixel.ttf',\n    'Curly': 'fonts/Griffy-Regular.woff',\n    'Serif': 'fonts/SourceSerifPro-Regular.woff',\n    'Sans Serif': 'fonts/NotoSans-Regular.woff',\n    'Scratch': 'fonts/Scratch.ttf',\n  };\n\n  /**\n   * Asynchronously load and cache a font\n   */\n  export function loadLocalFont(fontFamily: string, src: string): Promise<string> {\n    if (fontFamilyCache[fontFamily]) {\n      return Promise.resolve(fontFamilyCache[fontFamily]);\n    }\n    return new P.IO.BlobRequest(src, {local: true}).load()\n      .then((blob) => P.IO.readers.toDataURL(blob))\n      .then((url) => {\n        fontFamilyCache[fontFamily] = url;\n        return url;\n      });\n  }\n\n  /**\n   * Gets an already loaded and cached font\n   */\n  function getFont(fontFamily: string): string | null {\n    if (!(fontFamily in fontFamilyCache)) {\n      return null;\n    }\n    return fontFamilyCache[fontFamily];\n  }\n\n  function getCSSFontFace(fontFamily: string, src: string) {\n    return `@font-face { font-family: \"${fontFamily}\"; src: url(\"${src}\"); }`;\n  }\n\n  /**\n   * Add an inline <style> element to an SVG containing fonts loaded through loadFontSet\n   */\n  export function addFontRules(svg: SVGElement, fonts: string[]) {\n    const cssRules: string[] = [];\n    for (const fontName of fonts) {\n      const font = getFont(fontName);\n      if (!font) {\n        console.warn('unknown font from cache', fontName);\n        continue;\n      }\n      cssRules.push(getCSSFontFace(fontName, font));\n    }\n\n    const doc = svg.ownerDocument!;\n    const defs = doc.createElementNS('http://www.w3.org/2000/svg', 'defs');\n    const style = doc.createElementNS('http://www.w3.org/2000/svg', 'style');\n    style.innerHTML = cssRules.join('\\n');\n    defs.appendChild(style);\n    svg.appendChild(style);\n  }\n\n  /**\n   * Load a CSS @font-face font.\n   */\n  export function loadWebFont(name: string): Promise<void> {\n    const observer = new FontFaceObserver(name);\n    return observer.load();\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n\n// IO helpers and hooks\n\nnamespace P.IO {\n  /**\n   * Configuration of IO behavior\n   */\n  export var config = {\n    /**\n     * A relative or absolute path to a full installation of forkphorus, from which \"local\" files can be fetched.\n     * Do not including a trailing slash.\n     */\n    localPath: '',\n  };\n\n  // non-http/https protocols cannot xhr request local files, so utilize forkphorus.github.io instead\n  if (['http:', 'https:'].indexOf(location.protocol) === -1) {\n    config.localPath = 'https://forkphorus.github.io';\n  }\n\n  interface RequestOptions {\n    local?: boolean;\n  }\n\n  export abstract class Request<T> {\n    public url: string;\n\n    constructor(url: string, options: RequestOptions = {}) {\n      if (options.local) {\n        if (url.indexOf('data:') !== 0) {\n          url = config.localPath + url;\n        }\n      }\n      this.url = url;\n    }\n\n    /**\n     * Attempts to load this request.\n     */\n    load(): Promise<T> {\n      return new Promise((resolve, reject) => {\n        const attempt = (errorCallback: (err: any) => void) => {\n          this._load()\n            .then((response) => {\n              resolve(response);\n            })\n            .catch((err) => {\n              errorCallback(err);\n            });\n        };\n        attempt((err) => {\n          // try once more after a short delay\n          console.warn(`First attempt to download ${this.url} failed, trying again (${err})`);\n          setTimeout(function() {\n            attempt((err) => {\n              reject(err);\n            });\n          }, 250);\n        });\n      });\n    }\n\n    protected abstract _load(): Promise<T>;\n  }\n\n  export abstract class XHRRequest<T> extends Request<T> {\n    public xhr: XMLHttpRequest = new XMLHttpRequest();\n    public static acceptableResponseCodes = [0, 200];\n\n    protected _load(): Promise<T> {\n      return new Promise((resolve, reject) => {\n        const xhr = this.xhr;\n        xhr.addEventListener('load', () => {\n          if (XHRRequest.acceptableResponseCodes.indexOf(xhr.status) !== -1) {\n            resolve(xhr.response);\n          } else {\n            reject(new Error(`HTTP Error ${xhr.status} while downloading ${this.url}`));\n          }\n        });\n        xhr.addEventListener('error', (err) => {\n          reject(`Error while downloading ${this.url} (error) (${xhr.status})`);\n        });\n        xhr.addEventListener('abort', (err) => {\n          reject(`Error while downloading ${this.url} (abort) (${xhr.status})`);\n        });\n        xhr.open('GET', this.url);\n        xhr.responseType = this.type as XMLHttpRequestResponseType;\n        setTimeout(xhr.send.bind(xhr));\n      });\n    }\n\n    protected abstract get type(): string;\n  }\n\n  export class ArrayBufferRequest extends XHRRequest<ArrayBuffer> {\n    protected get type() { return 'arraybuffer'; }\n  }\n  export class BlobRequest extends XHRRequest<Blob> {\n    protected get type() { return 'blob'; }\n  }\n  export class TextRequest extends XHRRequest<string> {\n    protected get type() { return 'text'; }\n  }\n  export class JSONRequest extends XHRRequest<any> {\n    protected get type() { return 'json'; }\n  }\n\n  /**\n   * Utilities for asynchronously reading Blobs or Files\n   */\n  export namespace readers {\n    type Readable = Blob | File;\n\n    export function toArrayBuffer(object: Readable): Promise<ArrayBuffer> {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.onloadend = function() {\n          resolve(fileReader.result as ArrayBuffer);\n        };\n        fileReader.onerror = function(err) {\n          reject('Could not read object');\n        };\n        fileReader.onprogress = function(progress) {\n\n        };\n        fileReader.readAsArrayBuffer(object);\n      });\n    }\n\n    export function toDataURL(object: Readable): Promise<string> {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.onloadend = function() {\n          resolve(fileReader.result as string);\n        };\n        fileReader.onerror = function(err) {\n          reject('Could not read object');\n        };\n        fileReader.onprogress = function(progress) {\n\n        };\n        fileReader.readAsDataURL(object);\n      });\n    }\n\n    export function toText(object: Readable): Promise<string> {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.onloadend = function() {\n          resolve(fileReader.result as string);\n        };\n        fileReader.onerror = function(err) {\n          reject('Could not read object');\n        };\n        fileReader.onprogress = function(progress) {\n\n        };\n        fileReader.readAsText(object);\n      });\n    }\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"core.ts\" />\n/// <reference path=\"audio.ts\" />\n\n// The phosphorus runtime for Scratch\n// Provides methods expected at runtime by scripts created by the compiler and an environment for Scratch scripts to run\nnamespace P.runtime {\n  export type Fn = () => void;\n\n  // Global variables expected by scripts at runtime:\n  // Current runtime\n  var runtime: Runtime;\n  // Current stage\n  var self: P.core.Stage;\n  // Current sprite or stage\n  var S: P.core.Base;\n  // Current thread state.\n  var R;\n  // Stack of states (R) for this thread\n  var STACK;\n  // Current procedure call, if any. Contains arguments.\n  var C: ThreadCall;\n  // This thread's call (C) stack\n  var CALLS;\n  // If level of layers of \"Run without screen refresh\" we are in\n  // Each level (usually procedures) of depth will increment and decrement as they start and stop.\n  // As long as this is greater than 0, functions will run without waiting for the screen.\n  var WARP: number;\n  // ??\n  var BASE;\n  // The ID of the active thread in the Runtime's queue\n  var THREAD: number;\n  // The next function to run immediately after this one.\n  var IMMEDIATE: Fn | null | undefined;\n  // Has a \"visual change\" been made in this frame?\n  var VISUAL: boolean;\n\n  // Note:\n  // Your editor might warn you about \"unused variables\" or things like that.\n  // Due to the nature of the runtime you should ignore these warnings.\n\n  const epoch = Date.UTC(2000, 0, 1);\n  const INSTRUMENTS = P.audio.instruments;\n  const DRUMS = P.audio.drums;\n  const DIGIT = /\\d/;\n\n  var bool = function(v) {\n    return +v !== 0 && v !== '' && v !== 'false' && v !== false;\n  };\n\n  var compare = function(x, y) {\n    if ((typeof x === 'number' || DIGIT.test(x)) && (typeof y === 'number' || DIGIT.test(y))) {\n      var nx = +x;\n      var ny = +y;\n      if (nx === nx && ny === ny) {\n        return nx < ny ? -1 : nx === ny ? 0 : 1;\n      }\n    }\n    var xs = ('' + x).toLowerCase();\n    var ys = ('' + y).toLowerCase();\n    return xs < ys ? -1 : xs === ys ? 0 : 1;\n  };\n\n  var numLess = function(nx, y) {\n    if (typeof y === 'number' || DIGIT.test(y)) {\n      var ny = +y;\n      if (ny === ny) {\n        return nx < ny;\n      }\n    }\n    var ys = ('' + y).toLowerCase();\n    return '' + nx < ys;\n  };\n\n  var numGreater = function(nx, y) {\n    if (typeof y === 'number' || DIGIT.test(y)) {\n      var ny = +y;\n      if (ny === ny) {\n        return nx > ny;\n      }\n    }\n    var ys = ('' + y).toLowerCase();\n    return '' + nx > ys;\n  };\n\n  var equal = function(x: any, y: any) {\n    if ((typeof x === 'number' || typeof x === 'boolean' || DIGIT.test(x)) && (typeof y === 'number' || typeof x === 'boolean' || DIGIT.test(y))) {\n      var nx = +x;\n      var ny = +y;\n      if (nx === nx && ny === ny) {\n        return nx === ny;\n      }\n    }\n    var xs = ('' + x).toLowerCase();\n    var ys = ('' + y).toLowerCase();\n    return xs === ys;\n  };\n\n  // Equality testing optimized for the first argument always being a number.\n  var numEqual = function(nx: number, y: any) {\n    if (typeof y === 'number' || DIGIT.test(y)) {\n      var ny = +y;\n      return ny === ny && nx === ny;\n    }\n    return false;\n  };\n\n  // Equality testing optimized for either argument never being number-like.\n  var strEqual = function(a: any, b: any) {\n    return (a + '').toLowerCase() === (b + '').toLowerCase();\n  };\n\n  var mod = function(x, y) {\n    var r = x % y;\n    // need special behavior for handling negatives\n    if (r / y < 0) {\n      r += y;\n    }\n    return r;\n  };\n\n  var random = function(x, y) {\n    var fractional =\n      (typeof x === 'string' && !isNaN(+x) && x.indexOf('.') > -1) ||\n      (typeof y === 'string' && !isNaN(+y) && y.indexOf('.') > -1);\n    x = +x || 0;\n    y = +y || 0;\n    if (x > y) {\n      var tmp = y;\n      y = x;\n      x = tmp;\n    }\n    if (!fractional && (x % 1 === 0 && y % 1 === 0)) {\n      return Math.floor(Math.random() * (y - x + 1)) + x;\n    }\n    return Math.random() * (y - x) + x;\n  };\n\n  var rgb2hsl = function(rgb) {\n    // TODO: P.utils.rgb2hsl?\n    var r = (rgb >> 16 & 0xff) / 0xff;\n    var g = (rgb >> 8 & 0xff) / 0xff;\n    var b = (rgb & 0xff) / 0xff;\n\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n\n    if (min === max) {\n      return [0, 0, r * 100];\n    }\n\n    var c = max - min;\n    var l = (min + max) / 2;\n    var s = c / (1 - Math.abs(2 * l - 1));\n\n    var h;\n    switch (max) {\n      case r: h = ((g - b) / c + 6) % 6; break;\n      case g: h = (b - r) / c + 2; break;\n      case b: h = (r - g) / c + 4; break;\n    }\n    h *= 60;\n\n    return [h, s * 100, l * 100];\n  };\n\n  // Clone a sprite\n  var clone = function(name) {\n    const parent = name === '_myself_' ? S : self.getObject(name);\n    if (!parent) {\n      throw new Error('No parent!');\n    }\n    if (!P.core.isSprite(parent)) {\n      throw new Error('Cannot clone non-sprite object');\n    }\n    const c = parent.clone();\n    self.children.splice(self.children.indexOf(parent), 0, c);\n    runtime.triggerFor(c, 'whenCloned');\n  };\n\n  var getVars = function(name) {\n    return self.vars[name] !== undefined ? self.vars : S.vars;\n  };\n\n  var getLists = function(name) {\n    if (self.lists[name] !== undefined) return self.lists;\n    if (S.lists[name] === undefined) {\n      S.lists[name] = [];\n    }\n    return S.lists;\n  };\n\n  var listIndex = function(list, index, length) {\n    var i = index | 0;\n    if (i === index) return i > 0 && i <= length ? i - 1 : -1;\n    if (index === 'random' || index === 'any') {\n      return Math.random() * length | 0;\n    }\n    if (index === 'last') {\n      return length - 1;\n    }\n    return i > 0 && i <= length ? i - 1 : -1;\n  };\n\n  var contentsOfList = function(list) {\n    var isSingle = true;\n    for (var i = list.length; i--;) {\n      if (list[i].length !== 1) {\n        isSingle = false;\n        break;\n      }\n    }\n    return list.join(isSingle ? '' : ' ');\n  };\n  var getLineOfList = function(list, index) {\n    var i = listIndex(list, index, list.length);\n    return i !== -1 ? list[i] : '';\n  };\n  var listContains = function(list, value) {\n    for (var i = list.length; i--;) {\n      if (equal(list[i], value)) return true;\n    }\n    return false;\n  };\n  var listIndexOf = function(list, value) {\n    for (var i = 0; i < list.length; i++) {\n      if (equal(list[i], value)) return i + 1;\n    }\n    return 0;\n  };\n  var appendToList = function(list, value) {\n    list.push(value);\n  };\n  var deleteLineOfList = function(list, index) {\n    if (index === 'all') {\n      list.length = 0;\n    } else {\n      var i = listIndex(list, index, list.length);\n      if (i === list.length - 1) {\n        list.pop();\n      } else if (i !== -1) {\n        list.splice(i, 1);\n      }\n    }\n  };\n  var insertInList = function(list, index, value) {\n    var i = listIndex(list, index, list.length + 1);\n    if (i === list.length) {\n      list.push(value);\n    } else if (i !== -1) {\n      list.splice(i, 0, value);\n    }\n  };\n  var setLineOfList = function(list, index, value) {\n    var i = listIndex(list, index, list.length);\n    if (i !== -1) {\n      list[i] = value;\n    }\n  };\n\n  // \"Watched\" variants of the above that set modified=true\n  var watchedAppendToList = function(list, value) {\n    appendToList(list, value);\n    if (!list.modified) list.modified = true;\n  };\n  var watchedDeleteLineOfList = function(list, index) {\n    deleteLineOfList(list, index);\n    if (!list.modified) list.modified = true;\n  };\n  var watchedInsertInList = function(list, index, value) {\n    insertInList(list, index, value);\n    if (!list.modified) list.modified = true;\n  };\n  var watchedSetLineOfList = function(list, index, value) {\n    setLineOfList(list, index, value);\n    if (!list.modified) list.modified = true;\n  };\n\n  var mathFunc = function(f, x) {\n    switch (f) {\n      case 'abs':\n        return Math.abs(x);\n      case 'floor':\n        return Math.floor(x);\n      case 'sqrt':\n        return Math.sqrt(x);\n      case 'ceiling':\n        return Math.ceil(x);\n      case 'cos':\n        return Math.cos(x * Math.PI / 180);\n      case 'sin':\n        return Math.sin(x * Math.PI / 180);\n      case 'tan':\n        return Math.tan(x * Math.PI / 180);\n      case 'asin':\n        return Math.asin(x) * 180 / Math.PI;\n      case 'acos':\n        return Math.acos(x) * 180 / Math.PI;\n      case 'atan':\n        return Math.atan(x) * 180 / Math.PI;\n      case 'ln':\n        return Math.log(x);\n      case 'log':\n        return Math.log(x) / Math.LN10;\n      case 'e ^':\n        return Math.exp(x);\n      case '10 ^':\n        return Math.exp(x * Math.LN10);\n    }\n    return 0;\n  };\n\n  var attribute = function(attr, objName) {\n    // https://github.com/LLK/scratch-vm/blob/e236d29ff5e03f7c4d77a614751da860521771fd/src/blocks/scratch3_sensing.js#L280\n    const o = self.getObject(objName);\n    if (!o) return 0;\n    if (P.core.isSprite(o)) {\n      switch (attr) {\n        case 'x position': return o.scratchX;\n        case 'y position': return o.scratchY;\n        case 'direction': return o.direction;\n        case 'costume #': return o.currentCostumeIndex + 1;\n        case 'costume name': return o.costumes[o.currentCostumeIndex].name;\n        case 'size': return o.scale * 100;\n        case 'volume': return o.volume * 100;\n      }\n    } else {\n      switch (attr) {\n        case 'background #':\n        case 'backdrop #': return o.currentCostumeIndex + 1;\n        case 'backdrop name': return o.costumes[o.currentCostumeIndex].name;\n        case 'volume': return o.volume * 100;\n      }\n    }\n    const value = o.vars[attr];\n    if (value !== undefined) {\n      return value;\n    }\n    return 0;\n  };\n\n  var timeAndDate = function(format: any): number {\n    switch (format) {\n      case 'year':\n        return new Date().getFullYear();\n      case 'month':\n        return new Date().getMonth() + 1;\n      case 'date':\n        return new Date().getDate();\n      case 'day of week':\n        return new Date().getDay() + 1;\n      case 'hour':\n        return new Date().getHours();\n      case 'minute':\n        return new Date().getMinutes();\n      case 'second':\n        return new Date().getSeconds();\n    }\n    return 0;\n  }\n\n  /**\n   * Converts the name of a key to its code\n   */\n  export function getKeyCode(keyName: string): number | 'any' {\n    switch (keyName.toLowerCase()) {\n      case 'space': return 32;\n      case 'left arrow': return 37;\n      case 'up arrow': return 38;\n      case 'right arrow': return 39;\n      case 'down arrow': return 40;\n      case 'any': return 'any';\n    }\n\n    return keyName.toUpperCase().charCodeAt(0);\n  }\n\n  // Load audio methods if audio is supported\n  const audioContext = P.audio.context;\n  if (audioContext) {\n    var playNote = function(key, duration) {\n      var span;\n      var spans = INSTRUMENTS[S.instrument];\n      for (var i = 0, l = spans.length; i < l; i++) {\n        span = spans[i];\n        if (span.top >= key || span.top === 128) break;\n      }\n      P.audio.playSpan(span, key, duration, S.getAudioNode());\n    };\n\n    var playSpan = function(span, key, duration) {\n      P.audio.playSpan(span, key, duration, S.getAudioNode());\n    };\n\n    var playSound = function(sound: P.core.Sound): P.core.ActiveSound {\n      const node = sound.createSourceNode();\n      node.connect(S.getAudioNode());\n      return {\n        stopped: false,\n        node,\n        base: BASE,\n      };\n    };\n\n    var startSound = function(sound: P.core.Sound) {\n      const node = sound.createSourceNode();\n      node.connect(S.getAudioNode());\n    };\n  }\n\n  var save = function() {\n    STACK.push(R);\n    R = {};\n  };\n\n  var restore = function() {\n    R = STACK.pop();\n  };\n\n  var call = function(procedure: P.core.Procedure, id, values) {\n    if (procedure) {\n      STACK.push(R);\n      CALLS.push(C);\n      C = {\n        base: procedure.fn,\n        fn: S.fns[id],\n        args: procedure.call(values),\n        numargs: [],\n        boolargs: [],\n        stack: STACK = [],\n        warp: procedure.warp,\n      };\n      R = {};\n      if (C.warp || WARP) {\n        WARP++;\n        IMMEDIATE = procedure.fn;\n      } else {\n        for (var i = CALLS.length, j = 5; i-- && j--;) {\n          if (CALLS[i].base === procedure.fn) {\n            runtime.queue[THREAD] = new Thread(S, BASE, procedure.fn, CALLS);\n            break;\n          }\n        }\n        IMMEDIATE = procedure.fn;\n      }\n    } else {\n      IMMEDIATE = S.fns[id];\n    }\n  };\n\n  var endCall = function() {\n    if (CALLS.length) {\n      if (WARP) WARP--;\n      IMMEDIATE = C.fn;\n      C = CALLS.pop();\n      STACK = C.stack;\n      R = STACK.pop();\n    }\n  };\n\n  var sceneChange = function() {\n    return runtime.trigger('whenSceneStarts', self.getCostumeName());\n  };\n\n  var backdropChange = function() {\n    return runtime.trigger('whenBackdropChanges', self.getCostumeName());\n  };\n\n  var broadcast = function(name) {\n    return runtime.trigger('whenIReceive', name);\n  };\n\n  var running = function(bases) {\n    for (var j = 0; j < runtime.queue.length; j++) {\n      if (runtime.queue[j] && bases.indexOf(runtime.queue[j]!.base) !== -1) return true;\n    }\n    return false;\n  };\n\n  var queue = function(id) {\n    if (WARP) {\n      IMMEDIATE = S.fns[id];\n    } else {\n      forceQueue(id);\n    }\n  };\n\n  var forceQueue = function(id) {\n    runtime.queue[THREAD] = new Thread(S, BASE, S.fns[id], CALLS);\n  };\n\n  type ThreadResume = any;\n\n  interface ThreadCall {\n    fn?: Fn;\n    stack: ThreadResume[];\n    [s: string]: any;\n  }\n\n  class Thread {\n    constructor(\n      public sprite: P.core.Base,\n      public base: Fn,\n      public fn: Fn,\n      public calls: ThreadCall[],\n    ) {\n\n    }\n  }\n\n  export class Runtime {\n    public queue: Array<Thread | undefined> = [];\n    public isRunning: boolean = false;\n    public timerStart: number = 0;\n    public baseTime: number = 0;\n    public baseNow: number = 0;\n    public interval: number;\n    public isTurbo: boolean = false;\n    public framerate: number = 30;\n\n    constructor(public stage: P.core.Stage) {\n      // Fix scoping\n      this.onError = this.onError.bind(this);\n      this.step = this.step.bind(this);\n    }\n\n    startThread(sprite: core.Base, base: Fn) {\n      const thread = new Thread(sprite, base, base, [{\n        args: [],\n        stack: [{}],\n      }]);\n\n      // Replace an existing thread instead of adding a new one when possible.\n      for (let i = 0; i < this.queue.length; i++) {\n        const q = this.queue[i];\n        if (q && q.sprite === sprite && q.base === base) {\n          this.queue[i] = thread;\n          return;\n        }\n      }\n\n      this.queue.push(thread);\n    }\n\n    /**\n     * Triggers an event for a single sprite.\n     */\n    triggerFor(sprite: P.core.Base, event: string, arg?: any): Fn[] {\n      let threads: Fn[];\n      switch (event) {\n        case 'whenClicked': threads = sprite.listeners.whenClicked; break;\n        case 'whenCloned': threads = sprite.listeners.whenCloned; break;\n        case 'whenGreenFlag': threads = sprite.listeners.whenGreenFlag; break;\n        case 'whenKeyPressed': threads = sprite.listeners.whenKeyPressed[arg]; break;\n        case 'whenSceneStarts': threads = sprite.listeners.whenSceneStarts[('' + arg).toLowerCase()]; break;\n        case 'whenBackdropChanges': threads = sprite.listeners.whenBackdropChanges['' + arg]; break;\n        case 'whenIReceive':\n          arg = '' + arg;\n          // TODO: remove toLowerCase() check?\n          threads = sprite.listeners.whenIReceive[arg] || sprite.listeners.whenIReceive[arg.toLowerCase()];\n          break;\n        default: throw new Error('Unknown trigger event: ' + event);\n      }\n      if (threads) {\n        for (let i = 0; i < threads.length; i++) {\n          this.startThread(sprite, threads[i]);\n        }\n      }\n      return threads || [];\n    }\n\n    /**\n     * Triggers an event on all sprites.\n     */\n    trigger(event: string, arg?: any) {\n      let threads: Fn[] = [];\n      for (let i = this.stage.children.length; i--;) {\n        threads = threads.concat(this.triggerFor(this.stage.children[i], event, arg));\n      }\n      return threads.concat(this.triggerFor(this.stage, event, arg));\n    }\n\n    /**\n     * Trigger's the project's green flag.\n     */\n    triggerGreenFlag() {\n      this.timerStart = this.now();\n      this.trigger('whenGreenFlag');\n    }\n\n    /**\n     * Begins the runtime's event loop.\n     * Does not start any scripts.\n     */\n    start() {\n      this.isRunning = true;\n      if (this.interval) return;\n      window.addEventListener('error', this.onError);\n      this.baseTime = Date.now();\n      this.interval = setInterval(this.step, 1000 / this.framerate);\n      if (audioContext) audioContext.resume();\n      this.stage.start();\n    }\n\n    /**\n     * Pauses the event loop\n     */\n    pause() {\n      if (this.interval) {\n        this.baseNow = this.now();\n        clearInterval(this.interval);\n        this.interval = 0;\n        window.removeEventListener('error', this.onError);\n        if (audioContext) audioContext.suspend();\n        this.stage.pause();\n      }\n      this.isRunning = false;\n    }\n\n    /**\n     * Resets the interval loop without the effects of pausing/starting\n     */\n    resetInterval() {\n      if (!this.isRunning) {\n        throw new Error('cannot restart interval when paused');\n      }\n      if (this.interval) {\n        clearInterval(this.interval);\n      }\n      this.interval = setInterval(this.step, 1000 / this.framerate);\n    }\n\n    stopAll() {\n      this.stage.hidePrompt = false;\n      this.stage.prompter.style.display = 'none';\n      this.stage.promptId = this.stage.nextPromptId = 0;\n      this.queue.length = 0;\n      this.stage.resetFilters();\n      this.stage.stopSounds();\n      for (var i = 0; i < this.stage.children.length; i++) {\n        const c = this.stage.children[i];\n        if (c.isClone) {\n          c.remove();\n          this.stage.children.splice(i, 1);\n          i -= 1;\n        } else {\n          c.resetFilters();\n          if (c.saying && P.core.isSprite(c)) c.say('');\n          c.stopSounds();\n        }\n      }\n    }\n\n    /**\n     * The current time in the project\n     */\n    now(): number {\n      return this.baseNow + Date.now() - this.baseTime;\n    }\n\n    evaluateExpression(sprite: P.core.Base, fn: () => any) {\n      // We will load a few runtime values for this.\n      // These are the values that are most commonly used in expressions, in addition the runtime methods.\n      self = this.stage;\n      runtime = this;\n      S = sprite;\n      try {\n        return fn();\n      } catch (e) {\n        return undefined;\n      }\n    }\n\n    /**\n     * Advances one frame into the future.\n     */\n    step() {\n      // Reset runtime variables\n      self = this.stage;\n      runtime = this;\n      VISUAL = false;\n\n      // TODO: instead of looping through all sprites, maintain a separate list of draggable sprites?\n      for (var i = 0; i < this.stage.children.length; i++) {\n        const c = this.stage.children[i];\n        if (c.isDragging) {\n          c.moveTo(c.dragOffsetX + c.stage.mouseX, c.dragOffsetY + c.stage.mouseY);\n        }\n      }\n\n      if (audioContext && audioContext.state === 'suspended') {\n        audioContext.resume();\n      }\n\n      const start = Date.now();\n      const queue = this.queue;\n      do {\n        for (THREAD = 0; THREAD < queue.length; THREAD++) {\n          const thread = queue[THREAD];\n          if (thread) {\n            // Load thread data\n            S = thread.sprite;\n            IMMEDIATE = thread.fn;\n            BASE = thread.base;\n            CALLS = thread.calls;\n            C = CALLS.pop();\n            STACK = C.stack;\n            R = STACK.pop();\n            queue[THREAD] = undefined;\n            WARP = 0;\n\n            while (IMMEDIATE) {\n              const fn = IMMEDIATE;\n              IMMEDIATE = null;\n              fn();\n            }\n\n            STACK.push(R);\n            CALLS.push(C);\n          }\n        }\n\n        // Remove empty elements in the queue list\n        for (let i = queue.length; i--;) {\n          if (!queue[i]) {\n            queue.splice(i, 1);\n          }\n        }\n      } while ((this.isTurbo || !VISUAL) && Date.now() - start < 1000 / this.framerate && queue.length);\n\n      this.stage.draw();\n    }\n\n    onError(e) {\n      clearInterval(this.interval);\n      this.handleError(e.error);\n    }\n\n    handleError(e) {\n      // Default error handler\n      console.error(e);\n    }\n  }\n\n  // Very dirty temporary hack to get a crashmonitor installed w/o affecting performance\n  if (P.config.useCrashMonitor) {\n    Runtime.prototype.step = function() {\n      // Reset runtime variables\n      self = this.stage;\n      runtime = this;\n      VISUAL = false;\n\n      if (audioContext && audioContext.state === 'suspended') {\n        audioContext.resume();\n      }\n\n      const start = Date.now();\n      const queue = this.queue;\n      do {\n        for (THREAD = 0; THREAD < queue.length; THREAD++) {\n          const thread = queue[THREAD];\n          if (thread) {\n            // Load thread data\n            S = thread.sprite;\n            IMMEDIATE = thread.fn;\n            BASE = thread.base;\n            CALLS = thread.calls;\n            C = CALLS.pop();\n            STACK = C.stack;\n            R = STACK.pop();\n            queue[THREAD] = undefined;\n            WARP = 0;\n\n            while (IMMEDIATE) {\n              if (Date.now() - start > 5000) {\n                const el = document.createElement('pre');\n                el.textContent += 'crash monitor debug:\\n';\n                el.textContent += `S: ${S.name} (isClone=${S.isClone},isStage=${S.isStage})\\n`;\n                el.textContent += `IMMEDIATE: ${IMMEDIATE.toString()} // (${S.fns.indexOf(IMMEDIATE)})\\n`;\n                document.querySelector('#app')!.appendChild(el);\n                alert('forkphorus has crashed. please include the debug information at the bottom of the page.')\n                this.pause();\n                this.stopAll();\n                return;\n              }\n              const fn = IMMEDIATE;\n              IMMEDIATE = null;\n              fn();\n            }\n\n            STACK.push(R);\n            CALLS.push(C);\n          }\n        }\n\n        // Remove empty elements in the queue list\n        for (let i = queue.length; i--;) {\n          if (!queue[i]) {\n            queue.splice(i, 1);\n          }\n        }\n      } while ((this.isTurbo || !VISUAL) && Date.now() - start < 1000 / this.framerate && queue.length);\n\n      this.stage.draw();\n    }\n  }\n\n  export function createContinuation(source: string): P.runtime.Fn {\n    // TODO: make understandable\n    var result = '(function() {\\n';\n    var brackets = 0;\n    var delBrackets = 0;\n    var shouldDelete = false;\n    var here = 0;\n    var length = source.length;\n    while (here < length) {\n      var i = source.indexOf('{', here);\n      var j = source.indexOf('}', here);\n      var k = source.indexOf('return;', here);\n      if (k === -1) k = length;\n      if (i === -1 && j === -1) {\n        if (!shouldDelete) {\n          result += source.slice(here, k);\n        }\n        break;\n      }\n      if (i === -1) i = length;\n      if (j === -1) j = length;\n      if (shouldDelete) {\n        if (i < j) {\n          delBrackets++;\n          here = i + 1;\n        } else {\n          delBrackets--;\n          if (!delBrackets) {\n            shouldDelete = false;\n          }\n          here = j + 1;\n        }\n      } else {\n        if (brackets === 0 && k < i && k < j) {\n          result += source.slice(here, k);\n          break;\n        }\n        if (i < j) {\n          result += source.slice(here, i + 1);\n          brackets++;\n          here = i + 1;\n        } else {\n          result += source.slice(here, j);\n          here = j + 1;\n          if (source.substr(j, 8) === '} else {') {\n            if (brackets > 0) {\n              result += '} else {';\n              here = j + 8;\n            } else {\n              shouldDelete = true;\n              delBrackets = 0;\n            }\n          } else {\n            if (brackets > 0) {\n              result += '}';\n              brackets--;\n            }\n          }\n        }\n      }\n    }\n    result += '})';\n    return scopedEval(result);\n  }\n\n  // Evaluate JavaScript within the scope of the runtime.\n  export function scopedEval(source: string): any {\n    return eval(source);\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n\nnamespace P.utils {\n  import RotationStyle = P.core.RotationStyle;\n  /**\n   * Parses a Scratch rotation style string to a RotationStyle enum\n   */\n  export function parseRotationStyle(style: string): RotationStyle {\n    switch (style) {\n      case 'leftRight':\n      case 'left-right':\n        return RotationStyle.LeftRight;\n      case 'none':\n      case 'don\\'t rotate':\n        return RotationStyle.None;\n      case 'normal':\n      case 'all around':\n        return RotationStyle.Normal;\n    }\n    console.warn('unknown rotation style', style);\n    return RotationStyle.Normal;\n  }\n\n  /**\n   * Converts an RGB color to an HSL color\n   * @param rgb RGB Color\n   */\n  export function rgbToHSL(rgb: number): [number, number, number] {\n    var r = (rgb >> 16 & 0xff) / 0xff;\n    var g = (rgb >> 8 & 0xff) / 0xff;\n    var b = (rgb & 0xff) / 0xff;\n\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n\n    if (min === max) {\n      return [0, 0, r * 100];\n    }\n\n    var c = max - min;\n    var l = (min + max) / 2;\n    var s = c / (1 - Math.abs(2 * l - 1));\n\n    var h: number;\n    switch (max) {\n      case r: h = ((g - b) / c + 6) % 6; break;\n      case g: h = (b - r) / c + 2; break;\n      case b: h = (r - g) / c + 4; break;\n    }\n    h! *= 60;\n\n    return [h!, s * 100, l * 100];\n  }\n\n  /**\n   * Clamps a number within a range\n   * @param number The number\n   * @param min Minimum, inclusive\n   * @param max Maximum, inclusive\n   */\n  export function clamp(number: number, min: number, max: number) {\n    return Math.min(max, Math.max(min, number));\n  }\n\n  /*\n   * Creates a promise that resolves when the original promise resolves or fails.\n   */\n  export function settled(promise: Promise<any>): Promise<void> {\n    return new Promise((resolve, _reject) => {\n      promise\n        .then(() => resolve())\n        .catch(() => resolve());\n    });\n  }\n\n  type SlotFn<T> = (t: T) => void;\n\n  export class Slot<T> {\n    private _listeners: SlotFn<T>[] = [];\n\n    subscribe(fn: SlotFn<T>) {\n      this._listeners.push(fn);\n    }\n\n    emit(value: T) {\n      for (const listener of this._listeners) {\n        listener(value);\n      }\n    }\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"utils.ts\" />\n/// <reference path=\"core.ts\" />\n/// <reference path=\"fonts.ts\" />\n/// <reference path=\"config.ts\" />\n\nnamespace P.sb2 {\n  const ASSET_URL = 'https://cdn.assets.scratch.mit.edu/internalapi/asset/';\n  let zipArchive: JSZip.Zip;\n\n  export interface Hooks {\n    newTask(): void;\n    endTask(): void;\n  }\n\n  export const hooks: Hooks = {\n    newTask() {},\n    endTask() {},\n  };\n\n  function promiseTask<T>(pr: Promise<T>): Promise<T> {\n    hooks.newTask();\n    return pr.then((v) => {\n      hooks.endTask();\n      return v;\n    });\n  }\n\n  export class Scratch2VariableWatcher extends P.core.Watcher {\n    private cmd: string;\n    private type: string;\n    private color: string;\n    public isDiscrete: boolean;\n    private label: string;\n    private mode: number;\n    public param: string;\n    public sliderMax: number;\n    public sliderMin: number;\n\n    private el: HTMLElement;\n    private labelEl: HTMLElement;\n    private readout: HTMLElement;\n    public slider: HTMLElement;\n    public button: HTMLElement;\n    private buttonWrap: HTMLElement;\n\n    constructor(stage, targetName, data) {\n      super(stage, targetName);\n\n      this.cmd = data.cmd;\n      this.type = data.type || 'var';\n      if (data.color) {\n        var c = (data.color < 0 ? data.color + 0x1000000 : data.color).toString(16);\n        this.color = '#000000'.slice(0, -c.length) + c;\n      } else {\n        this.color = '#ee7d16';\n      }\n\n      this.isDiscrete = data.isDiscrete == null ? true : data.isDiscrete;\n      this.label = data.label || '';\n      this.mode = data.mode || 1;\n      this.param = data.param;\n      this.sliderMax = data.sliderMax == null ? 100 : data.sliderMax;\n      this.sliderMin = data.sliderMin || 0;\n      this.targetName = data.target;\n      this.visible = data.visible == null ? false : data.visible;\n      this.x = data.x || 0;\n      this.y = data.y || 0;\n    }\n\n    init() {\n      super.init();\n      if (this.target && this.cmd === 'getVar:') {\n        this.target.watchers[this.param] = this;\n      }\n      if (!this.label) {\n        this.label = this.getLabel();\n        if (this.target.isSprite) this.label = this.target.name + ': ' + this.label;\n      }\n      this.layout();\n    }\n\n    getLabel(): string {\n      var WATCHER_LABELS = {\n        'costumeIndex': 'costume #',\n        'xpos': 'x position',\n        'ypos': 'y position',\n        'heading': 'direction',\n        'scale': 'size',\n        'backgroundIndex': 'background #',\n        'sceneName': 'background name',\n        'tempo': 'tempo',\n        'volume': 'volume',\n        'answer': 'answer',\n        'timer': 'timer',\n        'soundLevel': 'loudness',\n        'isLoud': 'loud?',\n        'xScroll': 'x scroll',\n        'yScroll': 'y scroll'\n      };\n      switch (this.cmd) {\n        case 'getVar:': return this.param;\n        case 'sensor:': return this.param + ' sensor value';\n        case 'sensorPressed': return 'sensor ' + this.param + '?';\n        case 'timeAndDate': return this.param;\n        case 'senseVideoMotion': return 'video ' + this.param;\n      }\n      return WATCHER_LABELS[this.cmd] || '';\n    }\n\n    setVisible(visible: boolean) {\n      super.setVisible(visible);\n      this.layout();\n    }\n\n    update() {\n      var value: string | number = 0;\n      if (!this.target) return;\n      switch (this.cmd) {\n        case 'answer':\n          value = this.stage.answer;\n          break;\n        case 'backgroundIndex':\n          value = this.stage.currentCostumeIndex + 1;\n          break;\n        case 'costumeIndex':\n          value = this.target.currentCostumeIndex + 1;\n          break;\n        case 'getVar:':\n          value = this.target.vars[this.param];\n          break;\n        case 'heading':\n          value = (this.target as P.core.Sprite).direction;\n          break;\n        case 'scale':\n          if (this.target.isSprite) {\n            value = (this.target as P.core.Sprite).scale * 100;\n          }\n          break;\n        case 'sceneName':\n          value = this.stage.getCostumeName();\n          break;\n        case 'senseVideoMotion':\n          // TODO\n          break;\n        case 'soundLevel':\n          if (this.stage.microphone) {\n            value = this.stage.microphone.getLoudness();\n          } else {\n            value = -1;\n          }\n          break;\n        case 'tempo':\n          value = this.stage.tempoBPM;\n          break;\n        case 'timeAndDate':\n          value = this.timeAndDate(this.param);\n          break;\n        case 'timer':\n          value = Math.round((this.stage.runtime.now() - this.stage.runtime.timerStart) / 100) / 10;\n          break;\n        case 'volume':\n          value = this.target.volume * 100;\n          break;\n        case 'xpos':\n          value = this.target.scratchX;\n          break;\n        case 'ypos':\n          value = this.target.scratchY;\n          break;\n      }\n      if (typeof value === 'number' && (value < 0.001 || value > 0.001)) {\n        value = Math.round(value * 1000) / 1000;\n      }\n      this.readout.textContent = '' + value;\n      if (this.slider) {\n        this.buttonWrap.style.transform = 'translate('+((+value || 0) - this.sliderMin) / (this.sliderMax - this.sliderMin)*100+'%,0)';\n      }\n    }\n\n    timeAndDate(format: any): number {\n      switch (format) {\n        case 'year':\n          return new Date().getFullYear();\n        case 'month':\n          return new Date().getMonth() + 1;\n        case 'date':\n          return new Date().getDate();\n        case 'day of week':\n          return new Date().getDay() + 1;\n        case 'hour':\n          return new Date().getHours();\n        case 'minute':\n          return new Date().getMinutes();\n        case 'second':\n          return new Date().getSeconds();\n      }\n      return 0;\n    }\n\n    layout() {\n      if (this.el) {\n        this.el.style.display = this.visible ? 'block' : 'none';\n        return;\n      }\n      if (!this.visible) return;\n\n      this.el = document.createElement('div');\n      this.el.dataset.watcher = '' + this.stage.allWatchers.indexOf(this);\n      this.el.style.whiteSpace = 'pre';\n      this.el.style.position = 'absolute';\n      this.el.style.left = this.el.style.top = '0';\n      this.el.style.transform = 'translate('+(this.x|0)/10+'em,'+(this.y|0)/10+'em)';\n      this.el.style.cursor = 'default';\n\n      if (this.mode === 2) {\n        this.el.appendChild(this.readout = document.createElement('div'));\n        this.readout.style.minWidth = (38/15)+'em';\n        this.readout.style.font = 'bold 1.5em/'+(19/15)+' sans-serif';\n        this.readout.style.height = (19/15)+'em';\n        this.readout.style.borderRadius = (4/15)+'em';\n        this.readout.style.margin = (3/15)+'em 0 0 0';\n        this.readout.style.padding = '0 '+(3/10)+'em';\n      } else {\n        this.el.appendChild(this.labelEl = document.createElement('div'));\n        this.el.appendChild(this.readout = document.createElement('div'));\n\n        this.el.style.border = '.1em solid rgb(148,145,145)';\n        this.el.style.borderRadius = '.4em';\n        this.el.style.background = 'rgb(193,196,199)';\n        this.el.style.padding = '.2em .6em .3em .5em';\n\n        this.labelEl.textContent = this.label;\n        // this.labelEl.style.marginTop = (1/11)+'em';\n        this.labelEl.style.font = 'bold 1.1em/1 sans-serif';\n        this.labelEl.style.display = 'inline-block';\n\n        this.labelEl.style.verticalAlign =\n        this.readout.style.verticalAlign = 'middle';\n\n        this.readout.style.minWidth = (37/10)+'em';\n        this.readout.style.padding = '0 '+(1/10)+'em';\n        this.readout.style.font = 'bold 1.0em/'+(13/10)+' sans-serif';\n        this.readout.style.height = (13/10)+'em';\n        this.readout.style.borderRadius = (4/10)+'em';\n        this.readout.style.marginLeft = (6/10)+'em';\n      }\n      this.readout.style.color = '#fff';\n      var f = 1 / (this.mode === 2 ? 15 : 10);\n      this.readout.style.border = f+'em solid #fff';\n      this.readout.style.boxShadow = 'inset '+f+'em '+f+'em '+f+'em rgba(0,0,0,.5), inset -'+f+'em -'+f+'em '+f+'em rgba(255,255,255,.5)';\n      this.readout.style.textAlign = 'center';\n      this.readout.style.background = this.color;\n      this.readout.style.display = 'inline-block';\n\n      if (this.mode === 3) {\n        this.el.appendChild(this.slider = document.createElement('div'));\n        this.slider.appendChild(this.buttonWrap = document.createElement('div'));\n        this.buttonWrap.appendChild(this.button = document.createElement('div'));\n\n        this.slider.style.height =\n        this.slider.style.borderRadius = '.5em';\n        this.slider.style.background = 'rgb(192,192,192)';\n        this.slider.style.margin = '.4em 0 .1em';\n        this.slider.style.boxShadow = 'inset .125em .125em .125em rgba(0,0,0,.5), inset -.125em -.125em .125em rgba(255,255,255,.5)';\n        this.slider.style.position = 'relative';\n        this.slider.style.pointerEvents = 'auto';\n        this.slider.dataset.slider = '';\n\n        this.slider.style.paddingRight =\n        this.button.style.width =\n        this.button.style.height =\n        this.button.style.borderRadius = '1.1em';\n        this.button.style.position = 'absolute';\n        this.button.style.left = '0';\n        this.button.style.top = '-.3em';\n        this.button.style.background = '#fff';\n        this.button.style.boxShadow = 'inset .3em .3em .2em -.2em rgba(255,255,255,.9), inset -.3em -.3em .2em -.2em rgba(0,0,0,.9), inset 0 0 0 .1em #777';\n        this.button.dataset.button = '';\n      }\n\n      this.stage.ui.appendChild(this.el);\n    }\n  }\n\n  export class Scratch2Stage extends P.core.Stage {\n    // Used to tell the compiler what scripts this sprite uses.\n    // TODO: should the compiler delete after use?\n    public scripts: any;\n\n    private dragging: any = {};\n    private defaultWatcherX = 10;\n    private defaultWatcherY = 10;\n\n    createVariableWatcher(target: P.core.Base, variableName: string) {\n      const x = this.defaultWatcherX;\n      const y = this.defaultWatcherY;\n\n      this.defaultWatcherY += 26;\n      if (this.defaultWatcherY >= 450) {\n        this.defaultWatcherY = 10;\n        this.defaultWatcherX += 150;\n      }\n\n      return new P.sb2.Scratch2VariableWatcher(this, target.name, {\n        cmd: 'getVar:',\n        param: variableName,\n        x,\n        y,\n      });\n    }\n\n    say(text: string, thinking?: boolean) {\n      // Stage cannot say things in Scratch 2.\n      return ++this.sayId;\n    }\n\n    updateBubble() {\n      // Stage cannot say things in Scratch 2.\n    }\n\n    watcherStart(id, t, e) {\n      var p = e.target;\n      while (p && p.dataset.watcher == null) p = p.parentElement;\n      if (!p) return;\n      var w = this.allWatchers[p.dataset.watcher] as P.sb2.Scratch2VariableWatcher;\n      this.dragging[id] = {\n        watcher: w,\n        offset: (e.target.dataset.button == null ? -w.button.offsetWidth / 2 | 0 : w.button.getBoundingClientRect().left - t.clientX) - w.slider.getBoundingClientRect().left\n      };\n    }\n    watcherMove(id, t, e) {\n      var d = this.dragging[id];\n      if (!d) return;\n      var w = d.watcher as P.sb2.Scratch2VariableWatcher;\n      var sw = w.slider.offsetWidth;\n      var bw = w.button.offsetWidth;\n      var value = w.sliderMin + Math.max(0, Math.min(1, (t.clientX + d.offset) / (sw - bw))) * (w.sliderMax - w.sliderMin);\n      w.target.vars[w.param] = w.isDiscrete ? Math.round(value) : Math.round(value * 100) / 100;\n      w.update();\n      e.preventDefault();\n    }\n    watcherEnd(id, t, e) {\n      this.watcherMove(id, t, e);\n      delete this.dragging[id];\n    }\n\n    ontouch(event: TouchEvent, touch: Touch) {\n      const target = event.target as HTMLElement;\n      if (target.dataset.button != null || target.dataset.slider != null) {\n        this.watcherStart(touch.identifier, touch, event);\n      }\n    }\n    onmousedown(e: MouseEvent) {\n      const target = e.target as HTMLElement;\n      if (target.dataset.button != null || target.dataset.slider != null) {\n        this.watcherStart('mouse', e, e);\n      }\n    }\n    onmousemove(e: MouseEvent) {\n      this.watcherMove('mouse', e, e);\n    }\n    onmouseup(e: MouseEvent) {\n      this.watcherEnd('mouse', e, e);\n    }\n  }\n\n  export class Scratch2Sprite extends P.core.Sprite {\n    public scripts: any;\n\n    _clone() {\n      return new Scratch2Sprite(this.stage);\n    }\n  }\n\n  // loads an image from a URL\n  export function loadImage(url): Promise<HTMLImageElement> {\n    hooks.newTask();\n\n    var image = new Image();\n    image.crossOrigin = 'anonymous';\n\n    return new Promise((resolve, reject) => {\n      image.onload = function() {\n        hooks.endTask();\n        resolve(image);\n      };\n      image.onerror = function(err) {\n        reject('Failed to load image: ' + image.src);\n      };\n      image.src = url;\n    });\n  }\n\n  // Loads a .sb2 file from an ArrayBuffer containing the .sb2 file\n  export function loadSB2Project(arrayBuffer) {\n    return JSZip.loadAsync(arrayBuffer)\n      .then((zip) => {\n        zipArchive = zip;\n        return zip.file('project.json').async('text');\n      })\n      .then((text: string) => {\n        const project = JSON.parse(text);\n        return loadProject(project);\n      });\n  }\n\n  // Loads a project on the scratch.mit.edu website from its project.json\n  export function loadProject(data) {\n    var children;\n    var stage;\n\n    return loadFonts()\n      .then(() => Promise.all<any>([\n        P.audio.loadSB2Soundbank(hooks),\n        loadArray(data.children, loadObject).then((c) => children = c),\n        loadBase(data, true).then((s) => stage = s),\n      ]))\n      .then(() => {\n        children = children.filter((i) => i);\n        children.forEach((c) => c.stage = stage);\n        var sprites = children.filter((i) => i instanceof Scratch2Sprite);\n        var watchers = children.filter((i) => i instanceof Scratch2VariableWatcher);\n\n        stage.children = sprites;\n        stage.allWatchers = watchers;\n        stage.allWatchers.forEach((w) => w.init());\n\n        P.sb2.compiler.compile(stage);\n        return stage;\n      });\n  }\n\n  export function loadBase(data, isStage = false) {\n    var costumes;\n    var sounds;\n\n    return Promise.all([\n      loadArray(data.costumes, loadCostume).then((c) => costumes = c),\n      loadArray(data.sounds, loadSound).then((s) => sounds = s),\n    ]).then(() => {\n      const variables = {};\n      if (data.variables) {\n        for (const variable of data.variables) {\n          if (variable.isPeristent) {\n            throw new Error('Cloud variables are not supported');\n          }\n          variables[variable.name] = variable.value;\n        }\n      }\n\n      const lists = {};\n      if (data.lists) {\n        for (const list of data.lists) {\n          if (list.isPeristent) {\n            throw new Error('Cloud lists are not supported');\n          }\n          lists[list.listName] = list.contents;\n        }\n      }\n\n      // Dirty hack to construct a target with a null stage\n      const object = new (isStage ? Scratch2Stage : Scratch2Sprite)(null!);\n\n      object.name = data.objName;\n      object.vars = variables;\n      object.lists = lists;\n      object.costumes = costumes;\n      object.currentCostumeIndex = data.currentCostumeIndex;\n      sounds.forEach((sound) => sound && object.addSound(sound));\n\n      if (isStage) {\n\n      } else {\n        const sprite = object as Scratch2Sprite;\n        sprite.scratchX = data.scratchX;\n        sprite.scratchY = data.scratchY;\n        sprite.direction = data.direction;\n        sprite.isDraggable = data.isDraggable;\n        sprite.rotationStyle = P.utils.parseRotationStyle(data.rotationStyle);\n        sprite.scale = data.scale;\n        sprite.visible = data.visible;\n      }\n\n      // We store the scripts on the Sprite so the compiler can find them easier\n      // TODO: to something different?\n      object.scripts = data.scripts || [];\n\n      return object;\n    });\n  }\n\n  // A weird mix of Array.map and Promise.all\n  export function loadArray(data, process) {\n    return Promise.all((data || []).map((i, ind) => process(i, ind)));\n  }\n\n  export function loadFonts(): Promise<void> {\n    return Promise.all([\n      promiseTask(P.utils.settled(P.fonts.loadWebFont('Donegal One'))),\n      promiseTask(P.utils.settled(P.fonts.loadWebFont('Gloria Hallelujah'))),\n      promiseTask(P.utils.settled(P.fonts.loadWebFont('Mystery Quest'))),\n      promiseTask(P.utils.settled(P.fonts.loadWebFont('Permanent Marker'))),\n      promiseTask(P.utils.settled(P.fonts.loadWebFont('Scratch'))),\n    ]).then(() => undefined);\n  }\n\n  export function loadObject(data) {\n    if (data.cmd) {\n      return loadVariableWatcher(data);\n    } else if (data.listName) {\n      // TODO: list watcher\n    } else {\n      return loadBase(data);\n    }\n  }\n\n  export function loadVariableWatcher(data) {\n    const targetName = data.target;\n    const watcher = new Scratch2VariableWatcher(null, targetName, data);\n    return watcher;\n  }\n\n  export function loadCostume(data, index) {\n    const promises = [\n      loadMD5(data.baseLayerMD5, data.baseLayerID)\n        .then((asset) => data.$image = asset)\n    ];\n    if (data.textLayerMD5) {\n      promises.push(loadMD5(data.textLayerMD5, data.textLayerID)\n        .then((asset) => data.$text = asset));\n    }\n    return Promise.all(promises)\n      .then((layers: any[]) => {\n        var image;\n        if (layers.length > 1) {\n          image = document.createElement('canvas');\n          const ctx = image.getContext('2d')!;\n          image.width = Math.max(layers[0].width, 1);\n          image.height = Math.max(layers[0].height, 1);\n          for (const layer of layers) {\n            ctx.drawImage(layer, 0, 0);\n          }\n        } else {\n          image = layers[0];\n        }\n\n        return new P.core.BitmapCostume(image, {\n          name: data.costumeName,\n          bitmapResolution: data.bitmapResolution,\n          rotationCenterX: data.rotationCenterX,\n          rotationCenterY: data.rotationCenterY,\n        });\n      });\n  }\n\n  export function loadSound(data): Promise<P.core.Sound | null> {\n    return new Promise((resolve, reject) => {\n      loadMD5(data.md5, data.soundID, true)\n        .then((buffer) => {\n          resolve(new P.core.Sound({\n            name: data.soundName,\n            buffer,\n          }));\n        })\n        .catch((err) => {\n          resolve(null);\n          console.warn('Could not load sound: ' + err);\n        });\n    });\n  }\n\n  export function patchSVG(svg, element) {\n    const FONTS: ObjectMap<string> = {\n      '': 'Helvetica',\n      Donegal: 'Donegal One',\n      Gloria: 'Gloria Hallelujah',\n      Marker: 'Permanent Marker',\n      Mystery: 'Mystery Quest'\n    };\n\n    const LINE_HEIGHTS: ObjectMap<number> = {\n      Helvetica: 1.13,\n      'Donegal One': 1.25,\n      'Gloria Hallelujah': 1.97,\n      'Permanent Marker': 1.43,\n      'Mystery Quest': 1.37\n    };\n\n    if (element.nodeType !== 1) return;\n    if (element.nodeName === 'text') {\n      // Correct fonts\n      var font = element.getAttribute('font-family') || '';\n      font = FONTS[font] || font;\n      if (font) {\n        element.setAttribute('font-family', font);\n        if (font === 'Helvetica') element.style.fontWeight = 'bold';\n      }\n      var size = +element.getAttribute('font-size');\n      if (!size) {\n        element.setAttribute('font-size', size = 18);\n      }\n      var bb = element.getBBox();\n      var x = 4 - .6 * element.transform.baseVal.consolidate().matrix.a;\n      var y = (element.getAttribute('y') - bb.y) * 1.1;\n      element.setAttribute('x', x);\n      element.setAttribute('y', y);\n      var lines = element.textContent.split('\\n');\n      if (lines.length > 1) {\n        element.textContent = lines[0];\n        var lineHeight = LINE_HEIGHTS[font] || 1;\n        for (var i = 1, l = lines.length; i < l; i++) {\n          var tspan = document.createElementNS(null, 'tspan');\n          tspan.textContent = lines[i];\n          tspan.setAttribute('x', '' + x);\n          tspan.setAttribute('y', '' + (y + size * i * lineHeight));\n          element.appendChild(tspan);\n        }\n      }\n    } else if ((element.hasAttribute('x') || element.hasAttribute('y')) && element.hasAttribute('transform')) {\n      element.setAttribute('x', 0);\n      element.setAttribute('y', 0);\n    }\n    [].forEach.call(element.childNodes, patchSVG.bind(null, svg));\n  }\n\n  export function loadSVG(source): Promise<HTMLCanvasElement | HTMLImageElement> {\n    // canvg needs and actual SVG element, not the source.\n    const parser = new DOMParser();\n    var doc = parser.parseFromString(source, 'image/svg+xml');\n    var svg = doc.documentElement as any;\n    if (!svg.style) {\n      doc = parser.parseFromString('<body>' + source, 'text/html');\n      svg = doc.querySelector('svg');\n    }\n    svg.style.visibility = 'hidden';\n    svg.style.position = 'absolute';\n    svg.style.left = '-10000px';\n    svg.style.top = '-10000px';\n    document.body.appendChild(svg);\n    const viewBox = svg.viewBox.baseVal;\n    if (viewBox && (viewBox.x || viewBox.y)) {\n      svg.width.baseVal.value = viewBox.width - viewBox.x;\n      svg.height.baseVal.value = viewBox.height - viewBox.y;\n      viewBox.x = 0;\n      viewBox.y = 0;\n      viewBox.width = 0;\n      viewBox.height = 0;\n    }\n    patchSVG(svg, svg);\n    document.body.removeChild(svg);\n    svg.style.visibility = svg.style.position = svg.style.left = svg.style.top = '';\n\n    // TODO: use native renderer\n    return new Promise<HTMLCanvasElement | HTMLImageElement>((resolve, reject) => {\n      const canvas = document.createElement('canvas');\n      canvg(canvas, new XMLSerializer().serializeToString(svg), {\n        ignoreMouse: true,\n        ignoreAnimation: true,\n        ignoreClear: true,\n        renderCallback: function() {\n          if (canvas.width === 0 || canvas.height === 0) {\n            resolve(new Image());\n            return;\n          }\n          resolve(canvas);\n        }\n      });\n    });\n  }\n\n  export function loadMD5(hash: string, id: string, isAudio?: true): Promise<AudioBuffer>;\n  export function loadMD5(hash: string, id: string, isAudio?: false): Promise<HTMLImageElement | HTMLCanvasElement | null>;\n  export function loadMD5(hash: string, id: string, isAudio: boolean = false): Promise<HTMLImageElement | HTMLCanvasElement | AudioBuffer | null> {\n    if (zipArchive) {\n      var f = isAudio ? zipArchive.file(id + '.wav') : zipArchive.file(id + '.gif') || zipArchive.file(id + '.png') || zipArchive.file(id + '.jpg') || zipArchive.file(id + '.svg');\n      hash = f.name;\n    }\n\n    const ext = hash.split('.').pop();\n\n    if (ext === 'svg') {\n      if (zipArchive) {\n        return f!.async('text')\n          .then((text) => loadSVG(text));\n      } else {\n        return promiseTask(new P.IO.TextRequest(ASSET_URL + hash + '/get/').load())\n          .then((text) => loadSVG(text));\n      }\n    } else if (ext === 'wav') {\n      if (zipArchive) {\n        return f!.async('arrayBuffer')\n          .then((buffer) => P.audio.decodeAudio(buffer));\n      } else {\n        return promiseTask(new P.IO.ArrayBufferRequest(ASSET_URL + hash + '/get/').load())\n          .then((buffer) => P.audio.decodeAudio(buffer));\n      }\n    } else {\n      if (zipArchive) {\n        return new Promise((resolve, reject) => {\n          var image = new Image();\n          image.onload = function() {\n            resolve(image);\n          };\n          f.async('binarystring')\n            .then((data: string) => {\n              image.src = 'data:image/' + (ext === 'jpg' ? 'jpeg' : ext) + ';base64,' + btoa(data);\n            });\n        });\n      } else {\n        return loadImage(ASSET_URL + hash + '/get/');\n      }\n    }\n  }\n}\n\n// Compiler for .sb2 projects\nnamespace P.sb2.compiler {\n  var LOG_PRIMITIVES;\n\n  // Implements a Scratch 2 procedure.\n  // Scratch 2 argument references just go by index, so its very simple.\n  export class Scratch2Procedure extends P.core.Procedure {\n    call(inputs) {\n      return inputs;\n    }\n  }\n\n  var EVENT_SELECTORS = [\n    'procDef',\n    'whenClicked',\n    'whenCloned',\n    'whenGreenFlag',\n    'whenIReceive',\n    'whenKeyPressed',\n    'whenSceneStarts',\n    'whenSensorGreaterThan' // TODO\n  ];\n\n  var compileScripts = function(object) {\n    for (var i = 0; i < object.scripts.length; i++) {\n      compileListener(object, object.scripts[i][2]);\n    }\n  };\n\n  var warnings;\n  var warn = function(message) {\n    warnings[message] = (warnings[message] || 0) + 1;\n  };\n\n  export var compileListener = function(object, script) {\n    if (!script[0] || EVENT_SELECTORS.indexOf(script[0][0]) === -1) return;\n\n    var nextLabel = function() {\n      return object.fns.length + fns.length;\n    };\n\n    var label = function() {\n      var id = nextLabel();\n      fns.push(source.length);\n      visual = 0;\n      return id;\n    };\n\n    var delay = function() {\n      source += 'return;\\n';\n      label();\n    };\n\n    var queue = function(id) {\n      source += 'queue(' + id + ');\\n';\n      source += 'return;\\n';\n    };\n\n    var forceQueue = function(id) {\n      source += 'forceQueue(' + id + ');\\n';\n      source += 'return;\\n';\n    };\n\n    var seq = function(script) {\n      if (!script) return;\n      for (var i = 0; i < script.length; i++) {\n        compile(script[i]);\n      }\n    };\n\n    var varRef = function(name) {\n      if (typeof name !== 'string') {\n        return 'getVars(' + val(name) + ')[' + val(name) + ']';\n      }\n      var o = object.stage.vars[name] !== undefined ? 'self' : 'S';\n      return o + '.vars[' + val(name) + ']';\n    };\n\n    var listRef = function(name) {\n      if (typeof name !== 'string') {\n        return 'getLists(' + val(name) + ')[' + val(name) + ']';\n      }\n      var o = object.stage.lists[name] !== undefined ? 'self' : 'S';\n      if (o === 'S' && !object.lists[name]) {\n        object.lists[name] = [];\n      }\n      return o + '.lists[' + val(name) + ']';\n    };\n\n    var param = function(name, usenum, usebool) {\n      if (typeof name !== 'string') {\n        throw new Error('Dynamic parameters are not supported');\n      }\n\n      if (!inputs) return '0';\n\n      var i = inputs.indexOf(name);\n      if (i === -1) {\n        return '0';\n      }\n\n      var t = types[i];\n      var kind =\n        t === '%n' || t === '%d' || t === '%c' ? 'num' :\n        t === '%b' ? 'bool' : '';\n\n      if (kind === 'num' && usenum) {\n        used[i] = true;\n        return 'C.numargs[' + i + ']';\n      }\n      if (kind === 'bool' && usebool) {\n        used[i] = true;\n        return 'C.boolargs[' + i + ']';\n      }\n\n      var v = 'C.args[' + i + ']';\n      if (usenum) return '(+' + v + ' || 0)';\n      if (usebool) return 'bool(' + v + ')';\n      return v;\n    };\n\n    var val2 = function(e) {\n      var v;\n      if (e[0] === 'costumeName') {\n\n        return 'S.getCostumeName()';\n\n      } else if (e[0] === 'sceneName') {\n\n        return 'self.getCostumeName()';\n\n      } else if (e[0] === 'readVariable') {\n\n        return varRef(e[1]);\n\n      } else if (e[0] === 'contentsOfList:') {\n\n        return 'contentsOfList(' + listRef(e[1]) + ')';\n\n      } else if (e[0] === 'getLine:ofList:') {\n\n        return 'getLineOfList(' + listRef(e[2]) + ', ' + val(e[1]) + ')';\n\n      } else if (e[0] === 'concatenate:with:') {\n\n        return '(\"\" + ' + val(e[1]) + ' + ' + val(e[2]) + ')';\n\n      } else if (e[0] === 'letter:of:') {\n\n        return '((\"\" + ' + val(e[2]) + ')[(' + num(e[1]) + ' | 0) - 1] || \"\")';\n\n      } else if (e[0] === 'answer') { /* Sensing */\n\n        return 'self.answer';\n\n      } else if (e[0] === 'getAttribute:of:') {\n\n        return 'attribute(' + val(e[1]) + ', ' + val(e[2]) + ')';\n\n      } else if (e[0] === 'getUserId') {\n\n        return '0';\n\n      } else if (e[0] === 'getUserName') {\n\n        return 'self.username';\n\n      } else {\n\n        warn('Undefined val: ' + e[0]);\n\n      }\n    };\n\n    var val = function(e, usenum?, usebool?) {\n      var v;\n\n      if (typeof e === 'number' || typeof e === 'boolean') {\n\n        return '' + e;\n\n      } else if (typeof e === 'string') {\n\n        return '\"' + e\n          .replace(/\\\\/g, '\\\\\\\\')\n          .replace(/\\n/g, '\\\\n')\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\"/g, '\\\\\"')\n          .replace(/\\{/g, '\\\\x7b')\n          .replace(/\\}/g, '\\\\x7d') + '\"';\n\n      } else if (e[0] === 'getParam') {\n\n        return param(e[1], usenum, usebool);\n\n      } else if ((v = numval(e)) != null || (v = boolval(e)) != null) {\n\n        return v;\n\n      } else {\n\n        v = val2(e);\n        if (usenum) return '(+' + v + ' || 0)';\n        if (usebool) return 'bool(' + v + ')';\n        return v;\n\n      }\n    };\n\n    var numval = function(e) {\n\n      if (e[0] === 'xpos') { /* Motion */\n\n        return 'S.scratchX';\n\n      } else if (e[0] === 'ypos') {\n\n        return 'S.scratchY';\n\n      } else if (e[0] === 'heading') {\n\n        return 'S.direction';\n\n      } else if (e[0] === 'costumeIndex') { /* Looks */\n\n        return '(S.currentCostumeIndex + 1)';\n\n      } else if (e[0] === 'backgroundIndex') {\n\n        return '(self.currentCostumeIndex + 1)';\n\n      } else if (e[0] === 'scale') {\n\n        return '(S.scale * 100)';\n\n      } else if (e[0] === 'volume') { /* Sound */\n\n        return '(S.volume * 100)';\n\n      } else if (e[0] === 'tempo') {\n\n        return 'self.tempoBPM';\n\n      } else if (e[0] === 'lineCountOfList:') { /* Data */\n\n        return listRef(e[1]) + '.length';\n\n      } else if (e[0] === '+') { /* Operators */\n\n        return '(' + num(e[1]) + ' + ' + num(e[2]) + ' || 0)';\n\n      } else if (e[0] === '-') {\n\n        return '(' + num(e[1]) + ' - ' + num(e[2]) + ' || 0)';\n\n      } else if (e[0] === '*') {\n\n        return '(' + num(e[1]) + ' * ' + num(e[2]) + ' || 0)';\n\n      } else if (e[0] === '/') {\n\n        return '(' + num(e[1]) + ' / ' + num(e[2]) + ' || 0)';\n\n      } else if (e[0] === 'randomFrom:to:') {\n\n        return 'random(' + num(e[1]) + ', ' + num(e[2]) + ')';\n\n      } else if (e[0] === 'abs') {\n\n        return 'Math.abs(' + num(e[1]) + ')';\n\n      } else if (e[0] === 'sqrt') {\n\n        return 'Math.sqrt(' + num(e[1]) + ')';\n\n      } else if (e[0] === 'stringLength:') {\n\n        return '(\"\" + ' + val(e[1]) + ').length';\n\n      } else if (e[0] === '%' || e[0] === '\\\\\\\\') {\n\n        return 'mod(' + num(e[1]) + ', ' + num(e[2]) + ')';\n\n      } else if (e[0] === 'rounded') {\n\n        return 'Math.round(' + num(e[1]) + ')';\n\n      } else if (e[0] === 'computeFunction:of:') {\n\n        if (typeof e[1] !== 'object') {\n          switch ('' + e[1]) {\n            case 'abs':\n              return 'Math.abs(' + num(e[2]) + ')';\n            case 'floor':\n              return 'Math.floor(' + num(e[2]) + ')';\n            case 'sqrt':\n              return 'Math.sqrt(' + num(e[2]) + ')';\n            case 'ceiling':\n              return 'Math.ceil(' + num(e[2]) + ')';\n            case 'cos':\n              return 'Math.cos(' + num(e[2]) + ' * Math.PI / 180)';\n            case 'sin':\n              return 'Math.sin(' + num(e[2]) + ' * Math.PI / 180)';\n            case 'tan':\n              return 'Math.tan(' + num(e[2]) + ' * Math.PI / 180)';\n            case 'asin':\n              return 'Math.asin(' + num(e[2]) + ') * 180 / Math.PI';\n            case 'acos':\n              return 'Math.acos(' + num(e[2]) + ') * 180 / Math.PI';\n            case 'atan':\n              return 'Math.atan(' + num(e[2]) + ') * 180 / Math.PI';\n            case 'ln':\n              return 'Math.log(' + num(e[2]) + ')';\n            case 'log':\n              return 'Math.log(' + num(e[2]) + ') / Math.LN10';\n            case 'e ^':\n              return 'Math.exp(' + num(e[2]) + ')';\n            case '10 ^':\n              return 'Math.exp(' + num(e[2]) + ' * Math.LN10)';\n          }\n          return '0';\n        }\n        return 'mathFunc(' + val(e[1]) + ', ' + num(e[2]) + ')';\n\n      } else if (e[0] === 'mouseX') { /* Sensing */\n\n        return 'self.mouseX';\n\n      } else if (e[0] === 'mouseY') {\n\n        return 'self.mouseY';\n\n      } else if (e[0] === 'timer') {\n\n        return '((runtime.now() - runtime.timerStart) / 1000)';\n\n      } else if (e[0] === 'distanceTo:') {\n\n        return 'S.distanceTo(' + val(e[1]) + ')';\n\n      } else if (e[0] === 'soundLevel') {\n\n        return 'self.microphone.getLoudness()';\n\n      } else if (e[0] === 'timestamp') {\n\n        return '((Date.now() - epoch) / 86400000)';\n\n      } else if (e[0] === 'timeAndDate') {\n\n        return 'timeAndDate(' + val(e[1]) + ')';\n\n      // } else if (e[0] === 'sensor:') {\n\n      }\n    };\n\n    var DIGIT = /\\d/;\n    var boolval = function(e) {\n\n      if (e[0] === 'list:contains:') { /* Data */\n\n        return 'listContains(' + listRef(e[1]) + ', ' + val(e[2]) + ')';\n\n      } else if (e[0] === '<' || e[0] === '>') { /* Operators */\n\n        var less: boolean;\n        let x;\n        let y;\n\n        if (typeof e[1] === 'string' && DIGIT.test(e[1]) || typeof e[1] === 'number') {\n          less = e[0] === '<';\n          x = e[1];\n          y = e[2];\n        } else if (typeof e[2] === 'string' && DIGIT.test(e[2]) || typeof e[2] === 'number') {\n          less = e[0] === '>';\n          x = e[2];\n          y = e[1];\n        }\n        var nx = +x;\n        if (x == null || nx !== nx) {\n          return '(compare(' + val(e[1]) + ', ' + val(e[2]) + ') === ' + (e[0] === '<' ? -1 : 1) + ')';\n        }\n        return (less! ? 'numLess' : 'numGreater') + '(' + nx + ', ' + val(y) + ')';\n\n      } else if (e[0] === '=') {\n\n        let x;\n        let y;\n        if (typeof e[1] === 'string' && DIGIT.test(e[1]) || typeof e[1] === 'number') {\n          x = e[1];\n          y = e[2];\n        } else if (typeof e[2] === 'string' && DIGIT.test(e[2]) || typeof e[2] === 'number') {\n          x = e[2];\n          y = e[1];\n        }\n        var nx = +x;\n        if (x == null || nx !== nx) {\n          return '(equal(' + val(e[1]) + ', ' + val(e[2]) + '))';\n        }\n        return '(numEqual(' + nx + ', ' + val(y) + '))';\n\n      } else if (e[0] === '&') {\n\n        return '(' + bool(e[1]) + ' && ' + bool(e[2]) + ')';\n\n      } else if (e[0] === '|') {\n\n        return '(' + bool(e[1]) + ' || ' + bool(e[2]) + ')';\n\n      } else if (e[0] === 'not') {\n\n        return '!' + bool(e[1]) + '';\n\n      } else if (e[0] === 'mousePressed') { /* Sensing */\n\n        return 'self.mousePressed';\n\n      } else if (e[0] === 'touching:') {\n\n        return 'S.touching(' + val(e[1]) + ')';\n\n      } else if (e[0] === 'touchingColor:') {\n\n        return 'S.touchingColor(' + val(e[1]) + ')';\n\n      } else if (e[0] === 'color:sees:') {\n\n        return 'S.colorTouchingColor(' + val(e[1]) + ', ' + val(e[2]) + ')';\n\n      } else if (e[0] === 'keyPressed:') {\n\n        var v = typeof e[1] === 'object' ?\n          'getKeyCode(' + val(e[1]) + ')' : val(P.runtime.getKeyCode(e[1]));\n        return '!!self.keys[' + v + ']';\n\n      // } else if (e[0] === 'isLoud') {\n\n      // } else if (e[0] === 'sensorPressed:') {\n\n      }\n    };\n\n    var bool = function(e) {\n      if (typeof e === 'boolean') {\n        return e;\n      }\n      if (typeof e === 'number' || typeof e === 'string') {\n        return +e !== 0 && e !== '' && e !== 'false';\n      }\n      var v = boolval(e);\n      return v != null ? v : val(e, false, true);\n    };\n\n    var num = function(e) {\n      if (typeof e === 'number') {\n        return e || 0;\n      }\n      if (typeof e === 'boolean' || typeof e === 'string') {\n        return +e || 0;\n      }\n      var v = numval(e);\n      return v != null ? v : val(e, true);\n    };\n\n    var beatHead = function(dur) {\n      source += 'save();\\n';\n      source += 'R.start = runtime.now();\\n';\n      source += 'R.duration = ' + num(dur) + ' * 60 / self.tempoBPM;\\n';\n      source += 'var first = true;\\n';\n    };\n\n    var beatTail = function() {\n      var id = label();\n      source += 'if (runtime.now() - R.start < R.duration * 1000 || first) {\\n';\n      source += '  var first;\\n';\n      forceQueue(id);\n      source += '}\\n';\n\n      source += 'restore();\\n';\n    };\n\n    var wait = function(dur) {\n      source += 'save();\\n';\n      source += 'R.start = runtime.now();\\n';\n      source += 'R.duration = ' + dur + ';\\n';\n      source += 'var first = true;\\n';\n\n      var id = label();\n      source += 'if (runtime.now() - R.start < R.duration * 1000 || first) {\\n';\n      source += '  var first;\\n';\n      forceQueue(id);\n      source += '}\\n';\n\n      source += 'restore();\\n';\n    };\n\n    var noRGB = '';\n    noRGB += 'if (S.penCSS) {\\n';\n    noRGB += '  var hsl = rgb2hsl(S.penColor & 0xffffff);\\n';\n    noRGB += '  S.penHue = hsl[0];\\n';\n    noRGB += '  S.penSaturation = hsl[1];\\n';\n    noRGB += '  S.penLightness = hsl[2];\\n';\n    noRGB += '  S.penCSS = null;';\n    noRGB += '}\\n';\n\n    var visual = 0;\n    var compile = function(block) {\n      if (LOG_PRIMITIVES) {\n        source += 'console.log(' + val(block[0]) + ');\\n';\n      }\n\n      if (['turnRight:', 'turnLeft:', 'heading:', 'pointTowards:', 'setRotationStyle', 'lookLike:', 'nextCostume', 'say:duration:elapsed:from:', 'say:', 'think:duration:elapsed:from:', 'think:', 'changeGraphicEffect:by:', 'setGraphicEffect:to:', 'filterReset', 'changeSizeBy:', 'setSizeTo:', 'comeToFront', 'goBackByLayers:'].indexOf(block[0]) !== -1) {\n        if (visual < 2) {\n          source += 'if (S.visible) VISUAL = true;\\n';\n          visual = 2;\n        } else if (P.config.debug) source += '/* visual: 2 */\\n';\n      } else if (['forward:', 'gotoX:y:', 'gotoSpriteOrMouse:', 'changeXposBy:', 'xpos:', 'changeYposBy:', 'ypos:', 'bounceOffEdge', 'glideSecs:toX:y:elapsed:from:'].indexOf(block[0]) !== -1) {\n        if (visual < 1) {\n          source += 'if (S.visible || S.isPenDown) VISUAL = true;\\n';\n          visual = 1;\n        } else if (P.config.debug) source += '/* visual: 1 */\\n';\n      } else if (['showBackground:', 'startScene', 'nextBackground', 'nextScene', 'startSceneAndWait', 'show', 'hide', 'putPenDown', 'stampCostume', 'showVariable:', 'hideVariable:', 'doAsk', 'setVolumeTo:', 'changeVolumeBy:', 'setTempoTo:', 'changeTempoBy:'].indexOf(block[0]) !== -1) {\n        if (visual < 3) {\n          source += 'VISUAL = true;\\n';\n          visual = 3;\n        } else if (P.config.debug) source += '/* visual: 3 */\\n';\n      }\n\n      if (block[0] === 'forward:') { /* Motion */\n\n        source += 'S.forward(' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'turnRight:') {\n\n        source += 'S.setDirection(S.direction + ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'turnLeft:') {\n\n        source += 'S.setDirection(S.direction - ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'heading:') {\n\n        source += 'S.setDirection(' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'pointTowards:') {\n\n        source += 'S.pointTowards(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'gotoX:y:') {\n\n        source += 'S.moveTo(' + num(block[1]) + ', ' + num(block[2]) + ');\\n';\n\n      } else if (block[0] === 'gotoSpriteOrMouse:') {\n\n        source += 'S.gotoObject(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'changeXposBy:') {\n\n        source += 'S.moveTo(S.scratchX + ' + num(block[1]) + ', S.scratchY);\\n';\n\n      } else if (block[0] === 'xpos:') {\n\n        source += 'S.moveTo(' + num(block[1]) + ', S.scratchY);\\n';\n\n      } else if (block[0] === 'changeYposBy:') {\n\n        source += 'S.moveTo(S.scratchX, S.scratchY + ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'ypos:') {\n\n        source += 'S.moveTo(S.scratchX, ' + num(block[1]) + ');\\n';\n\n      } else if (block[0] === 'bounceOffEdge') {\n\n        source += 'S.bounceOffEdge();\\n';\n\n      } else if (block[0] === 'setRotationStyle') {\n\n        source += 'S.rotationStyle = P.utils.parseRotationStyle(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'lookLike:') { /* Looks */\n\n        source += 'S.setCostume(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'nextCostume') {\n\n        source += 'S.showNextCostume();\\n';\n\n      } else if (block[0] === 'showBackground:' ||\n                 block[0] === 'startScene') {\n\n        source += 'self.setCostume(' + val(block[1]) + ');\\n';\n        source += 'var threads = sceneChange();\\n';\n        source += 'if (threads.indexOf(BASE) !== -1) {return;}\\n';\n\n      } else if (block[0] === 'nextBackground' ||\n                 block[0] === 'nextScene') {\n\n        source += 'S.showNextCostume();\\n';\n        source += 'var threads = sceneChange();\\n';\n        source += 'if (threads.indexOf(BASE) !== -1) {return;}\\n';\n\n      } else if (block[0] === 'startSceneAndWait') {\n\n        source += 'save();\\n';\n        source += 'self.setCostume(' + val(block[1]) + ');\\n';\n        source += 'R.threads = sceneChange();\\n';\n        source += 'if (R.threads.indexOf(BASE) !== -1) {return;}\\n';\n        var id = label();\n        source += 'if (!running(R.threads)) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'say:duration:elapsed:from:') {\n\n        source += 'save();\\n';\n        source += 'R.id = S.say(' + val(block[1]) + ', false);\\n';\n        source += 'R.start = runtime.now();\\n';\n        source += 'R.duration = ' + num(block[2]) + ';\\n';\n\n        var id = label();\n        source += 'if (runtime.now() - R.start < R.duration * 1000) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n        source += 'if (S.sayId === R.id) {\\n';\n        source += '  S.say(\"\");\\n';\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'say:') {\n\n        source += 'S.say(' + val(block[1]) + ', false);\\n';\n\n      } else if (block[0] === 'think:duration:elapsed:from:') {\n\n        source += 'save();\\n';\n        source += 'R.id = S.say(' + val(block[1]) + ', true);\\n';\n        source += 'R.start = runtime.now();\\n';\n        source += 'R.duration = ' + num(block[2]) + ';\\n';\n\n        var id = label();\n        source += 'if (runtime.now() - R.start < R.duration * 1000) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n        source += 'if (S.sayId === R.id) {\\n';\n        source += '  S.say(\"\");\\n';\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'think:') {\n\n        source += 'S.say(' + val(block[1]) + ', true);\\n';\n\n      } else if (block[0] === 'changeGraphicEffect:by:') {\n\n        source += 'S.changeFilter(' + val(block[1]) + ', ' + num(block[2]) + ');\\n';\n\n      } else if (block[0] === 'setGraphicEffect:to:') {\n\n        source += 'S.setFilter(' + val(block[1]) + ', ' + num(block[2]) + ');\\n';\n\n      } else if (block[0] === 'filterReset') {\n\n        source += 'S.resetFilters();\\n';\n\n      } else if (block[0] === 'changeSizeBy:') {\n\n        source += 'var f = S.scale + ' + num(block[1]) + ' / 100;\\n';\n        source += 'S.scale = f < 0 ? 0 : f;\\n';\n\n      } else if (block[0] === 'setSizeTo:') {\n\n        source += 'var f = ' + num(block[1]) + ' / 100;\\n';\n        source += 'S.scale = f < 0 ? 0 : f;\\n';\n\n      } else if (block[0] === 'show') {\n\n        source += 'S.visible = true;\\n';\n        source += 'if (S.saying) S.updateBubble();\\n';\n\n      } else if (block[0] === 'hide') {\n\n        source += 'S.visible = false;\\n';\n        source += 'if (S.saying) S.updateBubble();\\n';\n\n      } else if (block[0] === 'comeToFront') {\n\n        source += 'var i = self.children.indexOf(S);\\n';\n        source += 'if (i !== -1) self.children.splice(i, 1);\\n';\n        source += 'self.children.push(S);\\n';\n\n      } else if (block[0] === 'goBackByLayers:') {\n\n        source += 'var i = self.children.indexOf(S);\\n';\n        source += 'if (i !== -1) {\\n';\n        source += '  self.children.splice(i, 1);\\n';\n        source += '  self.children.splice(Math.max(0, i - ' + num(block[1]) + '), 0, S);\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'setVideoState') {\n\n        source += 'switch (' + val(block[1]) + ') {';\n        source += '  case \"off\": self.showVideo(false); break;';\n        source += '  case \"on\": self.showVideo(true); break;';\n        source += '}';\n\n      // } else if (block[0] === 'setVideoTransparency') {\n\n      } else if (block[0] === 'playSound:') { /* Sound */\n\n        if (P.audio.context) {\n          source += 'var sound = S.getSound(' + val(block[1]) + ');\\n';\n          source += 'if (sound) startSound(sound);\\n';\n        }\n\n      } else if (block[0] === 'doPlaySoundAndWait') {\n\n        if (P.audio.context) {\n          source += 'var sound = S.getSound(' + val(block[1]) + ');\\n';\n          source += 'if (sound) {\\n';\n          source += '  save();\\n';\n          source += '  R.sound = playSound(sound);\\n';\n          source += '  S.activeSounds.add(R.sound);\\n';\n          source += '  R.start = runtime.now();\\n';\n          source += '  R.duration = sound.duration;\\n';\n          source += '  var first = true;\\n';\n          var id = label();\n          source += '  if ((runtime.now() - R.start < R.duration * 1000 || first) && !R.sound.stopped) {\\n';\n          source += '    var first;\\n';\n          forceQueue(id);\n          source += '  }\\n';\n          source += '  S.activeSounds.delete(R.sound);\\n';\n          source += '  restore();\\n';\n          source += '}\\n';\n        }\n\n      } else if (block[0] === 'stopAllSounds') {\n\n        if (P.audio.context) {\n          source += 'self.stopAllSounds();\\n';\n        }\n\n      // } else if (block[0] === 'drum:duration:elapsed:from:') {\n\n      } else if (block[0] === 'playDrum') {\n\n        beatHead(block[2]);\n        if (P.audio.context) {\n          source += 'playSpan(DRUMS[Math.round(' + num(block[1]) + ') - 1] || DRUMS[2], 60, 10);\\n';\n        }\n        beatTail();\n\n      } else if (block[0] === 'rest:elapsed:from:') {\n\n        beatHead(block[1]);\n        beatTail();\n\n      } else if (block[0] === 'noteOn:duration:elapsed:from:') {\n\n        beatHead(block[2]);\n        if (P.audio.context) {\n          source += 'playNote(' + num(block[1]) + ', R.duration);\\n';\n        }\n        beatTail();\n\n      // } else if (block[0] === 'midiInstrument:') {\n\n      } else if (block[0] === 'instrument:') {\n\n        source += 'S.instrument = Math.max(0, Math.min(INSTRUMENTS.length - 1, ' + num(block[1]) + ' - 1)) | 0;';\n\n      } else if (block[0] === 'changeVolumeBy:' || block[0] === 'setVolumeTo:') {\n\n        source += 'S.volume = Math.min(1, Math.max(0, ' + (block[0] === 'changeVolumeBy:' ? 'S.volume + ' : '') + num(block[1]) + ' / 100));\\n';\n        source += 'if (S.node) S.node.gain.value = S.volume;\\n';\n\n      } else if (block[0] === 'changeTempoBy:') {\n\n        source += 'self.tempoBPM += ' + num(block[1]) + ';\\n';\n\n      } else if (block[0] === 'setTempoTo:') {\n\n        source += 'self.tempoBPM = ' + num(block[1]) + ';\\n';\n\n      } else if (block[0] === 'clearPenTrails') { /* Pen */\n\n        source += 'self.clearPen();\\n';\n\n      } else if (block[0] === 'putPenDown') {\n\n        source += 'S.isPenDown = true;\\n';\n        source += 'S.dotPen();\\n';\n\n      } else if (block[0] === 'putPenUp') {\n\n        source += 'S.isPenDown = false;\\n';\n\n      } else if (block[0] === 'penColor:') {\n\n        source += 'var c = ' + num(block[1]) + ';\\n';\n        source += 'S.penColor = c;\\n';\n        source += 'var a = (c >> 24 & 0xff) / 0xff;\\n';\n        source += 'S.penCSS = \"rgba(\" + (c >> 16 & 0xff) + \",\" + (c >> 8 & 0xff) + \",\" + (c & 0xff) + \", \" + (a || 1) + \")\";\\n';\n\n      } else if (block[0] === 'setPenHueTo:') {\n\n        source += noRGB;\n        source += 'S.penHue = ' + num(block[1]) + ' * 360 / 200;\\n';\n        source += 'S.penSaturation = 100;\\n';\n\n      } else if (block[0] === 'changePenHueBy:') {\n\n        source += noRGB;\n        source += 'S.penHue += ' + num(block[1]) + ' * 360 / 200;\\n';\n        source += 'S.penSaturation = 100;\\n';\n\n      } else if (block[0] === 'setPenShadeTo:') {\n\n        source += noRGB;\n        source += 'S.penLightness = ' + num(block[1]) + ' % 200;\\n';\n        source += 'if (S.penLightness < 0) S.penLightness += 200;\\n';\n        source += 'S.penSaturation = 100;\\n';\n\n      } else if (block[0] === 'changePenShadeBy:') {\n\n        source += noRGB;\n        source += 'S.penLightness = (S.penLightness + ' + num(block[1]) + ') % 200;\\n';\n        source += 'if (S.penLightness < 0) S.penLightness += 200;\\n';\n        source += 'S.penSaturation = 100;\\n';\n\n      } else if (block[0] === 'penSize:') {\n\n        source += 'var f = ' + num(block[1]) + ';\\n';\n        source += 'S.penSize = f < 1 ? 1 : f;\\n';\n\n      } else if (block[0] === 'changePenSizeBy:') {\n\n        source += 'var f = S.penSize + ' + num(block[1]) + ';\\n';\n        source += 'S.penSize = f < 1 ? 1 : f;\\n';\n\n      } else if (block[0] === 'stampCostume') {\n\n        source += 'S.stamp();\\n';\n\n      } else if (block[0] === 'setVar:to:') { /* Data */\n\n        source += varRef(block[1]) + ' = ' + val(block[2]) + ';\\n';\n\n      } else if (block[0] === 'changeVar:by:') {\n\n        var ref = varRef(block[1]);\n        source += ref + ' = (+' + ref + ' || 0) + ' + num(block[2]) + ';\\n';\n\n      } else if (block[0] === 'append:toList:') {\n\n        source += 'appendToList(' + listRef(block[2]) + ', ' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'deleteLine:ofList:') {\n\n        source += 'deleteLineOfList(' + listRef(block[2]) + ', ' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'insert:at:ofList:') {\n\n        source += 'insertInList(' + listRef(block[3]) + ', ' + val(block[2]) + ', '+ val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'setLine:ofList:to:') {\n\n        source += 'setLineOfList(' + listRef(block[2]) + ', ' + val(block[1]) + ', '+ val(block[3]) + ');\\n';\n\n      } else if (block[0] === 'showVariable:' || block[0] === 'hideVariable:') {\n\n        var isShow = block[0] === 'showVariable:';\n        if (typeof block[1] !== 'string') {\n          throw new Error('Dynamic variables are not supported');\n        }\n        var o = object.vars[block[1]] !== undefined ? 'S' : 'self';\n        source += o + '.showVariable(' + val(block[1]) + ', ' + isShow + ');\\n';\n\n      // } else if (block[0] === 'showList:') {\n\n      // } else if (block[0] === 'hideList:') {\n\n      } else if (block[0] === 'broadcast:') { /* Control */\n\n        source += 'var threads = broadcast(' + val(block[1]) + ');\\n';\n        source += 'if (threads.indexOf(BASE) !== -1) {return;}\\n';\n\n      } else if (block[0] === 'call') {\n\n        if (P.config.debug && block[1] === 'phosphorus: debug') {\n          source += 'debugger;\\n';\n        } else {\n          source += 'call(S.procedures[' + val(block[1]) + '], ' + nextLabel() + ', [';\n          for (var i = 2; i < block.length; i++) {\n            if (i > 2) {\n              source += ', ';\n            }\n            source += val(block[i]);\n          }\n          source += ']);\\n';\n          delay();\n        }\n\n      } else if (block[0] === 'doBroadcastAndWait') {\n\n        source += 'save();\\n';\n        source += 'R.threads = broadcast(' + val(block[1]) + ');\\n';\n        source += 'if (R.threads.indexOf(BASE) !== -1) {return;}\\n';\n        var id = label();\n        source += 'if (running(R.threads)) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'doForever') {\n\n        var id = label();\n        seq(block[1]);\n        forceQueue(id);\n\n      } else if (block[0] === 'doForeverIf') {\n\n        var id = label();\n\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        source += '}\\n';\n\n        forceQueue(id);\n\n      // } else if (block[0] === 'doForLoop') {\n\n      } else if (block[0] === 'doIf') {\n\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        source += '}\\n';\n\n      } else if (block[0] === 'doIfElse') {\n\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        source += '} else {\\n';\n        seq(block[3]);\n        source += '}\\n';\n\n      } else if (block[0] === 'doRepeat') {\n\n        source += 'save();\\n';\n        source += 'R.count = ' + num(block[1]) + ';\\n';\n\n        var id = label();\n\n        source += 'if (R.count >= 0.5) {\\n';\n        source += '  R.count -= 1;\\n';\n        seq(block[2]);\n        queue(id);\n        source += '} else {\\n';\n        source += '  restore();\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'doReturn') {\n\n        source += 'endCall();\\n';\n        source += 'return;\\n';\n\n      } else if (block[0] === 'doUntil') {\n\n        var id = label();\n        source += 'if (!' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        queue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'doWhile') {\n\n        var id = label();\n        source += 'if (' + bool(block[1]) + ') {\\n';\n        seq(block[2]);\n        queue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'doWaitUntil') {\n\n        var id = label();\n        source += 'if (!' + bool(block[1]) + ') {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'glideSecs:toX:y:elapsed:from:') {\n\n        source += 'save();\\n';\n        source += 'R.start = runtime.now();\\n';\n        source += 'R.duration = ' + num(block[1]) + ';\\n';\n        source += 'R.baseX = S.scratchX;\\n';\n        source += 'R.baseY = S.scratchY;\\n';\n        source += 'R.deltaX = ' + num(block[2]) + ' - S.scratchX;\\n';\n        source += 'R.deltaY = ' + num(block[3]) + ' - S.scratchY;\\n';\n\n        var id = label();\n        source += 'var f = (runtime.now() - R.start) / (R.duration * 1000);\\n';\n        source += 'if (f > 1 || isNaN(f)) f = 1;\\n';\n        source += 'S.moveTo(R.baseX + f * R.deltaX, R.baseY + f * R.deltaY);\\n';\n\n        source += 'if (f < 1) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n        source += 'restore();\\n';\n\n      } else if (block[0] === 'stopAll') {\n\n        source += 'runtime.stopAll();\\n';\n        source += 'return;\\n';\n\n      } else if (block[0] === 'stopScripts') {\n\n        source += 'switch (' + val(block[1]) + ') {\\n';\n        source += '  case \"all\":\\n';\n        source += '    runtime.stopAll();\\n';\n        source += '    return;\\n';\n        source += '  case \"this script\":\\n';\n        source += '    endCall();\\n';\n        source += '    return;\\n';\n        source += '  case \"other scripts in sprite\":\\n';\n        source += '  case \"other scripts in stage\":\\n';\n        source += '    S.stopSoundsExcept(BASE);\\n';\n        source += '    for (var i = 0; i < runtime.queue.length; i++) {\\n';\n        source += '      if (i !== THREAD && runtime.queue[i] && runtime.queue[i].sprite === S) {\\n';\n        source += '        runtime.queue[i] = undefined;\\n';\n        source += '      }\\n';\n        source += '    }\\n';\n        source += '    break;\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'wait:elapsed:from:') {\n\n        wait(num(block[1]));\n\n      } else if (block[0] === 'warpSpeed') {\n\n        source += 'WARP++;\\n';\n        seq(block[1]);\n        source += 'WARP--;\\n';\n\n      } else if (block[0] === 'createCloneOf') {\n\n        source += 'clone(' + val(block[1]) + ');\\n';\n\n      } else if (block[0] === 'deleteClone') {\n\n        source += 'if (S.isClone) {\\n';\n        source += '  S.remove();\\n';\n        source += '  var i = self.children.indexOf(S);\\n';\n        source += '  if (i !== -1) self.children.splice(i, 1);\\n';\n        source += '  for (var i = 0; i < runtime.queue.length; i++) {\\n';\n        source += '    if (runtime.queue[i] && runtime.queue[i].sprite === S) {\\n';\n        source += '      runtime.queue[i] = undefined;\\n';\n        source += '    }\\n';\n        source += '  }\\n';\n        source += '  return;\\n';\n        source += '}\\n';\n\n      } else if (block[0] === 'doAsk') { /* Sensing */\n\n        source += 'R.id = self.nextPromptId++;\\n';\n\n        var id = label();\n        source += 'if (self.promptId < R.id) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n        source += 'S.ask(' + val(block[1]) + ');\\n';\n\n        var id = label();\n        source += 'if (self.promptId === R.id) {\\n';\n        forceQueue(id);\n        source += '}\\n';\n\n      } else if (block[0] === 'timerReset') {\n\n        source += 'runtime.timerStart = runtime.now();\\n';\n\n      } else {\n\n        warn('Undefined command: ' + block[0]);\n\n      }\n    };\n\n    var source = '';\n    var startfn = object.fns.length;\n    var fns = [0];\n\n    if (script[0][0] === 'procDef') {\n      var inputs = script[0][2];\n      var types = script[0][1].match(/%[snmdcb]/g) || [];\n      var used: boolean[] = [];\n    }\n\n    for (let i = 1; i < script.length; i++) {\n      compile(script[i]);\n    }\n\n    if (script[0][0] === 'procDef') {\n      let pre = '';\n      for (let i = types.length; i--;) {\n        // We know `used` is defined at this point, but typescript doesn't.\n        if (used![i]) {\n          const t = types[i];\n          if (t === '%d' || t === '%n' || t === '%c') {\n            pre += 'C.numargs[' + i + '] = +C.args[' + i + '] || 0;\\n';\n          } else if (t === '%b') {\n            pre += 'C.boolargs[' + i + '] = bool(C.args[' + i + ']);\\n';\n          }\n        }\n      }\n      source = pre + source;\n      for (let i = 1, l = fns.length; i < l; ++i) {\n        fns[i] += pre.length;\n      }\n      source += 'endCall();\\n';\n      source += 'return;\\n';\n    }\n\n    for (let i = 0; i < fns.length; i++) {\n      object.fns.push(P.runtime.createContinuation(source.slice(fns[i])));\n    }\n\n    var f = object.fns[startfn];\n\n    if (script[0][0] === 'whenClicked') {\n      object.listeners.whenClicked.push(f);\n    } else if (script[0][0] === 'whenGreenFlag') {\n      object.listeners.whenGreenFlag.push(f);\n    } else if (script[0][0] === 'whenCloned') {\n      object.listeners.whenCloned.push(f);\n    } else if (script[0][0] === 'whenIReceive') {\n      var key = script[0][1].toLowerCase();\n      (object.listeners.whenIReceive[key] || (object.listeners.whenIReceive[key] = [])).push(f);\n    } else if (script[0][0] === 'whenKeyPressed') {\n      if (script[0][1] === 'any') {\n        for (var i = 128; i--;) {\n          object.listeners.whenKeyPressed[i].push(f);\n        }\n      } else {\n        object.listeners.whenKeyPressed[P.runtime.getKeyCode(script[0][1])].push(f);\n      }\n    } else if (script[0][0] === 'whenSceneStarts') {\n      var key = script[0][1].toLowerCase();\n      (object.listeners.whenSceneStarts[key] || (object.listeners.whenSceneStarts[key] = [])).push(f);\n    } else if (script[0][0] === 'procDef') {\n      const warp = script[0][4];\n      object.procedures[script[0][1]] = new Scratch2Procedure(f, warp, inputs);\n    } else {\n      warn('Undefined event: ' + script[0][0]);\n    }\n\n    if (P.config.debug) {\n      var variant = script[0][0];\n      if (variant === 'procDef') {\n        variant += ':' + script[0][1];\n      }\n      console.log('compiled sb2 script', variant, source);\n    }\n  };\n\n  export function compile(stage) {\n    warnings = Object.create(null);\n\n    compileScripts(stage);\n    for (var i = 0; i < stage.children.length; i++) {\n      compileScripts(stage.children[i]);\n    }\n\n    for (var key in warnings) {\n      console.warn(key + (warnings[key] > 1 ? ' (repeated ' + warnings[key] + ' times)' : ''));\n    }\n  }\n}\n","/// <reference path=\"phosphorus.ts\" />\n/// <reference path=\"utils.ts\" />\n/// <reference path=\"core.ts\" />\n/// <reference path=\"fonts.ts\" />\n/// <reference path=\"config.ts\" />\n/// <reference path=\"runtime.ts\" />\n\n// Scratch 3 project loader and runtime objects\nnamespace P.sb3 {\n  // \"Scratch3*\" classes implement some part of the Scratch 3 runtime.\n  // \"SB3*\" interfaces are just types for Scratch 3 projects\n\n  /**\n   * The path to fetch remote assets from.\n   * Replace $md5ext with the md5sum and the format of the asset.\n   */\n  export const ASSETS_API = 'https://assets.scratch.mit.edu/internalapi/asset/$md5ext/get/';\n\n  interface SB3Project {\n    targets: SB3Target[];\n    monitors: SB3Watcher[];\n    meta: any;\n  }\n\n  export interface SB3Target {\n    name: string;\n    isStage: boolean;\n    sounds: SB3Sound[];\n    costumes: SB3Costume[];\n    draggable: boolean;\n    size: number;\n    direction: number;\n    visible: boolean;\n    x: number;\n    y: number;\n    currentCostume: number;\n    rotationStyle: string;\n    layerOrder: number;\n    lists: ObjectMap<SB3List>;\n    variables: ObjectMap<SB3Variable>;\n    blocks: ObjectMap<SB3Block>;\n    broadcasts: ObjectMap<string>;\n  }\n\n  interface SB3Costume {\n    /**\n     * The ID of the asset. Should be its md5sum.\n     * Example: \"b61b1077b0ea1931abee9dbbfa7903ff\"\n     */\n    assetId: string;\n    name: string;\n    /**\n     * \"Real pixels per image pixel\"\n     */\n    bitmapResolution: number;\n    /**\n     * The ID of the asset with its extension.\n     * Example: \"b61b1077b0ea1931abee9dbbfa7903ff.png\"\n     */\n    md5ext: string;\n    /**\n     * The format of the image.\n     * Usually \"png\" or \"svg\"\n     */\n    dataFormat: string;\n    rotationCenterX: number;\n    rotationCenterY: number;\n  }\n\n  interface SB3Sound {\n    assetId: string,\n    name: string;\n    dataFormat: string;\n    format: string;\n    rate: number;\n    sampleCount: number;\n    md5ext: string;\n  }\n\n  export interface SB3Block {\n    opcode: string;\n    topLevel: boolean;\n    inputs: ObjectMap<any>;\n    fields: ObjectMap<any>;\n    mutation: any;\n    parent: string | null;\n    next: string | null;\n  }\n\n  interface SB3Watcher {\n    spriteName: string | null;\n    visible: boolean;\n    id: string;\n    opcode: string;\n    mode: string;\n    params: any;\n    x: number;\n    y: number;\n    sliderMin?: number;\n    sliderMax?: number;\n    width?: number;\n    height?: number;\n    isDiscrete: boolean;\n  }\n\n  /**\n   * Tuple of name and initial value\n   */\n  type SB3List = [string, any[]];\n\n  /**\n   * Tuple of name and initial value\n   */\n  type SB3Variable = [string, any];\n\n  // Implements a Scratch 3 Stage.\n  export class Scratch3Stage extends P.core.Stage {\n    public sb3data: SB3Target;\n    public listIds: ObjectMap<string> = {};\n  }\n\n  // Implements a Scratch 3 Sprite.\n  export class Scratch3Sprite extends P.core.Sprite {\n    public sb3data: any;\n    public listIds: ObjectMap<string> = {};\n\n    _clone() {\n      return new Scratch3Sprite(this.stage);\n    }\n  }\n\n  export type Target = Scratch3Stage | Scratch3Sprite;\n\n  // Implements a Scratch 3 VariableWatcher.\n  // Adds Scratch 3-like styling\n  export class Scratch3VariableWatcher extends P.core.Watcher {\n    public id: string;\n    public opcode: string;\n    private mode: string;\n    public params: any;\n    private libraryEntry: P.sb3.compiler.WatchedValue;\n    private sliderMin: number;\n    private sliderMax: number;\n    private sliderStep: number;\n    private sliderInput: HTMLInputElement;\n    private containerEl: HTMLElement;\n    private valueEl: HTMLElement;\n\n    constructor(stage: Scratch3Stage, data: SB3Watcher) {\n      super(stage, data.spriteName || '');\n\n      // Unique ID\n      this.id = data.id;\n      // Operation code, similar to other parts of Scratch 3\n      this.opcode = data.opcode;\n      this.mode = data.mode;\n      // Watcher options, varies by opcode.\n      this.params = data.params;\n      // This opcode's watcherLibrary entry.\n      this.libraryEntry = P.sb3.compiler.watcherLibrary[this.opcode];\n\n      this.x = data.x;\n      this.y = data.y;\n      this.visible = typeof data.visible === 'boolean' ? data.visible : true;\n\n      this.sliderMin = data.sliderMin || 0;\n      this.sliderMax = data.sliderMax || 0;\n      // isDiscrete doesn't always exist\n      if (typeof data.isDiscrete !== 'undefined') {\n        this.sliderStep = data.isDiscrete ? 1 : 0.01;\n      } else {\n        this.sliderStep = 1;\n      }\n\n      // Mark ourselves as invalid if the opcode is not recognized.\n      if (!this.libraryEntry) {\n        console.warn('unknown watcher', this.opcode, this);\n        this.valid = false;\n      }\n    }\n\n    update() {\n      if (this.visible) {\n        const value = this.getValue();\n        // Value is only updated when the value has changed to reduce useless paints/reflows in some browsers.\n        if (this.valueEl.textContent !== value) {\n          this.valueEl.textContent = value;\n        }\n        if (this.sliderInput) {\n          this.sliderInput.value = value;\n        }\n      }\n    }\n\n    init() {\n      super.init();\n\n      // call init() if it exists\n      if (this.libraryEntry.init) {\n        this.libraryEntry.init(this);\n      }\n\n      this.updateLayout();\n    }\n\n    setVisible(visible: boolean) {\n      super.setVisible(visible);\n      this.updateLayout();\n    }\n\n    // Gets the label of the watcher.\n    // Will include the sprite's name if any.\n    // Example results are 'Sprite1: my variable' and 'timer'\n    getLabel() {\n      const label = this.libraryEntry.getLabel(this);\n      if (!this.target.isStage) {\n        return this.targetName + ': ' + label;\n      }\n      return label;\n    }\n\n    // Gets the value of the watcher as a string.\n    getValue() {\n      const value = this.libraryEntry.evaluate(this);\n      // Round off numbers to the 6th decimal\n      if (typeof value === 'number') {\n        return '' + (Math.round(value * 1e6) / 1e6);\n      }\n      return '' + value;\n    }\n\n    // Attempts to set the value of the watcher.\n    // Will silently fail if this watcher cannot be set.\n    setValue(value: number) {\n      // Not all opcodes have a set()\n      if (this.libraryEntry.set) {\n        this.libraryEntry.set(this, value);\n        this.update();\n      }\n    }\n\n    // Updates or creates the layout of the watcher.\n    updateLayout() {\n      // If the HTML element has already been created, them simply update the CSS display property.\n      if (this.containerEl) {\n        this.containerEl.style.display = this.visible ? 'flex' : 'none';\n        return;\n      }\n\n      if (!this.visible) {\n        return;\n      }\n\n      const container = document.createElement('div');\n      container.classList.add('s3-watcher-container');\n      container.dataset.opcode = this.opcode;\n      container.style.top = (this.y / 10) + 'em';\n      container.style.left = (this.x / 10) + 'em';\n\n      const value = document.createElement('div');\n      value.classList.add('s3-watcher-value');\n      value.textContent = this.getValue();\n\n      this.containerEl = container;\n      this.valueEl = value;\n      this.stage.ui.appendChild(container);\n\n      const mode = this.mode;\n\n      if (mode === 'large') {\n        container.classList.add('s3-watcher-large');\n        container.appendChild(value);\n      } else {\n        // mode is probably 'normal' or 'slider'\n        // if it's not, then 'normal' would be a good fallback anyways.\n\n        const row = document.createElement('div');\n        row.classList.add('s3-watcher-row');\n        row.classList.add('s3-watcher-row-normal');\n\n        const label = document.createElement('div');\n        label.classList.add('s3-watcher-label');\n        label.textContent = this.getLabel();\n\n        row.appendChild(label);\n        row.appendChild(value);\n\n        container.classList.add('s3-watcher-container-normal');\n        container.appendChild(row);\n\n        // 'slider' is a slight variation of 'normal', just with an extra slider row.\n        if (mode === 'slider') {\n          const slider = document.createElement('div');\n          slider.classList.add('s3-watcher-row-slider');\n\n          const input = document.createElement('input');\n          input.type = 'range';\n          input.min = '' + this.sliderMin;\n          input.max = '' + this.sliderMax;\n          input.step = '' + this.sliderStep;\n          input.value = this.getValue();\n          input.addEventListener('input', this.sliderChanged.bind(this));\n          this.sliderInput = input;\n\n          slider.appendChild(input);\n          container.appendChild(slider);\n        }\n      }\n    }\n\n    // Handles slider input events.\n    sliderChanged(e: Event) {\n      const value = +(e.target as HTMLInputElement).value;\n      this.setValue(value);\n    }\n  }\n\n  export class ListWatcherRow {\n    public element: HTMLElement;\n    private indexEl: HTMLElement;\n    private valueEl: HTMLElement;\n    private value: any = '';\n    private index: any = -1;\n    private y: any = 0;\n    private visible: boolean = true;\n\n    constructor() {\n      this.element = document.createElement('div');\n      this.indexEl = document.createElement('div');\n      this.valueEl = document.createElement('div');\n      this.element.className = 's3-list-row';\n      this.indexEl.className = 's3-list-index';\n      this.valueEl.className = 's3-list-value';\n      this.element.appendChild(this.indexEl);\n      this.element.appendChild(this.valueEl);\n    }\n\n    /**\n     * Set the value of this row.\n     */\n    setValue(value: any) {\n      if (value !== this.value) {\n        this.value = value;\n        this.valueEl.textContent = value;\n      }\n    }\n\n    /**\n     * Set the index of this row.\n     * @param index The *JavaScript* index of the row.\n     */\n    setIndex(index: number) {\n      if (index !== this.index) {\n        this.index = index;\n        this.indexEl.textContent = (index + 1).toString();\n      }\n    }\n\n    /**\n     * Set the Y coordinate of this row.\n     */\n    setY(y: number) {\n      if (y !== this.y) {\n        this.y = y;\n        this.element.style.transform = 'translateY(' + y + 'px)';\n      }\n    }\n\n    /**\n     * Set the visibility of this row.\n     */\n    setVisible(visible: boolean) {\n      if (this.visible !== visible) {\n        this.visible = visible;\n        this.element.style.display = visible ? '' : 'none';\n      }\n    }\n  }\n\n  const enum ScrollDirection {\n    Up, Down,\n  }\n  export class Scratch3ListWatcher extends P.core.Watcher {\n    private params: any;\n    private id: string;\n    private width: number;\n    private height: number;\n    private list: Scratch3List;\n    private containerEl: HTMLElement;\n    private topLabelEl: HTMLElement;\n    private bottomLabelEl: HTMLElement;\n    private middleContainerEl: HTMLElement;\n    private endpointEl: HTMLElement;\n    private contentEl: HTMLElement;\n    private rows: ListWatcherRow[] = [];\n    private _rowHeight: number = -1;\n    private scrollTop: number = 0;\n    private lastZoomLevel: number = 1;\n    private scrollAhead: number = 8;\n    private scrollBack: number = 3;\n    private scrollDirection: ScrollDirection = ScrollDirection.Down;\n    private _contentHeight: number = -1;\n\n    constructor(stage: Scratch3Stage, data: SB3Watcher) {\n      super(stage, data.spriteName || '');\n\n      this.id = data.id;\n      this.params = data.params;\n      this.x = data.x;\n      this.y = data.y;\n      this.visible = typeof data.visible === 'boolean' ? data.visible : true;\n      this.width = data.width || 100;\n      this.height = data.height || 200;\n    }\n\n    update() {\n      if (!this.visible) {\n        return;\n      }\n\n      if (!this.list.modified && this.lastZoomLevel === this.stage.zoom) {\n        return;\n      }\n      if (this.lastZoomLevel !== this.stage.zoom) {\n        this.contentEl.scrollTop *= this.stage.zoom / this.lastZoomLevel;\n      }\n      this.list.modified = false;\n      this.lastZoomLevel = this.stage.zoom;\n\n      this.updateList();\n\n      const bottomLabelText = this.getBottomLabel();\n      if (this.bottomLabelEl.textContent !== bottomLabelText) {\n        this.bottomLabelEl.textContent = this.getBottomLabel();\n      }\n    }\n\n    updateList() {\n      const height = this.list.length * this.getRowHeight();\n      this.endpointEl.style.transform = 'translateY(' + (height * this.stage.zoom) + 'px)';\n\n      const topVisible = this.scrollTop;\n      const bottomVisible = topVisible + this.getContentHeight();\n\n      let startingIndex = Math.floor(topVisible / this.getRowHeight());\n      let endingIndex = Math.ceil(bottomVisible / this.getRowHeight());\n\n      if (this.scrollDirection === ScrollDirection.Down) {\n        startingIndex -= this.scrollBack;\n        endingIndex += this.scrollAhead;\n      } else {\n        startingIndex -= this.scrollAhead;\n        endingIndex += this.scrollBack;\n      }\n\n      if (startingIndex < 0) startingIndex = 0;\n      if (endingIndex > this.list.length - 1) endingIndex = this.list.length - 1;\n\n      // Sanity checks:\n      // Cap ourselves at 50 rows on screen.\n      if (endingIndex - startingIndex > 50) {\n        endingIndex = startingIndex + 50;\n      }\n\n      const visibleRows = endingIndex - startingIndex;\n      while (this.rows.length <= visibleRows) {\n        this.addRow();\n      }\n\n      for (var listIndex = startingIndex, rowIndex = 0; listIndex <= endingIndex; listIndex++, rowIndex++) {\n        let row = this.rows[rowIndex];\n        row.setIndex(listIndex);\n        row.setValue(this.list[listIndex]);\n        row.setY(listIndex * this._rowHeight * this.stage.zoom);\n        row.setVisible(true);\n      }\n      while (rowIndex < this.rows.length) {\n        this.rows[rowIndex].setVisible(false);\n        rowIndex++;\n      }\n    }\n\n    init() {\n      super.init();\n      const target = this.target as Target;\n      const listId = this.id;\n      const listName = target.listIds[listId];\n      if (!(listName in this.target.lists)) {\n        // Create the list if it doesn't exist.\n        // It might be better to mark ourselves as invalid instead, but this works just fine.\n        this.target.lists[listName] = createList();\n      }\n      this.list = this.target.lists[listName] as Scratch3List;\n      this.target.listWatchers[listName] = this;\n      this.updateLayout();\n    }\n\n    getTopLabel(): string {\n      if (this.target.isStage) {\n        return this.params.LIST;\n      }\n      return this.target.name + ': ' + this.params.LIST;\n    }\n    getBottomLabel(): string {\n      return 'length ' + this.list.length;\n    }\n\n    getContentHeight(): number {\n      if (this._contentHeight === -1) {\n        this._contentHeight = this.contentEl.offsetHeight;\n      }\n      return this._contentHeight;\n    }\n\n    getRowHeight(): number {\n      if (this._rowHeight === -1) {\n        // Space between each row, in pixels.\n        const PADDING = 2;\n        const row = this.addRow();\n        const height = row.element.offsetHeight;\n        this._rowHeight = height + PADDING;\n      }\n      return this._rowHeight;\n    }\n\n    addRow(): ListWatcherRow {\n      const row = new ListWatcherRow();\n      this.rows.push(row);\n      this.contentEl.appendChild(row.element);\n      return row;\n    }\n\n    updateLayout() {\n      if (!this.containerEl) {\n        this.createLayout();\n      }\n      this.containerEl.style.display = this.visible ? '' : 'none';\n    }\n\n    setVisible(visible: boolean) {\n      super.setVisible(visible);\n      this.updateLayout();\n    }\n\n    createLayout() {\n      this.containerEl = document.createElement('div');\n      this.topLabelEl = document.createElement('div');\n      this.bottomLabelEl = document.createElement('div');\n      this.middleContainerEl = document.createElement('div');\n      this.contentEl = document.createElement('div');\n\n      this.containerEl.style.top = (this.y / 10) + 'em';\n      this.containerEl.style.left = (this.x / 10) + 'em';\n      this.containerEl.style.height = (this.height / 10) + 'em';\n      this.containerEl.style.width = (this.width / 10) + 'em';\n      this.containerEl.classList.add('s3-list-container');\n\n      this.topLabelEl.textContent = this.getTopLabel();\n      this.topLabelEl.classList.add('s3-list-top-label');\n\n      this.bottomLabelEl.textContent = this.getBottomLabel();\n      this.bottomLabelEl.classList.add('s3-list-bottom-label');\n\n      this.middleContainerEl.classList.add('s3-list-content');\n\n      this.contentEl.classList.add('s3-list-rows');\n      this.contentEl.addEventListener('scroll', (e) => {\n        const scrollTop = this.contentEl.scrollTop / this.stage.zoom;\n        const scrollChange = this.scrollTop - scrollTop;\n        if (scrollChange < 0) {\n          this.scrollDirection = ScrollDirection.Down;\n        } else if (scrollChange > 0) {\n          this.scrollDirection = ScrollDirection.Up;\n        }\n        this.scrollTop = scrollTop;\n        this.updateList();\n      });\n\n      this.endpointEl = document.createElement('div');\n      this.endpointEl.className = 's3-list-endpoint';\n      this.contentEl.appendChild(this.endpointEl);\n\n      this.middleContainerEl.appendChild(this.contentEl);\n      this.containerEl.appendChild(this.topLabelEl);\n      this.containerEl.appendChild(this.middleContainerEl);\n      this.containerEl.appendChild(this.bottomLabelEl);\n      this.stage.ui.appendChild(this.containerEl);\n    }\n  }\n\n  // Implements a Scratch 3 procedure.\n  // Scratch 3 uses names as references for arguments (Scratch 2 uses indexes I believe)\n  export class Scratch3Procedure extends P.core.Procedure {\n    call(inputs: any[]) {\n      const args = {};\n      for (var i = 0; i < this.inputs.length; i++) {\n        args[this.inputs[i]] = inputs[i];\n      }\n      return args;\n    }\n  }\n\n  export interface Scratch3List extends Array<any> {\n    modified: boolean;\n  }\n\n  export function createList(): Scratch3List {\n    const list = [] as any as Scratch3List;\n    list.modified = false;\n    list.toString = function() {\n      var i = this.length;\n      while (i--) {\n        if (('' + this[i]).length !== 1) {\n          return this.join(' ');\n        }\n      }\n      return this.join('');\n    };\n    return list;\n  }\n\n  /**\n   * Patches and modifies an SVG element in-place to make it function properly in the forkphorus environment.\n   * Fixes fonts and viewBox.\n   */\n  function patchSVG(svg: SVGElement): void {\n    // Special treatment for the viewBox attribute\n    if (svg.hasAttribute('viewBox')) {\n      const viewBox = svg.getAttribute('viewBox')!.split(/ |,/).map((i) => +i);\n      if (viewBox.every((i) => !isNaN(i)) && viewBox.length === 4) {\n        const [ x, y, w, h ] = viewBox;\n        // Fix width/height to include the viewBox min x/y\n        svg.setAttribute('width', (w + x).toString());\n        svg.setAttribute('height', (h + y).toString());\n      } else {\n        console.warn('weird viewBox', svg.getAttribute('viewBox'));\n      }\n      svg.removeAttribute('viewBox');\n    }\n\n    const textElements = svg.querySelectorAll('text');\n    const usedFonts: string[] = [];\n    const addFont = (font: string) => {\n      if (usedFonts.indexOf(font) === -1) {\n        usedFonts.push(font);\n      }\n    };\n\n    for (var i = 0; i < textElements.length; i++) {\n      const el = textElements[i];\n      let fonts = (el.getAttribute('font-family') || '')\n        .split(',')\n        .map((i) => i.trim());\n      let found = false;\n      for (const family of fonts) {\n        if (P.fonts.scratch3[family]) {\n          found = true;\n          addFont(family);\n          break;\n        } else if (family === 'sans-serif') {\n          found = true;\n          // We let the system handle their respective 'sans-serif' fonts\n          // https://scratch.mit.edu/projects/319138929/\n          break;\n        }\n      }\n      if (!found) {\n        console.warn('unknown fonts', fonts);\n        const font = 'Sans Serif';\n        addFont(font);\n        el.setAttribute('font-family', font);\n      }\n    }\n\n    P.fonts.addFontRules(svg, usedFonts);\n  }\n\n  // Implements base SB3 loading logic.\n  // Needs to be extended to add file loading methods.\n  // Implementations are expected to set `this.projectData` to something before calling super.load()\n  export abstract class BaseSB3Loader {\n    protected projectData: SB3Project;\n    private totalTasks: number = 0;\n    private finishedTasks: number = 0;\n    private requests: XMLHttpRequest[] = [];\n    public aborted: boolean = false;\n    public onprogress = new P.utils.Slot<number>();\n\n    protected abstract getAsText(path: string): Promise<string>;\n    protected abstract getAsArrayBuffer(path: string): Promise<ArrayBuffer>;\n    protected abstract getAsImage(path: string, format: string): Promise<HTMLImageElement>;\n\n    getSVG(path: string): Promise<HTMLImageElement> {\n      return this.getAsText(path)\n        .then((source) => {\n          const parser = new DOMParser();\n          const doc = parser.parseFromString(source, 'image/svg+xml');\n          const svg = doc.documentElement as any;\n          patchSVG(svg);\n\n          return new Promise((resolve, reject) => {\n            const image = new Image();\n            image.onload = (e) => {\n              resolve(image);\n            };\n            image.onerror = (e) => {\n              reject(e);\n            };\n            image.src = 'data:image/svg+xml,' + encodeURIComponent(svg.outerHTML);\n          });\n        });\n    }\n\n    getBitmapImage(path: string, format: string): Promise<HTMLImageElement> {\n      return this.getAsImage(path, format);\n    }\n\n    loadCostume(data: SB3Costume, index: number): Promise<P.core.Costume> {\n      const path = data.assetId + '.' + data.dataFormat;\n      const costumeOptions = {\n        name: data.name,\n        bitmapResolution: data.bitmapResolution || 1,\n        rotationCenterX: data.rotationCenterX,\n        rotationCenterY: data.rotationCenterY,\n      };\n      if (data.dataFormat === 'svg') {\n        return this.getSVG(path)\n          .then((svg) => new P.core.VectorCostume(svg, costumeOptions));\n      } else {\n        return this.getBitmapImage(path, data.dataFormat)\n          .then((image) => new P.core.BitmapCostume(image, costumeOptions));\n      }\n    }\n\n    getAudioBuffer(path: string) {\n      return this.getAsArrayBuffer(path)\n        .then((buffer) => P.audio.decodeAudio(buffer))\n        .catch((err) => {\n          throw new Error(`Could not load audio: ${path} (${err})`);\n        });\n    }\n\n    loadSound(data: SB3Sound): Promise<P.core.Sound | null> {\n      return new Promise((resolve, reject) => {\n        this.getAudioBuffer(data.md5ext)\n          .then((buffer) => {\n            resolve(new P.core.Sound({\n              name: data.name,\n              buffer,\n            }))\n          })\n          .catch((err) => {\n            console.warn('Could not load sound: ' + err);\n            resolve(null);\n          });\n      });\n    }\n\n    loadWatcher(data: SB3Watcher, stage: Scratch3Stage): P.core.Watcher {\n      if (data.mode === 'list') {\n        return new Scratch3ListWatcher(stage, data);\n      }\n\n      return new Scratch3VariableWatcher(stage, data);\n    }\n\n    loadTarget(data: SB3Target): Promise<Target> {\n      // dirty hack for null stage\n      const target = new (data.isStage ? Scratch3Stage : Scratch3Sprite)(null as any);\n\n      for (const id of Object.keys(data.variables)) {\n        const variable = data.variables[id];\n        const name = variable[0];\n        const value = variable[1];\n        target.vars[name] = value;\n      }\n\n      for (const id of Object.keys(data.lists)) {\n        const list = data.lists[id];\n        const name = list[0];\n        const content = list[1];\n        const scratchList = createList();\n        for (var i = 0; i < content.length; i++) {\n          scratchList[i] = content[i];\n        }\n        target.lists[name] = scratchList;\n        target.listIds[id] = name;\n      }\n\n      target.name = data.name;\n      target.currentCostumeIndex = data.currentCostume;\n      target.sb3data = data;\n\n      if (target.isStage) {\n\n      } else {\n        const sprite = target as Scratch3Sprite;\n        sprite.scratchX = data.x;\n        sprite.scratchY = data.y;\n        sprite.visible = data.visible;\n        sprite.direction = data.direction;\n        sprite.scale = data.size / 100;\n        sprite.isDraggable = data.draggable;\n        sprite.rotationStyle = P.utils.parseRotationStyle(data.rotationStyle);\n      }\n\n      const costumesPromise = Promise.all<P.core.Costume>(data.costumes.map((c: any, i: any) => this.loadCostume(c, i)));\n      const soundsPromise = Promise.all<P.core.Sound | null>(data.sounds.map((c) => this.loadSound(c)));\n\n      return Promise.all<P.core.Costume[], Array<P.core.Sound | null>>([costumesPromise, soundsPromise])\n        .then((result) => {\n          const costumes = result[0];\n          const sounds = result[1];\n\n          target.costumes = costumes;\n          sounds.forEach((sound) => sound && target.addSound(sound));\n\n          return target;\n        });\n    }\n\n    loadFonts() {\n      const promises: Promise<unknown>[] = [];\n      for (const family in P.fonts.scratch3) {\n        promises.push(this.promiseTask(P.utils.settled(P.fonts.loadLocalFont(family, P.fonts.scratch3[family]))));\n      }\n      return Promise.all(promises);\n    }\n\n    compileTargets(targets: Target[], stage: P.core.Stage): void {\n      if (P.config.debug) {\n        console.time('Scratch 3 compile');\n      }\n      for (const target of targets) {\n        const compiler = new P.sb3.compiler.Compiler(target);\n        compiler.compile();\n      }\n      if (P.config.debug) {\n        console.timeEnd('Scratch 3 compile');\n      }\n    }\n\n    load() {\n      if (!this.projectData) {\n        throw new Error('invalid project data');\n      }\n      if (!Array.isArray(this.projectData.targets)) {\n        throw new Error('no targets');\n      }\n\n      const targets = this.projectData.targets;\n      // sort targets by their layerOrder to match how they will display\n      targets.sort((a, b) => a.layerOrder - b.layerOrder);\n\n      return this.loadFonts()\n        .then(() => Promise.all(targets.map((data) => this.loadTarget(data))))\n        .then((targets: any) => {\n          if (this.aborted) {\n            throw new Error('Loading aborting.');\n          }\n          const stage = targets.filter((i) => i.isStage)[0] as Scratch3Stage;\n          if (!stage) {\n            throw new Error('no stage object');\n          }\n          const sprites = targets.filter((i) => i.isSprite) as Scratch3Sprite[];\n          sprites.forEach((sprite) => sprite.stage = stage);\n          stage.children = sprites;\n\n          stage.allWatchers = this.projectData.monitors\n            .map((data) => this.loadWatcher(data, stage))\n            .filter((i) => i && i.valid);\n          stage.allWatchers.forEach((watcher) => watcher.init());\n\n          this.compileTargets(targets, stage);\n\n          return stage;\n        });\n    }\n\n    abort() {\n      this.aborted = true;\n      for (const request of this.requests) {\n        request.abort();\n      }\n    }\n\n    newTask() {\n      if (this.aborted) {\n        throw new Error('Loading aborted.');\n      }\n      this.totalTasks++;\n      this.onprogress.emit(this.progress);\n    }\n\n    endTask() {\n      if (this.aborted) {\n        throw new Error('Loading aborted.');\n      }\n      this.finishedTasks++;\n      this.onprogress.emit(this.progress);\n    }\n\n    requestTask<T>(request: P.IO.XHRRequest<T>): Promise<T> {\n      this.requests.push(request.xhr);\n      return this.promiseTask(request.load());\n    }\n\n    promiseTask<T>(promise: Promise<T>): Promise<T> {\n      this.newTask();\n      return promise\n        .then((value) => {\n          this.endTask();\n          return value;\n        });\n    }\n\n    get progress() {\n      return this.finishedTasks / this.totalTasks || 0;\n    }\n  }\n\n  // Loads a .sb3 file\n  export class SB3FileLoader extends BaseSB3Loader {\n    private buffer: ArrayBuffer;\n    private zip: JSZip.Zip;\n\n    constructor(buffer: ArrayBuffer) {\n      super();\n      this.buffer = buffer;\n    }\n\n    getAsText(path: string) {\n      this.newTask();\n      return this.zip.file(path).async('text')\n        .then((response) => {\n          this.endTask();\n          return response;\n        });\n    }\n\n    getAsArrayBuffer(path: string) {\n      this.newTask();\n      return this.zip.file(path).async('arrayBuffer')\n        .then((response) => {\n          this.endTask();\n          return response;\n        });\n    }\n\n    getAsBase64(path: string) {\n      this.newTask();\n      return this.zip.file(path).async('base64')\n        .then((response) => {\n          this.endTask();\n          return response;\n        });\n    }\n\n    getAsImage(path: string, format: string) {\n      this.newTask();\n      return this.getAsBase64(path)\n        .then((imageData) => {\n          return new Promise<HTMLImageElement>((resolve, reject) => {\n            const image = new Image();\n            image.onload = () => {\n              this.endTask();\n              resolve(image);\n            };\n            image.onerror = (error) => {\n              reject('Failed to load image: ' + path + '.' + format);\n            };\n            image.src = 'data:image/' + format + ';base64,' + imageData;\n          });\n        });\n    }\n\n    load() {\n      return JSZip.loadAsync(this.buffer)\n        .then((data) => {\n          this.zip = data;\n          return this.getAsText('project.json');\n        })\n        .then((project) => {\n          this.projectData = JSON.parse(project);\n        })\n        .then(() => super.load());\n    }\n  }\n\n  // Loads a Scratch 3 project from the scratch.mit.edu website\n  // Uses either a loaded project.json or its ID\n  export class Scratch3Loader extends BaseSB3Loader {\n    private projectId: number | null;\n\n    constructor(idOrData: number | SB3Project) {\n      super();\n      if (typeof idOrData === 'object') {\n        this.projectData = idOrData;\n        this.projectId = null;\n      } else {\n        this.projectId = idOrData;\n      }\n    }\n\n    getAsText(path: string) {\n      return this.requestTask(new P.IO.TextRequest(ASSETS_API.replace('$md5ext', path)));\n    }\n\n    getAsArrayBuffer(path: string) {\n      return this.requestTask(new P.IO.ArrayBufferRequest(ASSETS_API.replace('$md5ext', path)));\n    }\n\n    getAsImage(path: string) {\n      this.newTask();\n      return new Promise<HTMLImageElement>((resolve, reject) => {\n        const image = new Image();\n        image.onload = () => {\n          this.endTask();\n          resolve(image);\n        };\n        image.onerror = (err) => {\n          reject('Failed to load image: ' + image.src);\n        };\n        image.crossOrigin = 'anonymous';\n        image.src = ASSETS_API.replace('$md5ext', path);\n      });\n    }\n\n    load() {\n      if (this.projectId) {\n        return this.requestTask(new P.IO.JSONRequest(P.config.PROJECT_API.replace('$id', '' + this.projectId)))\n          .then((data) => {\n            this.projectData = data;\n            return super.load();\n          });\n      } else {\n        return super.load();\n      }\n    }\n  }\n}\n\n/**\n * The Scratch 3 compiler.\n */\nnamespace P.sb3.compiler {\n  import Fn = P.runtime.Fn;\n\n  /**\n   * Asserts at compile-time that a value is of the type `never`\n   */\n  function assertNever(i: never): never {\n    throw new Error('assertion failed');\n  }\n\n  // IDs of native types\n  // https://github.com/LLK/scratch-vm/blob/36fe6378db930deb835e7cd342a39c23bb54dd72/src/serialization/sb3.js#L60-L79\n  const enum NativeTypes {\n    MATH_NUM = 4,\n    POSITIVE_NUM = 5,\n    WHOLE_NUM = 6,\n    INTEGER_NUM = 7,\n    ANGLE_NUM = 8,\n    COLOR_PICKER = 9,\n    TEXT = 10,\n    BROADCAST = 11,\n    VAR = 12,\n    LIST = 13,\n  }\n\n  /**\n   * JS code with an associated type.\n   * Returns the source when stringified, making the raw type safe to use in concatenation.\n   */\n  export class CompiledInput {\n    /**\n     * Whether this input could potentially be a number-like object at runtime.\n     * A value may be a potential number if:\n     *  - it is a number\n     *  - it is a boolean\n     *  - it is a string that represents a number or a boolean\n     */\n    public potentialNumber: boolean = true;\n\n    constructor(public source: string, public type: InputType) {\n\n    }\n\n    toString() {\n      return this.source;\n    }\n  }\n\n  // Shorter CompiledInput aliases\n  const stringInput = (v: string) => new CompiledInput(v, 'string');\n  const numberInput = (v: string) => new CompiledInput(v, 'number');\n  const booleanInput = (v: string) => new CompiledInput(v, 'boolean');\n  const anyInput = (v: string) => new CompiledInput(v, 'any');\n\n  /**\n   * A compiler for a statement.\n   * A statement is something like \"move ( ) steps\"\n   * @param util Use the methods of the utility class to write the body.\n   */\n  export type StatementCompiler = (util: StatementUtil) => void\n\n  /**\n   * A compiler for an input.\n   * An input is something like the \"10\" in \"move (10) steps\"\n   */\n  export type InputCompiler = (util: InputUtil) => CompiledInput;\n\n  /**\n   * A compiler for a hat block.\n   */\n  export interface HatCompiler {\n    /**\n     * The handler that is responsible for installing the compiled functions\n     */\n    handle(util: HatUtil): void;\n    /**\n     * Optionally make changes to the script's source before it is compiled away into functions.\n     */\n    postcompile?(compiler: Compiler, source: string, hat: SB3Block): string;\n    /**\n     * Optionally handle what happens before compilation begins.\n     */\n    precompile?(compiler: Compiler, hat: SB3Block): void;\n  };\n\n  export type InputType = 'string' | 'boolean' | 'number' | 'any' | 'list';\n\n  /**\n   * General block generation utilities.\n   */\n  export class BlockUtil {\n    constructor(public compiler: Compiler, public block: SB3Block) {\n\n    }\n\n    get target() {\n      return this.compiler.target;\n    }\n\n    get stage() {\n      return this.compiler.target.stage;\n    }\n\n    /**\n     * Compile an input, and give it a type.\n     */\n    getInput(name: string, type: InputType): CompiledInput {\n      return this.compiler.compileInput(this.block, name, type);\n    }\n\n    /**\n     * Compile a field. Results are unescaped strings and unsafe to include in a script.\n     */\n    getField(name: string): string {\n      return this.compiler.getField(this.block, name);\n    }\n\n    /**\n     * Get and sanitize a field.\n     */\n    fieldInput(name: string): CompiledInput {\n      return this.sanitizedInput(this.getField(name));\n    }\n\n    /**\n     * Sanitize an unescaped string into an input.\n     */\n    sanitizedInput(string: string): CompiledInput {\n      return this.compiler.sanitizedInput(string);\n    }\n\n    /**\n     * Sanitize an unescaped string for inclusion in a script.\n     */\n    sanitizedString(string: string): string {\n      return this.compiler.sanitizedString(string);\n    }\n\n    /**\n     * Gets a field's reference to a variable.\n     */\n    getVariableReference(field: string): string {\n      return this.compiler.getVariableReference(this.getField(field));\n    }\n\n    /**\n     * Gets a field's reference to a list.\n     */\n    getListReference(field: string): string {\n      return this.compiler.getListReference(this.getField(field));\n    }\n\n    /**\n     * Gets the scope of a field's reference to a variable.\n     */\n    getVariableScope(field: string): string {\n      return this.compiler.getVariableScope(this.getField(field));\n    }\n\n    /**\n     * Gets the scope of a field's reference to a list.\n     */\n    getListScope(field: string): string {\n      return this.compiler.getListScope(this.getField(field));\n    }\n\n    /**\n     * Forcibly converts JS to another type.\n     */\n    asType(input: string, type: InputType): string {\n      return this.compiler.asType(input, type)\n    }\n  }\n\n  /**\n   * General statement generation utilities.\n   */\n  export class StatementUtil extends BlockUtil {\n    public content: string = '';\n    public substacksQueue: boolean = false;\n\n    /**\n     * Compile a substack.\n     */\n    getSubstack(name: string): string {\n      const labelsBefore = this.compiler.labelCount;\n      const substack = this.compiler.compileSubstackInput(this.block, name);\n      if (this.compiler.labelCount !== labelsBefore) {\n        this.substacksQueue = true;\n      }\n      return substack;\n    }\n\n    /**\n     * Gets the next label ID ready for use. The ID is unique and will cannot be reused.\n     */\n    claimNextLabel(): number {\n      return this.compiler.labelCount++;\n    }\n\n    /**\n     * Create a new label at this location. A label ID will be created if none is supplied.\n     */\n    addLabel(label?: number): number {\n      if (!label) {\n        label = this.claimNextLabel();\n      }\n      // We'll use special syntax to denote this spot as a label.\n      // It'll be cleaned up later in compilation.\n      // Interestingly, this is actually valid JavaScript, so cleanup isn't strictly necessary.\n      this.write(`{{${label}}}`);\n      return label;\n    }\n\n    /**\n     * Writes the queue() method to call a label.\n     */\n    queue(label: number): void {\n      this.writeLn(`queue(${label}); return;`);\n    }\n\n    /**\n     * Writes the forceQueue() method to call a label.\n     */\n    forceQueue(label: number): void {\n      this.writeLn(`forceQueue(${label}); return;`);\n    }\n\n    /**\n     * Writes an appropriate VISUAL check\n     */\n    visual(variant: 'drawing' | 'visible' | 'always'): void {\n      switch (variant) {\n        case 'drawing': this.writeLn('if (S.visible || S.isPenDown) VISUAL = true;'); break;\n        case 'visible': this.writeLn('if (S.visible) VISUAL = true;'); break;\n        case 'always': this.writeLn('VISUAL = true;'); break;\n        default: assertNever(variant);\n      }\n    }\n\n    /**\n     * Update the speech bubble, if any.\n     */\n    updateBubble() {\n      this.writeLn('if (S.saying) S.updateBubble()');\n    }\n\n    /**\n     * Writes JS to pause the script for a known duration of time.\n     */\n    wait(seconds: string) {\n      this.writeLn('save();');\n      this.writeLn('R.start = runtime.now();');\n      this.writeLn(`R.duration = ${seconds}`);\n      this.writeLn('var first = true;');\n      const label = this.addLabel();\n      this.writeLn('if (runtime.now() - R.start < R.duration * 1000 || first) {');\n      this.writeLn('  var first;');\n      this.forceQueue(label);\n      this.writeLn('}');\n      this.writeLn('restore();');\n    }\n\n    /**\n     * Append to the content\n     */\n    write(content: string): void {\n      this.content += content;\n    }\n\n    /**\n     * Append to the content, followed by a newline.\n     */\n    writeLn(content: string): void {\n      this.content += content + '\\n';\n    }\n  }\n\n  /**\n   * General input generation utilities.\n   */\n  export class InputUtil extends BlockUtil {\n    numberInput(v: string) { return numberInput(v); }\n    stringInput(v: string) { return stringInput(v); }\n    booleanInput(v: string) { return booleanInput(v); }\n    anyInput(v: string) { return anyInput(v); }\n  }\n\n  /**\n   * General hat handling utilities.\n   */\n  export class HatUtil extends BlockUtil {\n    constructor(compiler: Compiler, block: SB3Block, public startingFunction: Fn) {\n      super(compiler, block);\n    }\n  }\n\n  /**\n   * A value that can be watched by a variable watcher.\n   */\n  export interface WatchedValue {\n    /**\n     * Initializes the watcher.\n     */\n    init?(watcher: P.sb3.Scratch3VariableWatcher): void;\n    /**\n     * Sets the value of the watcher to a new number.\n     */\n    set?(watcher: P.sb3.Scratch3VariableWatcher, value: number): void;\n    /**\n     * Evaluates the current value of the watcher. Called every visible frame.\n     */\n    evaluate(watcher: P.sb3.Scratch3VariableWatcher): any;\n    /**\n     * Determines the label to display in the watcher. Called once during initialization (after init)\n     */\n    getLabel(watcher: P.sb3.Scratch3VariableWatcher): string;\n  }\n\n  interface CompilerState {\n    isWarp: boolean;\n  }\n\n  // Block definitions\n  export const statementLibrary: ObjectMap<StatementCompiler> = Object.create(null);\n  export const inputLibrary: ObjectMap<InputCompiler> = Object.create(null);\n  export const hatLibrary: ObjectMap<HatCompiler> = Object.create(null);\n  export const watcherLibrary: ObjectMap<WatchedValue> = Object.create(null);\n\n  /**\n   * The new compiler for Scratch 3 projects.\n   */\n  export class Compiler {\n    /**\n     * The Stage or Sprite to compile.\n     */\n    public target: Target;\n    /**\n     * The raw .sb3 data for this target.\n     */\n    public data: SB3Target;\n    /**\n     * The blocks of this target.\n     */\n    public blocks: ObjectMap<SB3Block>;\n    /**\n     * Total number of labels created by this compiler.\n     */\n    public labelCount: number = 0;\n    public state: CompilerState;\n\n    constructor(target: Target) {\n      this.target = target;\n      this.data = target.sb3data;\n      this.blocks = this.data.blocks;\n    }\n\n    /**\n     * Gets the IDs of all hat blocks.\n     */\n    getHatBlocks(): string[] {\n      return Object.keys(this.blocks)\n        .filter((i) => this.blocks[i].topLevel);\n    }\n\n    /**\n     * Get the compiler for a statement\n     */\n    getStatementCompiler(opcode: string): StatementCompiler | null {\n      if (statementLibrary[opcode]) {\n        return statementLibrary[opcode];\n      }\n      return null;\n    }\n\n    /**\n     * Get the compiler for an input\n     */\n    getInputCompiler(opcode: string): InputCompiler | null {\n      if (inputLibrary[opcode]) {\n        return inputLibrary[opcode];\n      }\n      return null;\n    }\n\n    /**\n     * Get the compiler for a hat\n     */\n    getHatCompiler(opcode: string): HatCompiler | null {\n      if (hatLibrary[opcode]) {\n        return hatLibrary[opcode];\n      }\n      return null;\n    }\n\n    /**\n     * Gets the default value to use for a missing input.\n     */\n    getInputFallback(type: InputType): string {\n      switch (type) {\n        case 'number': return '0';\n        case 'boolean': return 'false';\n        case 'string': return '\"\"';\n        case 'any': return '\"\"';\n        case 'list': return '\"\"';\n      }\n      assertNever(type);\n    }\n\n    /**\n     * Applies type coercions to JS to forcibly change it's type.\n     */\n    asType(input: string, type: InputType): string {\n      switch (type) {\n        case 'string': return '(\"\" + ' + input + ')';\n        case 'number': return '(+' + input + ' || 0)';\n        case 'boolean': return 'bool(' + input + ')';\n        case 'any': return input;\n        case 'list': throw new Error(\"Converting to 'list' type is not something you're supposed to do\");\n      }\n      assertNever(type);\n    }\n\n    /**\n     * Converts a compiled input to another type, if necessary\n     */\n    convertInputType(input: CompiledInput, type: InputType): CompiledInput {\n      // If the types are already identical, no changes are necessary\n      if (input.type === type) {\n        return input;\n      }\n      // The 'any' type is a little bit special.\n      // When the input is of type 'list', we change the desired type to string to fix list stringification.\n      // In all other cases no action is necessary.\n      if (type === 'any') {\n        if (input.type === 'list') {\n          type = 'string';\n        } else {\n          return input;\n        }\n      }\n      return new CompiledInput(this.asType(input.source, type), type);\n    }\n\n    /**\n     * Sanitize a string into a CompiledInput\n     */\n    sanitizedInput(string: string): CompiledInput {\n      return stringInput(this.sanitizedString(string));\n    }\n\n    /**\n     * Sanitize a string for use in the runtime.\n     */\n    sanitizedString(string: string): string {\n      // Sometimes weird things happen and non-strings get passed around to here.\n      if (typeof string !== 'string') {\n        console.warn('sanitizedString got a non-string object', string);\n        string = string + '';\n      }\n      string = string\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(/'/g, '\\\\\\'')\n        .replace(/\"/g, '\\\\\"')\n        .replace(/\\n/g, '\\\\n')\n        .replace(/\\r/g, '\\\\r')\n        .replace(/\\{/g, '\\\\x7b')\n        .replace(/\\}/g, '\\\\x7d');\n      return `\"${string}\"`;\n    }\n\n    /**\n     * Creates a sanitized block comment with the given contents.\n     */\n    sanitizedComment(content: string): string {\n      // just disallow the content from ending the comment, and everything should be fine.\n      content = content\n        .replace(/\\*\\//g, '');\n      return `/* ${content} */`;\n    }\n\n    /**\n     * Determines the runtime object that owns a variable in the runtime.\n     * The variable may be created if it cannot be found.\n     */\n    getVariableScope(name: string): string {\n      if (name in this.target.stage.vars) {\n        return 'self';\n      } else if (name in this.target.vars) {\n        return 'S';\n      } else {\n        // Create missing variables in the sprite scope.\n        this.target.vars[name] = 0;\n        return 'S';\n      }\n    }\n\n    /**\n     * Determines the runtime object that owns a list in the runtime.\n     * The list may be created if it cannot be found.\n     */\n    getListScope(name: string): string {\n      if (name in this.target.stage.lists) {\n        return 'self';\n      } else if (name in this.target.lists) {\n        return 'S';\n      } else {\n        // Create missing lists in the sprite scope.\n        this.target.lists[name] = createList();\n        return 'S';\n      }\n    }\n\n    /**\n     * Gets the runtime reference to a variable.\n     */\n    getVariableReference(name: string): string {\n      return `${this.getVariableScope(name)}.vars[${this.sanitizedString(name)}]`;\n    }\n\n    /**\n     * Gets the runtime reference to a list.\n     */\n    getListReference(name: string): string {\n      return `${this.getListScope(name)}.lists[${this.sanitizedString(name)}]`;\n    }\n\n    /**\n     * Determine if a string literal could potentially become a number at runtime.\n     * May return false positives.\n     * @see CompiledInput\n     */\n    isStringLiteralPotentialNumber(text: string) {\n      return /\\d|true|false|Infinity/.test(text);\n    }\n\n    /**\n     * Compile a native or primitive value.\n     */\n    compileNativeInput(native: any[], desiredType: InputType): CompiledInput {\n      const type = native[0];\n      switch (type) {\n        // These all function as numbers. I believe they are only differentiated so the editor can be more helpful.\n        case NativeTypes.MATH_NUM:\n        case NativeTypes.POSITIVE_NUM:\n        case NativeTypes.WHOLE_NUM:\n        case NativeTypes.INTEGER_NUM:\n        case NativeTypes.ANGLE_NUM: {\n          // [type, value]\n          const number = +native[1];\n          if (isNaN(number) || desiredType === 'string') {\n            return this.sanitizedInput(native[1]);\n          } else {\n            // It's important that we use number.toString() instead of native[1] to avoid invalid syntax\n            // For example the input \"0123\" represents the number \"123\", but including \"0123\" in JS will throw SyntaxErrors.\n            return numberInput(number.toString());\n          }\n        }\n\n        case NativeTypes.TEXT: {\n          // [type, value]\n          const value = native[1];\n          // Do not attempt any conversions if the desired type is string or if the value does not appear to be number-like\n          if (desiredType !== 'string' && /\\d/.test(value)) {\n            const number = +value;\n            // If the stringification of the number is not the same as the original value, do not convert.\n            // This fixes issues where the stringification is used instead of the number itself.\n            // For example the number \"0123\" will end up \"123\" so reading the first letter of \"0123\" would return 1 instead of 0\n            if (number.toString() === value) {\n              if (!isNaN(number)) {\n                return numberInput(number.toString());\n              }\n            }\n          }\n          const input = this.sanitizedInput(native[1] + '');\n          input.potentialNumber = this.isStringLiteralPotentialNumber(native[1]);\n          return input;\n        }\n\n        case NativeTypes.VAR:\n          // [type, name, id]\n          return anyInput(this.getVariableReference(native[1]));\n\n        case NativeTypes.LIST:\n          // [type, name, id]\n          return new CompiledInput(this.getListReference(native[1]), 'list');\n\n        case NativeTypes.BROADCAST:\n          // [type, name, id]\n          return this.sanitizedInput(native[1]);\n\n        case NativeTypes.COLOR_PICKER: {\n          // [type, color]\n          // Color is a value like \"#abcdef\"\n          const color = native[1];\n          const hex = color.substr(1);\n          // Ensure that it is actually a hex number.\n          if (/^[0-9a-f]{6,8}$/.test(hex)) {\n            return numberInput('0x' + hex);\n          } else {\n            this.warn('expected hex color code but got', hex);\n            return numberInput('0x0');\n          }\n        }\n\n        default:\n          this.warn('unknown native', type, native);\n          return stringInput('\"\"');\n      }\n    }\n\n    /**\n     * Compile an input of a block, and do any necessary type coercions.\n     */\n    compileInput(parentBlock: SB3Block, inputName: string, type: InputType): CompiledInput {\n      // Handling when the block does not contain an input entry.\n      if (!parentBlock.inputs[inputName]) {\n        // This could be a sign of another issue, so log a warning.\n        this.warn('missing input', inputName);\n        return new CompiledInput(this.getInputFallback(type), type);\n      }\n\n      const input = parentBlock.inputs[inputName];\n\n      if (Array.isArray(input[1])) {\n        const native = input[1];\n        return this.convertInputType(this.compileNativeInput(native, type), type);\n      }\n\n      const inputBlockId = input[1];\n\n      // Handling null inputs where the input exists but is just empty.\n      // This is normal and happens very often.\n      if (!inputBlockId) {\n        return new CompiledInput(this.getInputFallback(type), type);\n      }\n\n      const inputBlock = this.blocks[inputBlockId];\n      const opcode = inputBlock.opcode;\n      const compiler = this.getInputCompiler(opcode);\n\n      // If we don't recognize this block, that's a problem.\n      if (!compiler) {\n        this.warn('unknown input', opcode, inputBlock);\n        return new CompiledInput(this.getInputFallback(type), type);\n      }\n\n      const util = new InputUtil(this, inputBlock);\n      let result = compiler(util);\n\n      if (P.config.debug) {\n        result.source = this.sanitizedComment(inputBlock.opcode) + result.source;\n      }\n\n      return this.convertInputType(result, type);\n    }\n\n    /**\n     * Get a field of a block.\n     */\n    getField(block: SB3Block, fieldName: string): string {\n      const value = block.fields[fieldName];\n      if (!value) {\n        // This could be a sign of another issue, so log a warning.\n        this.warn('missing field', fieldName);\n        return '';\n      }\n      return value[0];\n    }\n\n    /**\n     * Compile a script within a script.\n     */\n    compileSubstackInput(block: SB3Block, substackName: string): string {\n      // empty substacks are normal\n      if (!block.inputs[substackName]) {\n        return '';\n      }\n\n      const substack = block.inputs[substackName];\n      const type = substack[0];\n      const id = substack[1];\n\n      if (id === null) {\n        return '';\n      }\n\n      return this.compileStack(id);\n    }\n\n    /**\n     * Creates a fresh CompilerState\n     */\n    getNewState(): CompilerState {\n      return {\n        isWarp: false,\n      };\n    }\n\n    /**\n     * Compile an entire script from a starting block.\n     */\n    compileStack(startingBlock: string): string {\n      let script = '';\n      let block = this.blocks[startingBlock];\n\n      while (true) {\n        var opcode = block.opcode;\n        const compiler = this.getStatementCompiler(opcode);\n\n        if (P.config.debug) {\n          script += this.sanitizedComment(block.opcode);\n        }\n\n        if (compiler) {\n          const util = new StatementUtil(this, block);\n          compiler(util);\n          script += util.content;\n        } else {\n          script += '/* unknown statement */';\n          this.warn('unknown statement', opcode, block);\n        }\n\n        if (!block.next) {\n          break;\n        }\n        block = this.blocks[block.next];\n      }\n\n      return script;\n    }\n\n    /**\n     * Compile a hat block and its children.\n     * The hat handler will be used, and the scripts will be installed.\n     */\n    compileHat(hat: SB3Block): void {\n      const hatCompiler = this.getHatCompiler(hat.opcode);\n      if (!hatCompiler) {\n        // If a hat block is otherwise recognized as an input or statement, don't warn.\n        // Most projects have at least one of these \"dangling\" blocks.\n        if (!this.getInputCompiler(hat.opcode) && !this.getStatementCompiler(hat.opcode)) {\n          this.warn('unknown hat block', hat.opcode, hat);\n        }\n        return;\n      }\n\n      this.labelCount = this.target.fns.length;\n\n      const startingBlock = hat.next;\n      // Empty hats will be ignored\n      if (!startingBlock) {\n        return;\n      }\n\n      this.state = this.getNewState();\n\n      if (hatCompiler.precompile) {\n        hatCompiler.precompile(this, hat);\n      }\n\n      // There is always a label placed at the beginning of the script.\n      // If you're clever, you may be able to remove this at some point.\n      let script = `{{${this.labelCount++}}}`;\n      script += this.compileStack(startingBlock);\n\n      // If a block wants to do some changes to the script after script generation but before compilation, let it.\n      // TODO: should this happen after parseResult?\n      if (hatCompiler.postcompile) {\n        script = hatCompiler.postcompile(this, script, hat);\n      }\n\n      // Parse the script to search for labels, and remove the label metadata.\n      const parseResult = this.parseScript(script);\n      const parsedScript = parseResult.script;\n\n      const startFn = this.target.fns.length;\n      for (let label of Object.keys(parseResult.labels)) {\n        this.target.fns[label] = P.runtime.createContinuation(parsedScript.slice(parseResult.labels[label]));\n      }\n\n      const startingFn = this.target.fns[startFn];\n      const util = new HatUtil(this, hat, startingFn);\n      hatCompiler.handle(util);\n\n      if (P.config.debug) {\n        this.log(`[${this.target.name}] compiled sb3 script \"${hat.opcode}\"`, script, this.target);\n      }\n    }\n\n    /**\n     * Parse a generated script for label locations, and remove redundant data.\n     */\n    parseScript(script: string): { labels: ObjectMap<number>, script: string; } {\n      const labels = {};\n      let index = 0;\n      let accumulator = 0;\n\n      while (true) {\n        const labelStart = script.indexOf('{{', index);\n        if (labelStart === -1) {\n          break;\n        }\n        const labelEnd = script.indexOf('}}', index);\n        const id = script.substring(labelStart + 2, labelEnd);\n        const length = labelEnd + 2 - labelStart;\n        accumulator += length;\n\n        labels[id] = labelEnd + 2 - accumulator;\n\n        index = labelEnd + 2;\n      }\n\n      // We don't **actually* have to remove the {{0}} labels (its technically valid JS),\n      // but it's probably a good idea.\n      const fixedScript = script.replace(/{{\\d+}}/g, '');\n\n      return {\n        labels,\n        script: fixedScript,\n      };\n    }\n\n    /**\n     * Log a warning\n     */\n    warn(...args: any[]) {\n      args.unshift('[sb3 compiler]');\n      console.warn.apply(console, args);\n    }\n\n    /**\n     * Log info\n     */\n    log(...args: any[]) {\n      args.unshift('[sb3 compiler]');\n      console.log.apply(console, args);\n    }\n\n    /**\n     * Compiles the scripts of the target with the current data.\n     */\n    compile(): void {\n      const hats = this.getHatBlocks();\n\n      for (const hatId of hats) {\n        const hat = this.blocks[hatId];\n        this.compileHat(hat);\n      }\n    }\n  }\n}\n\n/**\n * Scratch 3 blocks.\n */\n(function() {\n  const statementLibrary = P.sb3.compiler.statementLibrary;\n  const inputLibrary = P.sb3.compiler.inputLibrary;\n  const hatLibrary = P.sb3.compiler.hatLibrary;\n  const watcherLibrary = P.sb3.compiler.watcherLibrary;\n\n  /* Statements */\n  statementLibrary['control_all_at_once'] = function(util) {\n    // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_control.js#L194-L199\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    util.write(SUBSTACK);\n  };\n  statementLibrary['control_clear_counter'] = function(util) {\n    util.writeLn('self.counter = 0;');\n  };\n  statementLibrary['control_create_clone_of'] = function(util) {\n    const CLONE_OPTION = util.getInput('CLONE_OPTION', 'any');\n    util.writeLn(`clone(${CLONE_OPTION});`);\n  };\n  statementLibrary['control_delete_this_clone'] = function(util) {\n    util.writeLn('if (S.isClone) {');\n    util.writeLn('  S.remove();');\n    util.writeLn('  var i = self.children.indexOf(S);');\n    util.writeLn('  if (i !== -1) self.children.splice(i, 1);');\n    util.writeLn('  for (var i = 0; i < runtime.queue.length; i++) {');\n    util.writeLn('    if (runtime.queue[i] && runtime.queue[i].sprite === S) {');\n    util.writeLn('      runtime.queue[i] = undefined;');\n    util.writeLn('    }');\n    util.writeLn('  }');\n    util.writeLn('  return;');\n    util.writeLn('}');\n  };\n  statementLibrary['control_forever'] = function(util) {\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn('while (true) {');\n      util.write(SUBSTACK);\n      util.writeLn('}');\n    } else {\n      const label = util.addLabel();\n      util.write(SUBSTACK);\n      util.queue(label);\n    }\n  };\n  statementLibrary['control_if'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'any');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    util.writeLn(`if (${CONDITION}) {`);\n    util.write(SUBSTACK);\n    util.writeLn('}');\n  };\n  statementLibrary['control_if_else'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'any');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    const SUBSTACK2 = util.getSubstack('SUBSTACK2');\n    util.writeLn(`if (${CONDITION}) {`);\n    util.write(SUBSTACK);\n    util.writeLn('} else {');\n    util.write(SUBSTACK2);\n    util.writeLn('}');\n  };\n  statementLibrary['control_incr_counter'] = function(util) {\n    util.writeLn('self.counter++;');\n  };\n  statementLibrary['control_repeat'] = function(util) {\n    const TIMES = util.getInput('TIMES', 'any');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn('save();');\n      util.writeLn(`R.count = ${TIMES};`);\n      util.writeLn('while (R.count >= 0.5) {');\n      util.writeLn('  R.count -= 1;');\n      util.write(SUBSTACK);\n      util.writeLn('}');\n      util.writeLn('restore();');\n    } else {\n      util.writeLn('save();');\n      util.writeLn(`R.count = ${TIMES};`);\n      const label = util.addLabel();\n      util.writeLn('if (R.count >= 0.5) {');\n      util.writeLn('  R.count -= 1;');\n      util.write(SUBSTACK);\n      util.queue(label);\n      util.writeLn('} else {');\n      util.writeLn('  restore();');\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['control_repeat_until'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn(`while (!${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.writeLn('}');\n    } else {\n      const label = util.addLabel();\n      util.writeLn(`if (!${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.queue(label);\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['control_stop'] = function(util) {\n    const STOP_OPTION = util.getField('STOP_OPTION');\n    switch (STOP_OPTION) {\n      case 'all':\n        util.writeLn('runtime.stopAll(); return;');\n        break;\n      case 'this script':\n        util.writeLn('endCall(); return;');\n        break;\n      case 'other scripts in sprite':\n      case 'other scripts in stage':\n        util.writeLn('S.stopSoundsExcept(BASE);');\n        util.writeLn('for (var i = 0; i < runtime.queue.length; i++) {');\n        util.writeLn('  if (i !== THREAD && runtime.queue[i] && runtime.queue[i].sprite === S) {');\n        util.writeLn('    runtime.queue[i] = undefined;');\n        util.writeLn('  }');\n        util.writeLn('}');\n        break;\n    }\n  };\n  statementLibrary['control_wait'] = function(util) {\n    const DURATION = util.getInput('DURATION', 'any');\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${DURATION};`);\n    util.writeLn(`var first = true;`);\n    const label = util.addLabel();\n    util.writeLn('if (runtime.now() - R.start < R.duration * 1000 || first) {');\n    util.writeLn('  var first;');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['control_wait_until'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const label = util.addLabel();\n    util.writeLn(`if (!${CONDITION}) {`);\n    util.forceQueue(label);\n    util.writeLn('}');\n  };\n  statementLibrary['control_while'] = function(util) {\n    const CONDITION = util.getInput('CONDITION', 'boolean');\n    const SUBSTACK = util.getSubstack('SUBSTACK');\n    if (util.compiler.state.isWarp && !util.substacksQueue) {\n      util.writeLn(`while (${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.writeLn('}');\n    } else {\n      const label = util.addLabel();\n      util.writeLn(`if (${CONDITION}) {`);\n      util.write(SUBSTACK);\n      util.queue(label);\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['data_addtolist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    util.writeLn(`watchedAppendToList(${LIST}, ${ITEM});`);\n  };\n  statementLibrary['data_changevariableby'] = function(util) {\n    const VARIABLE = util.getVariableReference('VARIABLE');\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`${VARIABLE} = (${util.asType(VARIABLE, 'number')} + ${VALUE});`);\n  };\n  statementLibrary['data_deletealloflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    util.writeLn(`${LIST}.length = 0;`);\n  };\n  statementLibrary['data_deleteoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const INDEX = util.getInput('INDEX', 'any');\n    util.writeLn(`watchedDeleteLineOfList(${LIST}, ${INDEX});`);\n  };\n  statementLibrary['data_hidelist'] = function(util) {\n    const LIST = util.sanitizedString(util.getField('LIST'));\n    const scope = util.getListScope('LIST');\n    util.writeLn(`${scope}.showList(${LIST}, false);`);\n  };\n  statementLibrary['data_hidevariable'] = function(util) {\n    const VARIABLE = util.sanitizedString(util.getField('VARIABLE'));\n    const scope = util.getVariableScope('VARIABLE');\n    util.writeLn(`${scope}.showVariable(${VARIABLE}, false);`);\n  };\n  statementLibrary['data_insertatlist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const INDEX = util.getInput('INDEX', 'any');\n    const ITEM = util.getInput('ITEM', 'any');\n    util.writeLn(`watchedInsertInList(${LIST}, ${INDEX}, ${ITEM});`);\n  };\n  statementLibrary['data_replaceitemoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    const INDEX = util.getInput('INDEX', 'any');\n    util.writeLn(`watchedSetLineOfList(${LIST}, ${INDEX}, ${ITEM});`);\n  };\n  statementLibrary['data_setvariableto'] = function(util) {\n    const VARIABLE = util.getVariableReference('VARIABLE');\n    const VALUE = util.getInput('VALUE', 'any');\n    util.writeLn(`${VARIABLE} = ${VALUE};`);\n  };\n  statementLibrary['data_showlist'] = function(util) {\n    const LIST = util.sanitizedString(util.getField('LIST'));\n    const scope = util.getListScope('LIST');\n    util.writeLn(`${scope}.showList(${LIST}, true);`);\n  };\n  statementLibrary['data_showvariable'] = function(util) {\n    const VARIABLE = util.sanitizedString(util.getField('VARIABLE'));\n    const scope = util.getVariableScope('VARIABLE');\n    util.writeLn(`${scope}.showVariable(${VARIABLE}, true);`);\n  };\n  statementLibrary['motion_turnright'] = function(util) {\n    const DEGREES = util.getInput('DEGREES', 'number');\n    util.writeLn(`S.setDirection(S.direction + ${DEGREES});`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_changeeffectby'] = function(util) {\n    const EFFECT = util.sanitizedString(util.getField('EFFECT')).toLowerCase();\n    const CHANGE = util.getInput('CHANGE', 'number');\n    util.writeLn(`S.changeFilter(${EFFECT}, ${CHANGE});`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_changesizeby'] = function(util) {\n    const CHANGE = util.getInput('CHANGE', 'any');\n    util.writeLn(`var f = S.scale + ${CHANGE} / 100;`);\n    util.writeLn('S.scale = f < 0 ? 0 : f;');\n    util.visual('visible');\n  };\n  statementLibrary['looks_cleargraphiceffects'] = function(util) {\n    util.writeLn('S.resetFilters();');\n    util.visual('visible');\n  };\n  statementLibrary['looks_goforwardbackwardlayers'] = function(util) {\n    const FORWARD_BACKWARD = util.getField('FORWARD_BACKWARD');\n    const NUM = util.getInput('NUM', 'number');\n    util.writeLn('var i = self.children.indexOf(S);');\n    util.writeLn('if (i !== -1) {');\n    util.writeLn('  self.children.splice(i, 1);');\n    if (FORWARD_BACKWARD === 'forward') {\n      util.writeLn(`  self.children.splice(Math.min(self.children.length - 1, i + ${NUM}), 0, S);`);\n    } else {\n      util.writeLn(`  self.children.splice(Math.max(0, i - ${NUM}), 0, S);`);\n    }\n    util.writeLn('}');\n  };\n  statementLibrary['looks_gotofrontback'] = function(util) {\n    const FRONT_BACK = util.getField('FRONT_BACK');\n    util.writeLn('var i = self.children.indexOf(S);');\n    util.writeLn('if (i !== -1) self.children.splice(i, 1);');\n    if (FRONT_BACK === 'front') {\n      util.writeLn('self.children.push(S);');\n    } else {\n      util.writeLn('self.children.unshift(S);');\n    }\n  };\n  statementLibrary['looks_hide'] = function(util) {\n    util.visual('visible');\n    util.writeLn('S.visible = false;');\n    util.updateBubble();\n  };\n  statementLibrary['looks_nextbackdrop'] = function(util) {\n    util.writeLn('self.showNextCostume();');\n    util.visual('always');\n    util.writeLn('var threads = backdropChange();');\n    util.writeLn('if (threads.indexOf(BASE) !== -1) {return;}');\n  };\n  statementLibrary['looks_nextcostume'] = function(util) {\n    util.writeLn('S.showNextCostume();');\n    util.visual('visible');\n  };\n  statementLibrary['looks_say'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    util.writeLn(`S.say(${MESSAGE}, false);`);\n  };\n  statementLibrary['looks_sayforsecs'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    const SECS = util.getInput('SECS', 'number');\n    util.writeLn('save();');\n    util.writeLn(`R.id = S.say(${MESSAGE}, false);`);\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    const label = util.addLabel();\n    util.writeLn('if (runtime.now() - R.start < R.duration * 1000) {');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('if (S.sayId === R.id) {');\n    util.writeLn('  S.say(\"\");');\n    util.writeLn('}');\n    util.writeLn('restore();');\n    util.visual('visible');\n  };\n  statementLibrary['looks_seteffectto'] = function(util) {\n    const EFFECT = util.sanitizedString(util.getField('EFFECT')).toLowerCase();\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.setFilter(${EFFECT}, ${VALUE});`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_setsizeto'] = function(util) {\n    const SIZE = util.getInput('SIZE', 'number');\n    util.writeLn(`S.scale = Math.max(0, ${SIZE} / 100);`)\n    util.visual('visible');\n  };\n  statementLibrary['looks_show'] = function(util) {\n    util.writeLn('S.visible = true;');\n    util.visual('always');\n    util.updateBubble();\n  };\n  statementLibrary['looks_switchbackdropto'] = function(util) {\n    const BACKDROP = util.getInput('BACKDROP', 'any');\n    util.writeLn(`self.setCostume(${BACKDROP});`);\n    util.visual('always');\n    util.writeLn('var threads = backdropChange();');\n    util.writeLn('if (threads.indexOf(BASE) !== -1) {return;}');\n  };\n  statementLibrary['looks_switchcostumeto'] = function(util) {\n    const COSTUME = util.getInput('COSTUME', 'any');\n    util.writeLn(`S.setCostume(${COSTUME});`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_think'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    util.writeLn(`S.say(${MESSAGE}, true);`);\n    util.visual('visible');\n  };\n  statementLibrary['looks_thinkforsecs'] = function(util) {\n    const MESSAGE = util.getInput('MESSAGE', 'any');\n    const SECS = util.getInput('SECS', 'number');\n    util.writeLn('save();');\n    util.writeLn(`R.id = S.say(${MESSAGE}, true);`);\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    const label = util.addLabel();\n    util.writeLn('if (runtime.now() - R.start < R.duration * 1000) {');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('if (S.sayId === R.id) {');\n    util.writeLn('  S.say(\"\");');\n    util.writeLn('}');\n    util.writeLn('restore();');\n    util.visual('visible');\n  };\n  statementLibrary['motion_changexby'] = function(util) {\n    const DX = util.getInput('DX', 'number');\n    util.writeLn(`S.moveTo(S.scratchX + ${DX}, S.scratchY);`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_changeyby'] = function(util) {\n    const DY = util.getInput('DY', 'number');\n    util.writeLn(`S.moveTo(S.scratchX, S.scratchY + ${DY});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_glidesecstoxy'] = function(util) {\n    const SECS = util.getInput('SECS', 'any');\n    const X = util.getInput('X', 'any');\n    const Y = util.getInput('Y', 'any');\n    util.visual('drawing');\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    util.writeLn('R.baseX = S.scratchX;');\n    util.writeLn('R.baseY = S.scratchY;');\n    util.writeLn(`R.deltaX = ${X} - S.scratchX;`);\n    util.writeLn(`R.deltaY = ${Y} - S.scratchY;`);\n    const label = util.addLabel();\n    util.writeLn('var f = (runtime.now() - R.start) / (R.duration * 1000);');\n    util.writeLn('if (f > 1) f = 1;');\n    util.writeLn('S.moveTo(R.baseX + f * R.deltaX, R.baseY + f * R.deltaY);');\n    util.writeLn('if (f < 1) {');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['motion_glideto'] = function(util) {\n    const SECS = util.getInput('SECS', 'any');\n    const TO = util.getInput('TO', 'any');\n    util.visual('drawing');\n    util.writeLn('save();');\n    util.writeLn('R.start = runtime.now();');\n    util.writeLn(`R.duration = ${SECS};`);\n    util.writeLn('R.baseX = S.scratchX;');\n    util.writeLn('R.baseY = S.scratchY;');\n    util.writeLn(`var to = self.getPosition(${TO});`);\n    util.writeLn('if (to) {');\n    util.writeLn('  R.deltaX = to.x - S.scratchX;');\n    util.writeLn('  R.deltaY = to.y - S.scratchY;');\n    const label = util.addLabel();\n    util.writeLn('  var f = (runtime.now() - R.start) / (R.duration * 1000);');\n    util.writeLn('  if (f > 1 || isNaN(f)) f = 1;');\n    util.writeLn('  S.moveTo(R.baseX + f * R.deltaX, R.baseY + f * R.deltaY);');\n    util.writeLn('  if (f < 1) {');\n    util.forceQueue(label);\n    util.writeLn('  }');\n    util.writeLn('  restore();');\n    util.writeLn('}');\n  };\n  statementLibrary['motion_goto'] = function(util) {\n    const TO = util.getInput('TO', 'any');\n    util.writeLn(`S.gotoObject(${TO});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_gotoxy'] = function(util) {\n    const X = util.getInput('X', 'number');\n    const Y = util.getInput('Y', 'number');\n    util.writeLn(`S.moveTo(${X}, ${Y});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_ifonedgebounce'] = function(util) {\n    // TODO: set visual if bounced\n    util.writeLn('S.bounceOffEdge();');\n  };\n  statementLibrary['motion_movesteps'] = function(util) {\n    const STEPS = util.getInput('STEPS', 'number');\n    util.writeLn(`S.forward(${STEPS});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_pointindirection'] = function(util) {\n    const DIRECTION = util.getInput('DIRECTION', 'number');\n    util.visual('visible');\n    util.writeLn(`S.setDirection(${DIRECTION});`);\n  };\n  statementLibrary['motion_pointtowards'] = function(util) {\n    const TOWARDS = util.getInput('TOWARDS', 'any');\n    util.writeLn(`S.pointTowards(${TOWARDS});`);\n    util.visual('visible');\n  };\n  statementLibrary['motion_setrotationstyle'] = function(util) {\n    const STYLE = P.utils.parseRotationStyle(util.getField('STYLE'));\n    util.writeLn(`S.rotationStyle = ${STYLE};`);\n    util.visual('visible');\n  };\n  statementLibrary['motion_setx'] = function(util) {\n    const X = util.getInput('X', 'number');\n    util.writeLn(`S.moveTo(${X}, S.scratchY);`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_sety'] = function(util) {\n    const Y = util.getInput('Y', 'number');\n    util.writeLn(`S.moveTo(S.scratchX, ${Y});`);\n    util.visual('drawing');\n  };\n  statementLibrary['motion_turnleft'] = function(util) {\n    const DEGREES = util.getInput('DEGREES', 'number');\n    util.writeLn(`S.setDirection(S.direction - ${DEGREES});`);\n    util.visual('visible');\n  };\n  statementLibrary['music_changeTempo'] = function(util) {\n    const TEMPO = util.getInput('TEMPO', 'number');\n    util.writeLn(`self.tempoBPM += ${TEMPO};`)\n  };\n  statementLibrary['music_setTempo'] = function(util) {\n    const TEMPO = util.getInput('TEMPO', 'number');\n    util.writeLn(`self.tempoBPM = ${TEMPO};`)\n  };\n  statementLibrary['sound_changevolumeby'] = function(util) {\n    const VOLUME = util.getInput('VOLUME', 'number');\n    util.writeLn(`S.volume = Math.max(0, Math.min(1, S.volume + ${VOLUME} / 100));`);\n    util.writeLn('if (S.node) S.node.gain.value = S.volume;');\n  };\n  statementLibrary['sound_play'] = function(util) {\n    const SOUND_MENU = util.getInput('SOUND_MENU', 'any');\n    if (P.audio.context) {\n      util.writeLn(`var sound = S.getSound(${SOUND_MENU});`);\n      util.writeLn('if (sound) startSound(sound);');\n    }\n  };\n  statementLibrary['sound_playuntildone'] = function(util) {\n    const SOUND_MENU = util.getInput('SOUND_MENU', 'any');\n    if (P.audio.context) {\n      util.writeLn(`var sound = S.getSound(${SOUND_MENU});`);\n      util.writeLn('if (sound) {');\n      util.writeLn('  save();');\n      util.writeLn('  R.sound = playSound(sound);');\n      util.writeLn('  S.activeSounds.add(R.sound);')\n      util.writeLn('  R.start = runtime.now();');\n      util.writeLn('  R.duration = sound.duration;');\n      util.writeLn('  var first = true;');\n      const label = util.addLabel();\n      util.writeLn('  if ((runtime.now() - R.start < R.duration * 1000 || first) && !R.sound.stopped) {');\n      util.writeLn('    var first;');\n      util.forceQueue(label);\n      util.writeLn('  }');\n      util.writeLn('  S.activeSounds.delete(R.sound);');\n      util.writeLn('  restore();');\n      util.writeLn('}');\n    }\n  };\n  statementLibrary['sound_setvolumeto'] = function(util) {\n    const VOLUME = util.getInput('VOLUME', 'number');\n    util.writeLn(`S.volume = Math.max(0, Math.min(1, ${VOLUME} / 100));`);\n    util.writeLn('if (S.node) S.node.gain.value = S.volume;');\n  };\n  statementLibrary['sound_stopallsounds'] = function(util) {\n    if (P.audio.context) {\n      util.writeLn('self.stopAllSounds();');\n    }\n  };\n  statementLibrary['event_broadcast'] = function(util) {\n    const BROADCAST_INPUT = util.getInput('BROADCAST_INPUT', 'any');\n    util.writeLn(`var threads = broadcast(${BROADCAST_INPUT});`);\n    util.writeLn('if (threads.indexOf(BASE) !== -1) {return;}');\n  };\n  statementLibrary['event_broadcastandwait'] = function(util) {\n    const BROADCAST_INPUT = util.getInput('BROADCAST_INPUT', 'any');\n    util.writeLn('save();');\n    util.writeLn(`R.threads = broadcast(${BROADCAST_INPUT});`);\n    util.writeLn('if (R.threads.indexOf(BASE) !== -1) {return;}');\n    const label = util.addLabel();\n    util.writeLn('if (running(R.threads)) {');\n    util.forceQueue(label);\n    util.writeLn('}');\n    util.writeLn('restore();');\n  };\n  statementLibrary['pen_changePenColorParamBy'] = function(util) {\n    const COLOR_PARAM = util.getInput('COLOR_PARAM', 'string');\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.changePenColorParam(${COLOR_PARAM}, ${VALUE});`);\n  };\n  statementLibrary['pen_changePenHueBy'] = function(util) {\n    // This is an old pen hue block, which functions differently from the new one.\n    const HUE = util.getInput('HUE', 'number');\n    util.writeLn('S.setPenColorHSL();');\n    util.writeLn(`S.penHue += ${HUE} * 360 / 200;`);\n    util.writeLn('S.penSaturation = 100;');\n  };\n  statementLibrary['pen_changePenShadeBy'] = function(util) {\n    const SHADE = util.getInput('SHADE', 'number');\n    util.writeLn('S.setPenColorHSL();');\n    util.writeLn(`S.penLightness = (S.penLightness + ${SHADE}) % 200;`);\n    util.writeLn('if (S.penLightness < 0) S.penLightness += 200;');\n    util.writeLn('S.saturation = 100;');\n  };\n  statementLibrary['pen_changePenSizeBy'] = function(util) {\n    const SIZE = util.getInput('SIZE', 'number');\n    util.writeLn(`S.penSize = Math.max(1, S.penSize + ${SIZE});`);\n  };\n  statementLibrary['pen_clear'] = function(util) {\n    util.writeLn('self.clearPen();');\n    util.visual('always');\n  };\n  statementLibrary['pen_penDown'] = function(util) {\n    util.writeLn('S.isPenDown = true;');\n    util.writeLn('S.dotPen();');\n    util.visual('always');\n  };\n  statementLibrary['pen_penUp'] = function(util) {\n    // TODO: determine visual variant\n    // definitely not 'always' or 'visible', might be a 'if (S.isPenDown)'\n    util.writeLn('S.isPenDown = false;');\n  };\n  statementLibrary['pen_setPenColorParamTo'] = function(util) {\n    const COLOR_PARAM = util.getInput('COLOR_PARAM', 'string');\n    const VALUE = util.getInput('VALUE', 'number');\n    util.writeLn(`S.setPenColorParam(${COLOR_PARAM}, ${VALUE});`);\n  };\n  statementLibrary['pen_setPenColorToColor'] = function(util) {\n    const COLOR = util.getInput('COLOR', 'any');\n    util.writeLn(`S.setPenColor(${COLOR});`);\n  };\n  statementLibrary['pen_setPenHueToNumber'] = function(util) {\n    // This is an old pen hue block, which functions differently from the new one.\n    const HUE = util.getInput('HUE', 'number');\n    util.writeLn('S.setPenColorHSL();');\n    util.writeLn(`S.penHue = ${HUE} * 360 / 200;`);\n    util.writeLn('S.penSaturation = 100;');\n  };\n  statementLibrary['pen_setPenShadeToNumber'] = function(util) {\n    const SHADE = util.getInput('SHADE', 'number');\n    util.writeLn('S.setPenColorHSL();');\n    util.writeLn(`S.penLightness = ${SHADE} % 200;`);\n    util.writeLn('if (S.penLightness < 0) S.penLightness += 200;');\n    util.writeLn('S.saturation = 100;');\n  };\n  statementLibrary['pen_setPenSizeTo'] = function(util) {\n    const SIZE = util.getInput('SIZE', 'number');\n    util.writeLn(`S.penSize = Math.max(1, ${SIZE});`);\n  };\n  statementLibrary['pen_stamp'] = function(util) {\n    util.writeLn('S.stamp();');\n    util.visual('always');\n  };\n  statementLibrary['procedures_call'] = function(util) {\n    const mutation = util.block.mutation;\n    const name = mutation.proccode;\n\n    if (P.config.debug && name === 'forkphorus:debugger;') {\n      util.writeLn('/* forkphorus debugger */ debugger;');\n      return;\n    }\n\n    const label = util.claimNextLabel();\n    util.write(`call(S.procedures[${util.sanitizedString(name)}], ${label}, [`);\n\n    // The mutation has a stringified JSON list of input IDs... it's weird.\n    const inputNames = JSON.parse(mutation.argumentids);\n    for (const inputName of inputNames) {\n      util.write(`${util.getInput(inputName, 'any')}, `);\n    }\n\n    util.writeLn(']); return;');\n    util.addLabel(label);\n  };\n  statementLibrary['sensing_askandwait'] = function(util) {\n    const QUESTION = util.getInput('QUESTION', 'string');\n\n    util.writeLn('R.id = self.nextPromptId++;');\n    const label1 = util.addLabel();\n    util.writeLn('if (self.promptId < R.id) {');\n    util.forceQueue(label1);\n    util.writeLn('}');\n\n    util.writeLn(`S.ask(${QUESTION});`);\n    const label2 = util.addLabel();\n    util.writeLn('if (self.promptId === R.id) {')\n    util.forceQueue(label2);\n    util.writeLn('}');\n    util.writeLn('S.say(\"\");');\n\n    util.visual('always');\n  };\n  statementLibrary['sensing_resettimer'] = function(util) {\n    util.writeLn('runtime.timerStart = runtime.now();');\n  };\n  statementLibrary['sensing_setdragmode'] = function(util) {\n    const DRAG_MODE = util.getField('DRAG_MODE');\n    if (DRAG_MODE === 'draggable') {\n      util.writeLn('S.isDraggable = true;');\n    } else {\n      util.writeLn('S.isDraggable = false;');\n    }\n  };\n  statementLibrary['speech2text_listenAndWait'] = function(util) {\n    util.stage.initSpeech2Text();\n    util.writeLn('if (self.speech2text) {');\n    util.writeLn('  save();');\n    util.writeLn('  self.speech2text.startListen();');\n    util.writeLn('  R.id = self.speech2text.id();');\n    const label = util.addLabel();\n    util.writeLn('  if (self.speech2text.id() === R.id) {')\n    util.forceQueue(label);\n    util.writeLn('  }');\n    util.writeLn('  self.speech2text.endListen();');\n    util.writeLn('  restore();');\n    util.writeLn('}');\n  };\n  statementLibrary['videoSensing_videoToggle'] = function(util) {\n    const VIDEO_STATE = util.getInput('VIDEO_STATE', 'string');\n    util.writeLn(`switch (${VIDEO_STATE}) {`);\n    util.writeLn('  case \"off\": self.showVideo(false); break;');\n    util.writeLn('  case \"on\": self.showVideo(true); break;');\n    util.writeLn('}');\n  };\n\n  // Legacy no-ops\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_motion.js#L19\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_looks.js#L248\n  const noopStatement = (util: P.sb3.compiler.StatementUtil) => util.writeLn('/* noop */');\n  statementLibrary['motion_align_scene'] = noopStatement;\n  statementLibrary['motion_scroll_right'] = noopStatement;\n  statementLibrary['motion_scroll_up'] = noopStatement;\n  statementLibrary['looks_changestretchby'] = noopStatement;\n  statementLibrary['looks_hideallsprites'] = noopStatement;\n  statementLibrary['looks_setstretchto'] = noopStatement;\n\n  /* Inputs */\n  inputLibrary['argument_reporter_boolean'] = function(util) {\n    const VALUE = util.sanitizedString(util.getField('VALUE'));\n    return util.booleanInput(util.asType(`C.args[${VALUE}]`, 'boolean'));\n  };\n  inputLibrary['argument_reporter_string_number'] = function(util) {\n    const VALUE = util.sanitizedString(util.getField('VALUE'));\n    return util.anyInput(`C.args[${VALUE}]`);\n  };\n  inputLibrary['control_create_clone_of_menu'] = function(util) {\n    return util.fieldInput('CLONE_OPTION');\n  };\n  inputLibrary['control_get_counter'] = function(util) {\n    return util.numberInput('self.counter');\n  };\n  inputLibrary['data_itemoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const INDEX = util.getInput('INDEX', 'any');\n    return util.anyInput(`getLineOfList(${LIST}, ${INDEX})`);\n  };\n  inputLibrary['data_itemnumoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    return util.numberInput(`listIndexOf(${LIST}, ${ITEM})`);\n  };\n  inputLibrary['data_lengthoflist'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    return util.numberInput(`${LIST}.length`);\n  };\n  inputLibrary['data_listcontainsitem'] = function(util) {\n    const LIST = util.getListReference('LIST');\n    const ITEM = util.getInput('ITEM', 'any');\n    return util.booleanInput(`listContains(${LIST}, ${ITEM})`);\n  };\n  inputLibrary['looks_backdropnumbername'] = function(util) {\n    const NUMBER_NAME = util.getField('NUMBER_NAME');\n    if (NUMBER_NAME === 'number') {\n      return util.numberInput('(self.currentCostumeIndex + 1)');\n    } else {\n      return util.stringInput('self.costumes[self.currentCostumeIndex].name');\n    }\n  };\n  inputLibrary['looks_backdrops'] = function(util) {\n    return util.fieldInput('BACKDROP');\n  };\n  inputLibrary['looks_costume'] = function(util) {\n    return util.fieldInput('COSTUME');\n  };\n  inputLibrary['looks_costumenumbername'] = function(util) {\n    const NUMBER_NAME = util.getField('NUMBER_NAME');\n    if (NUMBER_NAME === 'number') {\n      return util.numberInput('(S.currentCostumeIndex + 1)');\n    } else {\n      return util.stringInput('S.costumes[S.currentCostumeIndex].name');\n    }\n  };\n  inputLibrary['looks_size'] = function(util) {\n    return util.numberInput('(S.scale * 100)');\n  };\n  inputLibrary['makeymakey_menu_KEY'] = function(util) {\n    return util.fieldInput('KEY');\n  };\n  inputLibrary['makeymakey_menu_SEQUENCE'] = function(util) {\n    return util.fieldInput('SEQUENCE');\n  };\n  inputLibrary['matrix'] = function(util) {\n    return util.fieldInput('MATRIX');\n  };\n  inputLibrary['motion_direction'] = function(util) {\n    return util.numberInput('S.direction');\n  };\n  inputLibrary['motion_glideto_menu'] = function(util) {\n    return util.fieldInput('TO');\n  };\n  inputLibrary['motion_goto_menu'] = function(util) {\n    return util.fieldInput('TO');\n  };\n  inputLibrary['motion_pointtowards_menu'] = function(util) {\n    return util.fieldInput('TOWARDS');\n  };\n  inputLibrary['motion_xposition'] = function(util) {\n    return util.numberInput('S.scratchX');\n  };\n  inputLibrary['motion_yposition'] = function(util) {\n    return util.numberInput('S.scratchY');\n  };\n  inputLibrary['music_getTempo'] = function(util) {\n    return util.numberInput('self.tempoBPM');\n  };\n  inputLibrary['operator_add'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    return util.numberInput(`(${NUM1} + ${NUM2} || 0)`);\n  };\n  inputLibrary['operator_and'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    return util.booleanInput(`(${OPERAND1} && ${OPERAND2})`);\n  };\n  inputLibrary['operator_contains'] = function(util) {\n    const STRING1 = util.getInput('STRING1', 'string');\n    const STRING2 = util.getInput('STRING2', 'string');\n    // TODO: case sensitivity?\n    // TODO: use indexOf?\n    return util.booleanInput(`${STRING1}.includes(${STRING2})`);\n  };\n  inputLibrary['operator_divide'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    return util.numberInput(`(${NUM1} / ${NUM2} || 0)`);\n  };\n  inputLibrary['operator_equals'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    // If we know at compile-time that either input cannot be a number, we will use the faster strEqual\n    if (!OPERAND1.potentialNumber || !OPERAND2.potentialNumber) {\n      return util.booleanInput(`strEqual(${OPERAND1}, ${OPERAND2})`);\n    }\n    if (P.config.experimentalOptimizations) {\n      // If we know at compile-time that an input is going to be a number, we will use the faster numEqual method.\n      // The first argument to numEqual must be a number, the other will be converted if necessary.\n      if (OPERAND1.type === 'number') {\n        return util.booleanInput(`numEqual(${OPERAND1}, ${OPERAND2})`);\n      }\n      if (OPERAND2.type === 'number') {\n        return util.booleanInput(`numEqual(${OPERAND2}, ${OPERAND1})`);\n      }\n    }\n    return util.booleanInput(`equal(${OPERAND1}, ${OPERAND2})`);\n  };\n  inputLibrary['operator_gt'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    // TODO: use numGreater?\n    return util.booleanInput(`(compare(${OPERAND1}, ${OPERAND2}) === 1)`);\n  };\n  inputLibrary['operator_join'] = function(util) {\n    const STRING1 = util.getInput('STRING1', 'string');\n    const STRING2 = util.getInput('STRING2', 'string');\n    return util.stringInput(`(${STRING1} + ${STRING2})`)\n  };\n  inputLibrary['operator_length'] = function(util) {\n    const STRING = util.getInput('STRING', 'string');\n    // TODO: parenthesis important?\n    return util.numberInput(`(${STRING}).length`);\n  };\n  inputLibrary['operator_letter_of'] = function(util) {\n    const STRING = util.getInput('STRING', 'string');\n    const LETTER = util.getInput('LETTER', 'number');\n    return util.stringInput(`((${STRING})[(${LETTER} | 0) - 1] || \"\")`);\n  };\n  inputLibrary['operator_lt'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    // TODO: use numLess?\n    return util.booleanInput(`(compare(${OPERAND1}, ${OPERAND2}) === -1)`);\n  };\n  inputLibrary['operator_mathop'] = function(util) {\n    const OPERATOR = util.getField('OPERATOR');\n    const NUM = util.getInput('NUM', 'number');\n\n    switch (OPERATOR) {\n      case 'abs':\n        return util.numberInput(`Math.abs(${NUM})`);\n      case 'floor':\n        return util.numberInput(`Math.floor(${NUM})`);\n      case 'sqrt':\n        return util.numberInput(`Math.sqrt(${NUM})`);\n      case 'ceiling':\n        return util.numberInput(`Math.ceil(${NUM})`);\n      case 'cos':\n        return util.numberInput(`Math.cos(${NUM} * Math.PI / 180)`);\n      case 'sin':\n        return util.numberInput(`Math.sin(${NUM} * Math.PI / 180)`);\n      case 'tan':\n        return util.numberInput(`Math.tan(${NUM} * Math.PI / 180)`);\n      case 'asin':\n        return util.numberInput(`(Math.asin(${NUM}) * 180 / Math.PI)`)\n      case 'acos':\n        return util.numberInput(`(Math.acos(${NUM}) * 180 / Math.PI)`)\n      case 'atan':\n        return util.numberInput(`(Math.atan(${NUM}) * 180 / Math.PI)`)\n      case 'ln':\n        return util.numberInput(`Math.log(${NUM})`);\n      case 'log':\n        return util.numberInput(`(Math.log(${NUM}) / Math.LN10)`);\n      case 'e ^':\n        return util.numberInput(`Math.exp(${NUM})`);\n      case '10 ^':\n        return util.numberInput(`Math.pow(10, ${NUM})`);\n      default:\n        return util.numberInput('0');\n    }\n  };\n  inputLibrary['operator_mod'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    return util.numberInput(`mod(${NUM1}, ${NUM2})`);\n  };\n  inputLibrary['operator_multiply'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    return util.numberInput(`(${NUM1} * ${NUM2} || 0)`);\n  };\n  inputLibrary['operator_not'] = function(util) {\n    const OPERAND = util.getInput('OPERAND', 'any');\n    return util.booleanInput(`!${OPERAND}`);\n  };\n  inputLibrary['operator_or'] = function(util) {\n    const OPERAND1 = util.getInput('OPERAND1', 'any');\n    const OPERAND2 = util.getInput('OPERAND2', 'any');\n    return util.booleanInput(`(${OPERAND1} || ${OPERAND2})`);\n  };\n  inputLibrary['operator_random'] = function(util) {\n    const FROM = util.getInput('FROM', 'string');\n    const TO = util.getInput('TO', 'string');\n    return util.numberInput(`random(${FROM}, ${TO})`);\n  };\n  inputLibrary['operator_round'] = function(util) {\n    const NUM = util.getInput('NUM', 'number');\n    return util.numberInput(`Math.round(${NUM})`);\n  };\n  inputLibrary['operator_subtract'] = function(util) {\n    const NUM1 = util.getInput('NUM1', 'number');\n    const NUM2 = util.getInput('NUM2', 'number');\n    return util.numberInput(`(${NUM1} - ${NUM2} || 0)`);\n  };\n  inputLibrary['pen_menu_colorParam'] = function(util) {\n    return util.fieldInput('colorParam');\n  };\n  inputLibrary['sensing_answer'] = function(util) {\n    return util.stringInput('self.answer');\n  };\n  inputLibrary['sensing_coloristouchingcolor'] = function(util) {\n    const COLOR = util.getInput('COLOR', 'any');\n    const COLOR2 = util.getInput('COLOR2', 'any');\n    return util.booleanInput(`S.colorTouchingColor(${COLOR}, ${COLOR2})`);\n  };\n  inputLibrary['sensing_current'] = function(util) {\n    const CURRENTMENU = util.getField('CURRENTMENU').toLowerCase();\n    switch (CURRENTMENU) {\n      case 'year': return util.numberInput('new Date().getFullYear()');\n      case 'month': return util.numberInput('(new Date().getMonth() + 1)');\n      case 'date': return util.numberInput('new Date().getDate()');\n      case 'dayofweek': return util.numberInput('(new Date().getDay() + 1)');\n      case 'hour': return util.numberInput('new Date().getHours()');\n      case 'minute': return util.numberInput('new Date().getMinutes()');\n      case 'second': return util.numberInput('new Date().getSeconds()');\n    }\n    return util.numberInput('0');\n  };\n  inputLibrary['sensing_dayssince2000'] = function(util) {\n    return util.numberInput('((Date.now() - epoch) / 86400000)');\n  };\n  inputLibrary['sensing_distanceto'] = function(util) {\n    const DISTANCETOMENU = util.getInput('DISTANCETOMENU', 'any');\n    return util.numberInput(`S.distanceTo(${DISTANCETOMENU})`);\n  };\n  inputLibrary['sensing_distancetomenu'] = function(util) {\n    return util.fieldInput('DISTANCETOMENU');\n  };\n  inputLibrary['sensing_keyoptions'] = function(util) {\n    return util.fieldInput('KEY_OPTION');\n  };\n  inputLibrary['sensing_keypressed'] = function(util) {\n    const KEY_OPTION = util.getInput('KEY_OPTION', 'any');\n    // note: sb2 compiler can optimize out getKeyCode calls, but sb3 compiler can't because KEY_OPTION might be dynamic\n    return util.booleanInput(`!!self.keys[P.runtime.getKeyCode(${KEY_OPTION})]`);\n  };\n  inputLibrary['sensing_loud'] = function(util) {\n    util.stage.initLoudness();\n    return util.booleanInput('(self.microphone.getLoudness() > 10)');\n  };\n  inputLibrary['sensing_loudness'] = function(util) {\n    util.stage.initLoudness();\n    return util.numberInput('self.microphone.getLoudness()');\n  };\n  inputLibrary['sensing_mousedown'] = function(util) {\n    return util.booleanInput('self.mousePressed');\n  };\n  inputLibrary['sensing_mousex'] = function(util) {\n    return util.numberInput('self.mouseX');\n  };\n  inputLibrary['sensing_mousey'] = function(util) {\n    return util.numberInput('self.mouseY');\n  };\n  inputLibrary['sensing_of'] = function(util) {\n    const PROPERTY = util.sanitizedString(util.getField('PROPERTY'));\n    const OBJECT = util.getInput('OBJECT', 'string');\n    return util.anyInput(`attribute(${PROPERTY}, ${OBJECT})`);\n  };\n  inputLibrary['sensing_of_object_menu'] = function(util) {\n    return util.fieldInput('OBJECT');\n  };\n  inputLibrary['sensing_timer'] = function(util) {\n    return util.numberInput('((runtime.now() - runtime.timerStart) / 1000)');\n  };\n  inputLibrary['sensing_touchingcolor'] = function(util) {\n    const COLOR = util.getInput('COLOR', 'any');\n    return util.booleanInput(`S.touchingColor(${COLOR})`);\n  };\n  inputLibrary['sensing_touchingobject'] = function(util) {\n    const TOUCHINGOBJECTMENU = util.getInput('TOUCHINGOBJECTMENU', 'string');\n    return util.booleanInput(`S.touching(${TOUCHINGOBJECTMENU})`);\n  };\n  inputLibrary['sensing_touchingobjectmenu'] = function(util) {\n    return util.fieldInput('TOUCHINGOBJECTMENU');\n  };\n  inputLibrary['sound_sounds_menu'] = function(util) {\n    return util.fieldInput('SOUND_MENU');\n  };\n  inputLibrary['sensing_username'] = function(util) {\n    return util.stringInput('self.username');\n  };\n  inputLibrary['sound_volume'] = function(util) {\n    return util.numberInput('(S.volume * 100)');\n  };\n  inputLibrary['speech2text_getSpeech'] = function(util) {\n    util.stage.initSpeech2Text();\n    return util.stringInput('(self.speech2text ? self.speech2text.speech : \"\")');\n  };\n  inputLibrary['videoSensing_menu_VIDEO_STATE'] = function(util) {\n    return util.fieldInput('VIDEO_STATE');\n  };\n\n  // Legacy no-ops\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_sensing.js#L74\n  // https://github.com/LLK/scratch-vm/blob/bb42c0019c60f5d1947f3432038aa036a0fddca6/src/blocks/scratch3_motion.js#L42-L43\n  const noopInput = (util: P.sb3.compiler.InputUtil) => util.anyInput('undefined');\n  inputLibrary['motion_yscroll'] = noopInput;\n  inputLibrary['motion_xscroll'] = noopInput;\n  inputLibrary['sensing_userid'] = noopInput;\n\n  /* Hats */\n  hatLibrary['control_start_as_clone'] = {\n    handle(util) {\n      util.target.listeners.whenCloned.push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenbackdropswitchesto'] = {\n    handle(util) {\n      const BACKDROP = util.getField('BACKDROP');\n      if (!util.target.listeners.whenBackdropChanges[BACKDROP]) {\n        util.target.listeners.whenBackdropChanges[BACKDROP] = [];\n      }\n      util.target.listeners.whenBackdropChanges[BACKDROP].push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenbroadcastreceived'] = {\n    handle(util) {\n      const BROADCAST_OPTION = util.getField('BROADCAST_OPTION').toLowerCase();\n      if (!util.target.listeners.whenIReceive[BROADCAST_OPTION]) {\n        util.target.listeners.whenIReceive[BROADCAST_OPTION] = [];\n      }\n      util.target.listeners.whenIReceive[BROADCAST_OPTION].push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenflagclicked'] = {\n    handle(util) {\n      util.target.listeners.whenGreenFlag.push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenkeypressed'] = {\n    handle(util) {\n      const KEY_OPTION = util.getField('KEY_OPTION');\n      if (KEY_OPTION === 'any') {\n        for (var i = 128; i--;) {\n          util.target.listeners.whenKeyPressed[i].push(util.startingFunction);\n        }\n      } else {\n        util.target.listeners.whenKeyPressed[P.runtime.getKeyCode(KEY_OPTION)].push(util.startingFunction);\n      }\n    },\n  };\n  hatLibrary['event_whenstageclicked'] = {\n    handle(util) {\n      util.target.listeners.whenClicked.push(util.startingFunction);\n    },\n  };\n  hatLibrary['event_whenthisspriteclicked'] = {\n    handle(util) {\n      util.target.listeners.whenClicked.push(util.startingFunction);\n    },\n  };\n  hatLibrary['makeymakey_whenMakeyKeyPressed'] = {\n    handle(util) {\n      const KEY = util.getInput('KEY', 'string');\n      try {\n        const value = P.runtime.scopedEval(KEY.source);\n        var keycode = P.runtime.getKeyCode(value);\n      } catch (e) {\n        util.compiler.warn('makeymakey key generation error', e);\n        return;\n      }\n      if (keycode === 'any') {\n        for (var i = 128; i--;) {\n          util.target.listeners.whenKeyPressed[i].push(util.startingFunction);\n        }\n      } else {\n        util.target.listeners.whenKeyPressed[keycode].push(util.startingFunction);\n      }\n    },\n  };\n  hatLibrary['makeymakey_whenCodePressed'] = {\n    handle(util) {\n      const SEQUENCE = util.getInput('SEQUENCE', 'string');\n      try {\n        var sequence = P.runtime.scopedEval(SEQUENCE.source);\n      } catch (e) {\n        util.compiler.warn('makeymakey sequence generation error', e);\n        return;\n      }\n      const ARROWS = ['up', 'down', 'left', 'right'];\n      const keys = sequence.toLowerCase().split(' ')\n        .map((key) => {\n          if (ARROWS.indexOf(key) > -1) {\n            return P.runtime.getKeyCode(key + ' arrow');\n          } else {\n            return P.runtime.getKeyCode(key);\n          }\n        });\n      const targetFunction = util.startingFunction;\n      let sequenceIndex = 0;\n      for (let key = 128; key--;) {\n        util.target.listeners.whenKeyPressed[key].push(function() {\n          const expectedKey = keys[sequenceIndex];\n          if (key !== expectedKey) {\n            sequenceIndex = 0;\n          } else {\n            sequenceIndex++;\n            if (sequenceIndex === keys.length) {\n              sequenceIndex = 0;\n              targetFunction();\n            }\n          }\n        });\n      }\n    },\n  };\n  hatLibrary['procedures_definition'] = {\n    handle(util) {\n      // TODO: HatUtil helpers for this\n\n      const customBlockId = util.block.inputs.custom_block[1];\n      const mutation = util.compiler.blocks[customBlockId].mutation;\n\n      const proccode = mutation.proccode;\n      // Warp is either a boolean or a string representation of that boolean for some reason.\n      const warp = typeof mutation.warp === 'string' ? mutation.warp === 'true' : mutation.warp;\n      // It's a stringified JSON array.\n      const argumentNames = JSON.parse(mutation.argumentnames);\n\n      const procedure = new P.sb3.Scratch3Procedure(util.startingFunction, warp, argumentNames);\n      util.target.procedures[proccode] = procedure;\n    },\n    postcompile(compiler, source, hat) {\n      return source + 'endCall(); return;\\n';\n    },\n    precompile(compiler, hat) {\n      const customBlockId = hat.inputs.custom_block[1];\n      const mutation = compiler.blocks[customBlockId].mutation;\n      const warp = typeof mutation.warp === 'string' ? mutation.warp === 'true' : mutation.warp;\n      if (warp) {\n        compiler.state.isWarp = true;\n      }\n    },\n  };\n  hatLibrary['speech2text_whenIHearHat'] = {\n    handle(util) {\n      util.stage.initSpeech2Text();\n      if (util.stage.speech2text) {\n        const PHRASE = util.getInput('PHRASE', 'string');\n        const phraseFunction = `return ${PHRASE}`;\n        util.stage.speech2text.addHat({\n          target: util.target,\n          startingFunction: util.startingFunction,\n          phraseFunction: P.runtime.createContinuation(phraseFunction),\n        });\n      }\n    },\n  };\n\n  /* Watchers */\n  watcherLibrary['data_variable'] = {\n    init(watcher) {\n      const name = watcher.params.VARIABLE;\n      watcher.target.watchers[name] = watcher;\n    },\n    set(watcher, value) {\n      const name = watcher.params.VARIABLE;\n      watcher.target.vars[name] = value;\n    },\n    evaluate(watcher) {\n      const name = watcher.params.VARIABLE;\n      return watcher.target.vars[name];\n    },\n    getLabel(watcher) {\n      return watcher.params.VARIABLE;\n    },\n  };\n  watcherLibrary['looks_backdropnumbername'] = {\n    evaluate(watcher) {\n      const target = watcher.stage;\n      const param = watcher.params.NUMBER_NAME;\n      if (param === 'number') {\n        return target.currentCostumeIndex + 1;\n      } else {\n        return target.costumes[target.currentCostumeIndex].name;\n      }\n    },\n    getLabel(watcher) {\n      return 'backdrop ' + watcher.params.NUMBER_NAME;\n    },\n  };\n  watcherLibrary['looks_costumenumbername'] = {\n    evaluate(watcher) {\n      const target = watcher.target;\n      const param = watcher.params.NUMBER_NAME;\n      if (param === 'number') {\n        return target.currentCostumeIndex + 1;\n      } else {\n        return target.costumes[target.currentCostumeIndex].name;\n      }\n    },\n    getLabel(watcher) {\n      return 'costume ' + watcher.params.NUMBER_NAME;\n    },\n  };\n  watcherLibrary['looks_size'] = {\n    evaluate(watcher) { return P.core.isSprite(watcher.target) ? watcher.target.scale * 100 : 100; },\n    getLabel() { return 'size'; },\n  };\n  watcherLibrary['motion_direction'] = {\n    evaluate(watcher) { return P.core.isSprite(watcher.target) ? watcher.target.direction : 0; },\n    getLabel() { return 'direction'; },\n  };\n  watcherLibrary['motion_xposition'] = {\n    evaluate(watcher) { return watcher.target.scratchX; },\n    getLabel() { return 'x position'; },\n  };\n  watcherLibrary['motion_yposition'] = {\n    evaluate(watcher) { return watcher.target.scratchY; },\n    getLabel() { return 'y position'; },\n  };\n  watcherLibrary['music_getTempo'] = {\n    evaluate(watcher) { return watcher.stage.tempoBPM; },\n    getLabel() { return 'Music: tempo'; },\n  };\n  watcherLibrary['sensing_answer'] = {\n    evaluate(watcher) { return watcher.stage.answer; },\n    getLabel() { return 'answer'; },\n  };\n  watcherLibrary['sensing_current'] = {\n    evaluate(watcher) {\n      const param = watcher.params.CURRENTMENU.toLowerCase();\n      switch (param) {\n        case 'year': return new Date().getFullYear();\n        case 'month': return new Date().getMonth() + 1;\n        case 'date': return new Date().getDate();\n        case 'dayofweek': return new Date().getDay() + 1;\n        case 'hour': return new Date().getHours();\n        case 'minute': return new Date().getMinutes();\n        case 'second': return new Date().getSeconds();\n      }\n      return 0;\n    },\n    getLabel(watcher) {\n      const param = watcher.params.CURRENTMENU.toLowerCase();\n      // all expected params except DAYOFWEEK can just be lowercased and used directly\n      if (param === 'dayofweek') {\n        return 'day of week';\n      }\n      return param;\n    }\n  };\n  watcherLibrary['sensing_loudness'] = {\n    init(watcher) {\n      watcher.stage.initLoudness();\n    },\n    evaluate(watcher) {\n      if (watcher.stage.microphone) {\n        return watcher.stage.microphone.getLoudness();\n      } else {\n        return -1;\n      }\n    },\n    getLabel() { return 'loudness'; },\n  };\n  watcherLibrary['sensing_timer'] = {\n    evaluate(watcher) {\n      return (watcher.stage.runtime.now() - watcher.stage.runtime.timerStart) / 1000;\n    },\n    getLabel() { return 'timer'; },\n  };\n  watcherLibrary['sensing_username'] = {\n    evaluate(watcher) { return watcher.stage.username; },\n    getLabel() { return 'username'; },\n  };\n  watcherLibrary['sound_volume'] = {\n    evaluate(watcher) { return watcher.target.volume * 100; },\n    getLabel() { return 'volume'; },\n  };\n  watcherLibrary['speech2text_getSpeech'] = {\n    init(watcher) {\n      watcher.stage.initSpeech2Text();\n    },\n    evaluate(watcher) {\n      if (watcher.stage.speech2text) {\n        return watcher.stage.speech2text.speech;\n      }\n      return '';\n    },\n    getLabel(watcher) { return 'Speech to text: speech'; },\n  };\n}());\n","/// <reference path=\"../phosphorus.ts\" />\n\nnamespace P.ext {\n  export abstract class Extension {\n    public stage: P.core.Stage;\n\n    constructor(stage: P.core.Stage) {\n      this.stage = stage;\n    }\n\n    /**\n     * Delete this extension.\n     */\n    destroy() {\n\n    }\n\n    /**\n     * Called when the project is started or resumed\n     */\n    onstart() {\n\n    }\n\n    /**\n     * Called when the project is paused\n     */\n    onpause() {\n\n    }\n  }\n}\n","/// <reference path=\"extension.ts\" />\n\n/*!\nParts of this file (microphone.ts) are derived from https://github.com/LLK/scratch-audio/blob/develop/src/Loudness.js\n*/\n\nnamespace P.ext.microphone {\n  const enum MicrophoneState {\n    Disconnected = 0,\n    Connected = 1,\n    Connecting = 2,\n    Error = 3,\n  }\n\n  interface MicrophoneData {\n    source: MediaStreamAudioSourceNode;\n    stream: MediaStream;\n    analyzer: AnalyserNode;\n    dataArray: Float32Array;\n    lastValue: number;\n    lastCheck: number;\n  }\n\n  let microphone: MicrophoneData | null = null;\n  let state: MicrophoneState = MicrophoneState.Disconnected;\n\n  // The loudness will be cached for this long, in milliseconds.\n  // getLoudness() has side effects (such as affecting smoothing) so a cache is needed.\n  const CACHE_TIME = 1000 / 30;\n\n  /**\n   * Begin the process of connecting to the microphone.\n   */\n  function connect() {\n    if (state !== MicrophoneState.Disconnected) {\n      return;\n    }\n    if (!P.audio.context) {\n      console.warn('Cannot connect to microphone without audio context.');\n      state = MicrophoneState.Error;\n      return;\n    }\n\n    state = MicrophoneState.Connecting;\n    navigator.mediaDevices.getUserMedia({audio: true})\n      .then((mediaStream) => {\n        const source = P.audio.context!.createMediaStreamSource(mediaStream);\n        const analyzer = P.audio.context!.createAnalyser();\n        source.connect(analyzer);\n        microphone = {\n          source: source,\n          stream: mediaStream,\n          analyzer,\n          dataArray: new Float32Array(analyzer.fftSize),\n          lastValue: -1,\n          lastCheck: 0,\n        };\n        state = MicrophoneState.Connected;\n      })\n    .catch((err) => {\n      console.warn('Cannot connect to microphone: ' + err);\n      state = MicrophoneState.Error;\n    });\n  }\n\n  /**\n   * Re-initializes the analyser node.\n   * This is necessary due to (what seems to be) a bug in Chrome.\n   */\n  function reinitAnalyser() {\n    // For some reason, when AudioContext.suspend() is called, all analyser nodes stop working in Chrome.\n    // getFloatTimeDomainData() will always return the same data, which isn't any good.\n    // This will fix that by creating a new analyser when the old one cannot be trusted.\n\n    if (!microphone) {\n      throw new Error('Microphone not connected; cannot re-init something that does not exist!')\n    }\n\n    const analyzer = P.audio.context!.createAnalyser();\n    microphone.source.disconnect();\n    microphone.source.connect(analyzer);\n    microphone.analyzer = analyzer;\n\n    // It's possible fftSize might change with this new analyser\n    if (microphone.dataArray.length !== analyzer.fftSize) {\n      microphone.dataArray = new Float32Array(analyzer.fftSize);\n    }\n  }\n\n  /**\n   * @returns The volume level from 0-100 or -1 if the microphone is not active.\n   */\n  function getLoudness(): number {\n    if (microphone === null) {\n      connect();\n      return -1;\n    }\n    if (!microphone.stream.active) {\n      return -1;\n    }\n\n    if (Date.now() - microphone.lastCheck < CACHE_TIME) {\n      return microphone.lastValue;\n    }\n\n    microphone.analyzer.getFloatTimeDomainData(microphone.dataArray);\n    let sum = 0;\n    for (let i = 0; i < microphone.dataArray.length; i++){\n      sum += Math.pow(microphone.dataArray[i], 2);\n    }\n    let rms = Math.sqrt(sum / microphone.dataArray.length);\n    if (microphone.lastValue !== -1) {\n      rms = Math.max(rms, microphone.lastValue * 0.6);\n    }\n    microphone.lastValue = rms;\n\n    rms *= 1.63;\n    rms = Math.sqrt(rms);\n    rms = Math.round(rms * 100);\n    rms = Math.min(rms, 100);\n\n    return rms;\n  }\n\n  export class MicrophoneExtension extends P.ext.Extension {\n    getLoudness() {\n      return getLoudness();\n    }\n\n    onstart() {\n      if (microphone) {\n        reinitAnalyser();\n      }\n    }\n  }\n}\n","/// <reference path=\"extension.ts\" />\n\nnamespace P.ext.speech2text {\n  // Currently only Chrome supports SpeechRecognition with the webkit prefix.\n  var SpeechRecognition = window.SpeechRecognition || (window as any).webkitSpeechRecognition || (window as any).mozSpeechRecognition || (window as any).msSpeechRecognition;\n\n  let supported: null | boolean = null;\n  export function isSupported(): boolean {\n    if (supported === null) {\n      supported = typeof SpeechRecognition !== 'undefined';\n      if (!supported) {\n        console.warn('Speech to text is not supported in this browser. (https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition)');\n      }\n    }\n    return supported;\n  }\n\n  interface SpeechToTextHat {\n    target: P.core.Base;\n    startingFunction: P.runtime.Fn;\n    phraseFunction: () => any;\n  }\n\n  export class SpeechToTextExtension extends P.ext.Extension {\n    public speech: string = '';\n\n    private recognition: SpeechRecognition;\n    private lastResultIndex: number;\n    private listeners: number = 0;\n    private overlayElement: HTMLElement;\n    private hats: SpeechToTextHat[] = [];\n\n    constructor(stage: P.core.Stage) {\n      super(stage);\n      this.initRecognition();\n      this.initOverlay();\n    }\n\n    private initRecognition() {\n      this.recognition = new SpeechRecognition();\n      this.recognition.lang = 'en-US';\n      this.recognition.continuous = true;\n      this.recognition.onresult = (event) => this.onresult(event);\n      this.recognition.onerror = (event) => {\n        // Abort is expected when this extension is destroyed.\n        if (event.error !== 'aborted') {\n          console.error('speech2text error', event);\n        }\n      };\n      this.recognition.onend = () => {\n        console.warn('speech2text disconnected, reconnecting');\n        this.initRecognition();\n      };\n      this.recognition.start();\n    }\n\n    private initOverlay() {\n      if (this.overlayElement) {\n        throw new Error('initializing overlay twice');\n      }\n\n      const container = document.createElement('div');\n      container.className = 'speech2text-container';\n\n      const indicator = document.createElement('div');\n      indicator.className = 'speech2text-indicator';\n\n      const animation = document.createElement('div');\n      animation.className = 'speech2text-animation';\n\n      container.appendChild(animation);\n      container.appendChild(indicator);\n\n      this.stage.ui.appendChild(container);\n      this.overlayElement = container;\n    }\n\n    private onresult(event: SpeechRecognitionEvent) {\n      this.lastResultIndex = event.resultIndex;\n      const lastResult = event.results[event.resultIndex];\n      const message = lastResult[0];\n      const transcript = message.transcript.trim();\n      // Only update the speech value when someone is actually listening\n      if (this.listeners !== 0) {\n        this.speech = transcript;\n      }\n      // Trigger our hat blocks, if any.\n      for (const hat of this.hats) {\n        const target = hat.target;\n        const phraseFunction = hat.phraseFunction;\n        const startingFunction = hat.startingFunction;\n        const value = this.stage.runtime.evaluateExpression(target, phraseFunction);\n        if (value === transcript) {\n          this.stage.runtime.startThread(target, startingFunction);\n        }\n      }\n    }\n\n    /**\n     * Add a new hat block listener\n     */\n    addHat(hat: SpeechToTextHat) {\n      this.hats.push(hat);\n    }\n\n    /**\n     * Should be called at the start of \"listen and wait\"\n     */\n    startListen() {\n      this.listeners++;\n      this.overlayElement.setAttribute('listening', '');\n    }\n\n    /**\n     * Should be called at the end of \"listen and wait\"\n     */\n    endListen() {\n      this.listeners--;\n      if (this.listeners === 0) {\n        this.overlayElement.removeAttribute('listening');\n      }\n    }\n\n    /**\n     * Delete this extension.\n     */\n    destroy() {\n      this.recognition.abort();\n    }\n\n    /**\n     * Get the ID of the current message.\n     */\n    id() {\n      return this.lastResultIndex;\n    }\n  }\n}"]}